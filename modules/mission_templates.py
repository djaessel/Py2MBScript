# This Python file uses the following encoding: utf-8

import sys
sys.path.append("../data_objects/")

import items as itm
from mission_template import MissionTemplate, SpawnRecord, AIFlag, AlterFlag, SpawnFlag, MissionTemplateFlag

import header_triggers as tri
from trigger import Trigger



town_default = MissionTemplate("town_default", description="Default town visit")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.addItem(itm.pilgrim_hood)
sr0.addItem(itm.pilgrim_disguise)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.throwing_daggers)
town_default.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
town_default.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
town_default.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
town_default.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_default.addSpawnRecord(sr31)
# ---
# trigger 0
trigger0 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    cur_scene_001 = store_current_scene()
    scene_set_slot(cur_scene_001,0,1)
    if _sneaked_into_town == 1:
        music_set_situation_with_culture(16384)
    elif _talk_context == 14:
        music_set_situation_with_culture(512)
    else:
        music_set_situation_with_culture(8192)
    #end
trigger0.codeBlock = code
town_default.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    change_banners_and_chest()
    initialize_tavern_variables()
trigger1.codeBlock = code
town_default.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
town_default.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if _g_belligerent_drunk_leaving > 0:
        pos0 = entry_point_get_position(0)
        pos1 = agent_get_position(_g_belligerent_drunk_leaving)
        distance_001 = get_distance_between_positions(0,1)
        if distance_001 <= 150:
            pass
trigger3.conditionBlock = condition

def code():
    agent_fade_out(_g_belligerent_drunk_leaving)
    _g_belligerent_drunk_leaving = 0
trigger3.codeBlock = code
town_default.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    if _g_main_attacker_agent == 0:
        set_trigger_result(1)
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
town_default.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    if not conversation_screen_is_active() and _talk_context == 14 and not troop_slot_eq(trp.hired_assassin,12,_g_encountered_party) and troop_slot_eq(trp.belligerent_drunk,12,_g_encountered_party) and _drunks_dont_pick_fights == 0:
        pass
trigger5.conditionBlock = condition

def code():
    if _g_start_belligerent_drunk_fight == 0:
        _g_start_belligerent_drunk_fight = 1
        for cur_agent in __all_agents__:
            troop_id_002 = agent_get_troop_id(cur_agent)
            if troop_id_002 == trp.belligerent_drunk:
                _g_belligerent_drunk = cur_agent
            #end
        #end
    elif _g_start_belligerent_drunk_fight == 1 and agent_is_active(_g_belligerent_drunk) and agent_is_alive(_g_belligerent_drunk):
        agent_no_003 = get_player_agent_no()
        pos0 = agent_get_position(agent_no_003)
        pos1 = agent_get_position(_g_belligerent_drunk)
        distance_004 = get_distance_between_positions(0,1)
        pos_z_005 = position_get_z(0)
        pos_z_006 = position_get_z(1)
        var007 = pos_z_006 - pos_z_005
        if var007 <= 0:
            var007 *= -1
        #end
        var008 = var007 * 3
        distance_004 += var008
        random_x_009 = store_random_in_range(0,200)
        var010 = 400 + random_x_009
        if distance_004 <= var010:
            activate_tavern_attackers()
            start_mission_conversation(trp.belligerent_drunk)
            _g_start_belligerent_drunk_fight = 2
        #end
    #end
trigger5.codeBlock = code
town_default.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    if not conversation_screen_is_active() and _talk_context == 14 and troop_slot_eq(trp.hired_assassin,12,_g_encountered_party):
        pass
trigger6.conditionBlock = condition

def code():
    if _g_start_hired_assassin_fight == 0:
        _g_start_hired_assassin_fight = 1
        for cur_agent in __all_agents__:
            troop_id_002 = agent_get_troop_id(cur_agent)
            if troop_id_002 == trp.hired_assassin:
                _g_hired_assassin = cur_agent
            #end
        #end
    elif _g_start_hired_assassin_fight == 1 and agent_is_active(_g_hired_assassin) and agent_is_alive(_g_hired_assassin):
        agent_no_003 = get_player_agent_no()
        pos0 = agent_get_position(agent_no_003)
        pos1 = agent_get_position(_g_hired_assassin)
        distance_004 = get_distance_between_positions(0,1)
        pos_z_005 = position_get_z(0)
        pos_z_006 = position_get_z(1)
        var007 = pos_z_006 - pos_z_005
        if var007 <= 0:
            var007 *= -1
        #end
        var008 = var007 * 3
        distance_004 += var008
        random_x_009 = store_random_in_range(0,200)
        var010 = 400 + random_x_009
        if distance_004 <= var010:
            activate_tavern_attackers()
            _g_start_hired_assassin_fight = 2
        #end
    #end
trigger6.codeBlock = code
town_default.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(3.000000, 0.000000, 100000000.000000)
def condition():
    if not conversation_screen_is_active() and _talk_context == 14 and _g_main_attacker_agent > 0 and agent_is_alive(_g_main_attacker_agent) or agent_is_wounded(_g_main_attacker_agent):
        pass
trigger7.conditionBlock = condition

def code():
    mission_enable_talk()
    for cur_agent in __all_agents__:
        if agent_is_alive(cur_agent):
            pos4 = agent_get_position(cur_agent)
            agent_set_scripted_destination(cur_agent,4)
        #end
    #end
    party_slot_002 = party_get_slot(_g_encountered_party,20)
    start_mission_conversation(party_slot_002)
trigger7.codeBlock = code
town_default.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(3.000000, 0.000000, 100000000.000000)
def condition():
    if not conversation_screen_is_active() and _talk_context == 14 and _g_main_attacker_agent > 0 and main_hero_fallen():
        pass
trigger8.conditionBlock = condition

def code():
    jump_to_menu(mnu.lost_tavern_duel)
    finish_mission(0)
trigger8.codeBlock = code
town_default.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if not conversation_screen_is_active() and _talk_context == 14 and _g_main_attacker_agent > 0:
        agent_no_001 = get_player_agent_no()
        if agent_is_alive(agent_no_001):
            agent_wieled_item_002 = agent_get_wielded_item(agent_no_001,0)
            if is_between(agent_wieled_item_002,itm.darts,itm.torch) and agent_wieled_item_002 != itm.javelin_melee and agent_wieled_item_002 != itm.throwing_spear_melee and agent_wieled_item_002 != itm.jarid_melee and agent_wieled_item_002 != itm.light_throwing_axes_melee and agent_wieled_item_002 != itm.throwing_axes_melee and agent_wieled_item_002 != itm.heavy_throwing_axes_melee:
                pass
trigger9.conditionBlock = condition

def code():
    agent_no_001 = party_get_slot(_g_encountered_party,20)
    start_mission_conversation(agent_no_001)
trigger9.codeBlock = code
town_default.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if _g_main_attacker_agent > 0:
        pass
trigger10.conditionBlock = condition

def code():
    agent_wieled_item_001 = agent_get_wielded_item(_g_main_attacker_agent,0)
    val_max(_g_attacker_drawn_weapon,agent_wieled_item_001)
    neutral_behavior_in_fight()
trigger10.codeBlock = code
town_default.add_trigger(trigger10)


conversation_encounter = MissionTemplate("conversation_encounter", description="Conversation encounter")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_FULLHELM)
conversation_encounter.addSpawnRecord(sr31)
# ---


town_center = MissionTemplate("town_center", description="Default town visit")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.addItem(itm.pilgrim_hood)
sr0.addItem(itm.pilgrim_disguise)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
town_center.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.addItem(itm.pilgrim_hood)
sr2.addItem(itm.pilgrim_disguise)
sr2.addItem(itm.practice_staff)
sr2.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.addItem(itm.pilgrim_hood)
sr3.addItem(itm.pilgrim_disguise)
sr3.addItem(itm.practice_staff)
sr3.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.addItem(itm.pilgrim_hood)
sr4.addItem(itm.pilgrim_disguise)
sr4.addItem(itm.practice_staff)
sr4.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.addItem(itm.pilgrim_hood)
sr5.addItem(itm.pilgrim_disguise)
sr5.addItem(itm.practice_staff)
sr5.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.addItem(itm.pilgrim_hood)
sr6.addItem(itm.pilgrim_disguise)
sr6.addItem(itm.practice_staff)
sr6.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.addItem(itm.pilgrim_hood)
sr7.addItem(itm.pilgrim_disguise)
sr7.addItem(itm.practice_staff)
sr7.addItem(itm.throwing_daggers)
town_center.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
town_center.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
town_center.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
town_center.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_center.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
town_center.addSpawnRecord(sr47)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    _talk_context_list1 = [
    18,
    19,
    ]
    init_town_agent(var001)
    if _talk_context in _talk_context_list1:
        troop_id_002 = agent_get_troop_id(var001)
        if troop_slot_eq(troop_id_002,161,1):
            agent_set_team(var001,0)
            agent_ai_set_aggressiveness(var001,5)
            troop_set_slot(troop_id_002,161,0)
            if troop_slot_eq(troop_id_002,149,3):
                pos1 = agent_get_position(var001)
                agent_set_scripted_destination(var001,1)
            #end
        #end
    #end
trigger0.codeBlock = code
town_center.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    _g_main_attacker_agent = 0
trigger1.codeBlock = code
town_center.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    if _g_mt_mode == 0:
        cur_scene_001 = store_current_scene()
        scene_set_slot(cur_scene_001,0,1)
    #end
    init_town_walker_agents()
    if _sneaked_into_town == 1:
        music_set_situation_with_culture(16384)
    else:
        music_set_situation_with_culture(8192)
    #end
trigger2.codeBlock = code
town_center.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger3.codeBlock = code
town_center.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    if _g_mt_mode == 0:
        set_trigger_result(1)
    elif _g_mt_mode == 1:
        print(gstr.cant_use_inventory_disguised)
    else:
        print(gstr.cant_use_inventory_now)
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
town_center.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    _g_mt_mode_list2 = [
    1,
    0,
    ]
    _talk_context_list1 = [
    18,
    19,
    ]
    if _talk_context in _talk_context_list1:
        print(gstr.cannot_leave_now)
    elif _g_mt_mode in _g_mt_mode_list2:
        mission_enable_talk()
        set_trigger_result(1)
    else:
        print(gstr.cannot_leave_now)
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
town_center.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-30.000000, 0.000000, 0.000000)
def condition():
    if _g_defending_against_siege == 0:
        _g_leave_town = 1
    #end
trigger6.conditionBlock = condition

def code():
    if _talk_context == 19:
        deduct_casualties_from_garrison()
        jump_to_menu(mnu.sneak_into_town_caught_dispersed_guards)
    #end
    mission_enable_talk()
trigger6.codeBlock = code
town_center.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    if party_slot_eq(_current_town,0,3):
        town_init_doors(0)
        if _town_nighttime == 0:
            play_sound(snd.town_ambiance,2)
        #end
    #end
trigger7.codeBlock = code
town_center.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    tick_town_walkers()
trigger8.conditionBlock = condition

def code():
    pass
trigger8.codeBlock = code
town_center.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    center_ambiance_sounds()
trigger9.conditionBlock = condition

def code():
    pass
trigger9.codeBlock = code
town_center.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    _talk_context_list1 = [
    19,
    18,
    ]
    if _talk_context in _talk_context_list1:
        pass
trigger10.conditionBlock = condition

def code():
    neutral_behavior_in_fight()
    mission_disable_talk()
trigger10.codeBlock = code
town_center.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    if _talk_context == 19:
        pass
trigger11.conditionBlock = condition

def code():
    agent_no_001 = get_player_agent_no()
    reg6 = agent_no_001
    activate_town_guard()
    agent_no_001 = get_player_agent_no()
    pos4 = agent_get_position(agent_no_001)
    for trp_002 in range(trp.npc1, trp.heroes_end):
        if troop_slot_ge(trp_002,149,2):
            s4 = str_store_troop_name(trp_002)
            print(gstr.s4_joins_prison_break)
            cur_scene_003 = store_current_scene()
            modify_visitors_at_site(cur_scene_003)
            cur_scene_003 = store_current_scene()
            modify_visitors_at_site(cur_scene_003)
            add_visitors_to_current_scene(24,trp_002,1,0,0)
            troop_set_slot(trp_002,161,1)
        #end
    #end
trigger11.codeBlock = code
town_center.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if main_hero_fallen(0):
        pass
trigger12.conditionBlock = condition

def code():
    _talk_context_list1 = [
    19,
    18,
    ]
    if _talk_context in _talk_context_list1:
        deduct_casualties_from_garrison()
        jump_to_menu(mnu.captivity_start_castle_defeat)
        var001 = trp.heroes_end
        for troop_id_002 in range(trp.npc1, var001):
            troop_set_slot(troop_id_002,149,0)
        #end
        mission_enable_talk()
        finish_mission(0)
    else:
        set_trigger_result(1)
    #end
trigger12.codeBlock = code
town_center.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if _talk_context == 19 and not main_hero_fallen(0):
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10 and all_enemies_defeated():
            pass
trigger13.conditionBlock = condition

def code():
    deduct_casualties_from_garrison()
    for m_timer_a_001 in __all_agents__:
        troop_id_002 = agent_get_troop_id(m_timer_a_001)
        if troop_slot_ge(troop_id_002,149,2):
            if agent_is_alive(m_timer_a_001):
                troop_set_slot(troop_id_002,149,4)
            else:
                troop_set_slot(troop_id_002,149,5)
            #end
        #end
    #end
    jump_to_menu(mnu.sneak_into_town_caught_ran_away)
    mission_enable_talk()
    finish_mission(0)
trigger13.codeBlock = code
town_center.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code(var001, var002):
    troop_id_003 = agent_get_troop_id(var001)
    troop_id_004 = agent_get_troop_id(var002)
    if troop_id_003 == trp.swadian_prison_guard or troop_id_003 == trp.vaegir_prison_guard or troop_id_003 == trp.khergit_prison_guard or troop_id_003 == trp.nord_prison_guard or troop_id_003 == trp.rhodok_prison_guard or troop_id_003 == trp.sarranid_prison_guard and troop_id_004 == trp.player:
        print("@You got keys of dungeon.")
    #end
trigger14.codeBlock = code
town_center.add_trigger(trigger14)


village_center = MissionTemplate("village_center", description="village center")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
village_center.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
village_center.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
village_center.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
village_center.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
village_center.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
village_center.addSpawnRecord(sr47)
# ---
# trigger 0
trigger0 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    cur_scene_001 = store_current_scene()
    scene_set_slot(cur_scene_001,0,1)
    init_town_walker_agents()
    music_set_situation_with_culture(65536)
trigger0.codeBlock = code
village_center.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger1.codeBlock = code
village_center.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
village_center.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    if check_quest_active(qst.hunt_down_fugitive) and not check_quest_succeeded(qst.hunt_down_fugitive) and not check_quest_failed(qst.hunt_down_fugitive) and quest_slot_eq(qst.hunt_down_fugitive,11,1):
        if cf_troop_agent_is_alive(trp.fugitive):
            fail_quest(qst.hunt_down_fugitive)
        else:
            succeed_quest(qst.hunt_down_fugitive)
        #end
    #end
    set_trigger_result(1)
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
village_center.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-30.000000, 0.000000, 0.000000)
def condition():
    if True:
        _g_leave_town = 1
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
village_center.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    tick_town_walkers()
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
village_center.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    center_ambiance_sounds()
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
village_center.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    if check_quest_active(qst.hunt_down_fugitive) and not check_quest_succeeded(qst.hunt_down_fugitive) and not check_quest_failed(qst.hunt_down_fugitive) and quest_slot_eq(qst.hunt_down_fugitive,11,1):
        var001 = 0
        if call_script(script.cf_troop_agent_is_alive,trp.fugitive):
            pass
        else:
            var001 = 1
            if main_hero_fallen() or var001 == 1:
                pass
            #end
        #end
    #end
trigger7.conditionBlock = condition

def code():
    if main_hero_fallen():
        jump_to_menu(mnu.village_hunt_down_fugitive_defeated)
        fail_quest(qst.hunt_down_fugitive)
        finish_mission(4)
    else:
        change_player_relation_with_center(_current_town,-2)
        succeed_quest(qst.hunt_down_fugitive)
    #end
trigger7.codeBlock = code
village_center.add_trigger(trigger7)


bandits_at_night = MissionTemplate("bandits_at_night", description="Default town visit")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.pilgrim_hood)
sr0.addItem(itm.pilgrim_disguise)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.throwing_daggers)
bandits_at_night.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
bandits_at_night.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
bandits_at_night.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
bandits_at_night.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
bandits_at_night.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
bandits_at_night.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
bandits_at_night.addSpawnRecord(sr47)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    if troop_id_002 != trp.player:
        agent_set_team(var001,1)
trigger0.codeBlock = code
bandits_at_night.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger1.codeBlock = code
bandits_at_night.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
bandits_at_night.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
bandits_at_night.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-30.000000, 0.000000, 0.000000)
def condition():
    if _g_defending_against_siege == 0:
        _g_leave_town = 1
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
bandits_at_night.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    music_set_situation_with_culture(4096)
    set_party_battle_mode()
    if party_slot_eq(_current_town,0,3):
        town_init_doors(0)
trigger5.codeBlock = code
bandits_at_night.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 >= 5 and main_hero_fallen() or num_active_teams_le(1):
        pass
trigger6.conditionBlock = condition

def code():
    if main_hero_fallen():
        jump_to_menu(mnu.town_bandits_failed)
    else:
        jump_to_menu(mnu.town_bandits_succeeded)
    #end
    finish_mission()
trigger6.codeBlock = code
bandits_at_night.add_trigger(trigger6)


village_training = MissionTemplate("village_training", description="village training")
village_training.add_flag(MissionTemplateFlag.ARENA_FIGHT)
village_training.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=2, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.practice_boots)
village_training.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=4, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.practice_staff)
sr1.addItem(itm.practice_boots)
village_training.addSpawnRecord(sr1)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    _g_train_peasants_against_bandits_training_succeeded = 0
    change_banners_and_chest()
trigger0.codeBlock = code
village_training.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    question_box(gstr.give_up_fight)
trigger1.codeBlock = code
village_training.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission()
trigger2.codeBlock = code
village_training.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
village_training.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen() or num_active_teams_le(1):
        pass
trigger4.conditionBlock = condition

def code():
    if not main_hero_fallen():
        _g_train_peasants_against_bandits_training_succeeded = 1
    #end
    finish_mission()
trigger4.codeBlock = code
village_training.add_trigger(trigger4)


visit_town_castle = MissionTemplate("visit_town_castle", description="You enter the halls of the lord.")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
visit_town_castle.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
visit_town_castle.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
visit_town_castle.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
visit_town_castle.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr16.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr17.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr18.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr19.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr20.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr21.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr22.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr23.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr24.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr25.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr26.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr29.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr30.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr31.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
visit_town_castle.addSpawnRecord(sr31)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    init_town_agent(var001)
trigger0.codeBlock = code
visit_town_castle.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger1.codeBlock = code
visit_town_castle.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
visit_town_castle.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    if _talk_context != 18:
        set_trigger_result(1)
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
visit_town_castle.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-30.000000, 0.000000, 0.000000)
def condition():
    if _talk_context == 18:
        pass
trigger4.conditionBlock = condition

def code():
    print(gstr.leaving_area_during_prison_break)
    set_jump_mission(mt.sneak_caught_fight)
trigger4.codeBlock = code
visit_town_castle.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    if _talk_context == 1:
        if True:
            party_faction_001 = store_faction_of_party(_current_town)
            if faction_slot_eq(party_faction_001,4,6) and faction_slot_eq(party_faction_001,5,_current_town):
                music_set_situation_with_culture(16777216)
            #end
        #end
    else:
        music_set_situation_with_culture(0)
    #end
trigger5.codeBlock = code
visit_town_castle.add_trigger(trigger5)


back_alley_kill_local_merchant = MissionTemplate("back_alley_kill_local_merchant", description="You enter the back alley")
back_alley_kill_local_merchant.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
back_alley_kill_local_merchant.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=3, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
back_alley_kill_local_merchant.addSpawnRecord(sr1)
# ---
# trigger 0
trigger0 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger0.conditionBlock = condition

def code():
    pass
trigger0.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger2.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    music_set_situation_with_culture(4096)
trigger3.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 >= 1:
        agent_hit_points_002 = 0
        agent_hit_points_003 = 0
        agent_hit_points_002 = 0
        var004 = -1
        var005 = -1
        for cur_agent in __all_agents__:
            troop_id_007 = agent_get_troop_id(cur_agent)
            if troop_id_007 == trp.local_merchant:
                agent_hit_points_002 = store_agent_hit_points(cur_agent)
                var004 = cur_agent
            elif troop_id_007 == trp.player:
                agent_hit_points_003 = store_agent_hit_points(cur_agent)
                var005 = cur_agent
            #end
        #end
    #end
    if var005 >= 0 and var004 >= 0 and agent_is_alive(var005) and agent_is_alive(var004) and is_between(agent_hit_points_002,1,30) and agent_hit_points_003 > 50:
        start_mission_conversation(trp.local_merchant)
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    var001 = 0
    if call_script(script.cf_troop_agent_is_alive,trp.local_merchant):
        pass
    else:
        var001 = 1
        if main_hero_fallen() or var001 == 1:
            pass
        #end
    #end
trigger5.conditionBlock = condition

def code():
    if main_hero_fallen():
        fail_quest(qst.kill_local_merchant)
    else:
        change_player_relation_with_center(_current_town,-4)
        succeed_quest(qst.kill_local_merchant)
    #end
    finish_mission()
trigger5.codeBlock = code
back_alley_kill_local_merchant.add_trigger(trigger5)


back_alley_revolt = MissionTemplate("back_alley_revolt", missionType=8, description="You lead your men to battle.")
back_alley_revolt.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=4)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.quarter_staff)
back_alley_revolt.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=3, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
back_alley_revolt.addSpawnRecord(sr1)
# ---
# trigger 0
trigger0 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger0.conditionBlock = condition

def code():
    pass
trigger0.codeBlock = code
back_alley_revolt.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
back_alley_revolt.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    question_box(gstr.do_you_want_to_retreat)
trigger2.codeBlock = code
back_alley_revolt.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        jump_to_menu(mnu.collect_taxes_failed)
        finish_mission()
trigger3.codeBlock = code
back_alley_revolt.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
back_alley_revolt.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger5.codeBlock = code
back_alley_revolt.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    music_set_situation_with_culture(1024)
trigger6.codeBlock = code
back_alley_revolt.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen() or num_active_teams_le(1):
        pass
trigger7.conditionBlock = condition

def code():
    if main_hero_fallen():
        jump_to_menu(mnu.collect_taxes_failed)
    else:
        jump_to_menu(mnu.collect_taxes_rebels_killed)
    #end
    finish_mission()
trigger7.codeBlock = code
back_alley_revolt.add_trigger(trigger7)


lead_charge = MissionTemplate("lead_charge", missionType=8, description="You lead your men to battle.")
lead_charge.add_flag(MissionTemplateFlag.BATTLE_MODE)
lead_charge.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=1, number_of_troops=12)
sr0.add_spawn_flag(SpawnFlag.DEFENDERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
lead_charge.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=0, number_of_troops=0)
sr1.add_spawn_flag(SpawnFlag.DEFENDERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
lead_charge.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=4, number_of_troops=12)
sr2.add_spawn_flag(SpawnFlag.ATTACKERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_ai_flag(AIFlag.START_ALARMED)
lead_charge.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=4, number_of_troops=0)
sr3.add_spawn_flag(SpawnFlag.ATTACKERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_ai_flag(AIFlag.START_ALARMED)
lead_charge.addSpawnRecord(sr3)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(agent_id_001):
    agent_reassign_team(agent_id_001)
    var002 = 5000
    troop_id_003 = agent_get_troop_id(agent_id_001)
    character_lvl_004 = store_character_level(troop_id_003)
    character_lvl_004 *= 35
    var002 += character_lvl_004
    random_x_005 = store_random_in_range(0,3000)
    var002 += random_x_005
    party_id_006 = agent_get_party_id(agent_id_001)
    party_morale_007 = party_get_morale(party_id_006)
    var008 = party_morale_007 - 70
    var008 *= 30
    var002 += var008
    agent_set_slot(agent_id_001,16,var002)
trigger0.codeBlock = code
lead_charge.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
lead_charge.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001, var002, var003):
    if var001 >= 0 and not agent_is_ally(var001) and agent_is_human(var001):
        troop_id_004 = agent_get_troop_id(var001)
        party_add_members(p.total_enemy_casualties,troop_id_004,1)
        if var003 == 1:
            party_wound_members(p.total_enemy_casualties,troop_id_004,1)
        #end
    #end
    apply_death_effect_on_courage_scores(var001,var002)
trigger2.codeBlock = code
lead_charge.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger3.codeBlock = code
lead_charge.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        if True:
            m_timer_a_002 = store_mission_timer_a()
            if m_timer_a_002 > 20:
                s5 = str_store_string(gstr.retreat)
                simulate_retreat(10,20,1)
            #end
        #end
    #end
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger4.codeBlock = code
lead_charge.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    team_set_relation(0,2,1)
    team_set_relation(1,3,1)
    place_player_banner_near_inventory_bms()
    party_clear(p.routed_enemies)
    _g_latest_order_1 = 1
    _g_latest_order_2 = 1
    _g_latest_order_3 = 1
    _g_latest_order_4 = 1
trigger5.codeBlock = code
lead_charge.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    _g_battle_won = 0
    _defender_reinforcement_stage = 0
    _attacker_reinforcement_stage = 0
    place_player_banner_near_inventory()
    combat_music_set_situation_with_culture()
    _g_defender_reinforcement_limit = 2
trigger6.codeBlock = code
lead_charge.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger7.codeBlock = code
lead_charge.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    check_friendly_kills()
trigger8.codeBlock = code
lead_charge.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    party_count_members_with_full_health(p.collective_enemy)
    var001 = reg0
    var002 = 0
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent):
            party_id_004 = agent_get_party_id(cur_agent)
            if party_id_004 != p.main_party and not agent_is_ally(cur_agent):
                var002 += 1
            #end
        #end
    #end
    var005 = var001 - var002
    if var005 < 15 and _defender_reinforcement_stage >= 2 and _defender_reinforcement_limit_increased == 0:
        _g_defender_reinforcement_limit += 1
        _defender_reinforcement_limit_increased = 1
    #end
    if _defender_reinforcement_stage < _g_defender_reinforcement_limit:
        m_timer_a_006 = store_mission_timer_a()
        if m_timer_a_006 >= 10:
            normalized_team_count_007 = store_normalized_team_count(0)
            if normalized_team_count_007 < 6:
                pass
trigger9.conditionBlock = condition

def code():
    add_reinforcements_to_entry(0,7)
    _defender_reinforcement_limit_increased = 0
    _defender_reinforcement_stage += 1
trigger9.codeBlock = code
lead_charge.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    if _attacker_reinforcement_stage < 2:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            normalized_team_count_002 = store_normalized_team_count(1)
            if normalized_team_count_002 < 6:
                pass
trigger10.conditionBlock = condition

def code():
    add_reinforcements_to_entry(3,7)
    _attacker_reinforcement_stage += 1
trigger10.codeBlock = code
lead_charge.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger11.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger11.codeBlock = code
lead_charge.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger12.codeBlock = code
lead_charge.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger13.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(10,20,1)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger13.codeBlock = code
lead_charge.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger14.codeBlock = code
lead_charge.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 >= 2:
        pass
trigger15.conditionBlock = condition

def code():
    select_battle_tactic()
    battle_tactic_init()
trigger15.codeBlock = code
lead_charge.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    apply_effect_of_other_people_on_courage_scores()
trigger16.conditionBlock = condition

def code():
    pass
trigger16.codeBlock = code
lead_charge.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
            m_timer_a_002 = store_mission_timer_a()
            if m_timer_a_002 >= 3:
                decide_run_away_or_not(cur_agent,m_timer_a_002)
            #end
        #end
    #end
trigger17.conditionBlock = condition

def code():
    pass
trigger17.codeBlock = code
lead_charge.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(5.000000, 0.000000, 0.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 >= 3:
        battle_tactic_apply()
trigger18.conditionBlock = condition

def code():
    pass
trigger18.codeBlock = code
lead_charge.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger19.codeBlock = code
lead_charge.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger20.codeBlock = code
lead_charge.add_trigger(trigger20)


village_attack_bandits = MissionTemplate("village_attack_bandits", missionType=8, description="You lead your men to battle.")
village_attack_bandits.add_flag(MissionTemplateFlag.BATTLE_MODE)
village_attack_bandits.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=3, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_ai_flag(AIFlag.START_ALARMED)
village_attack_bandits.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=7)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr1.add_ai_flag(AIFlag.START_ALARMED)
village_attack_bandits.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=1, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
village_attack_bandits.addSpawnRecord(sr2)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger0.codeBlock = code
village_attack_bandits.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
village_attack_bandits.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(10,20,1)
        _g_battle_result = -1
        count_mission_casualties_from_agents()
        finish_mission(0)
trigger2.codeBlock = code
village_attack_bandits.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_battle_won = 0
    _defender_reinforcement_stage = 0
    _attacker_reinforcement_stage = 0
    if _g_mt_mode == 2:
        add_reinforcements_to_entry(1,6)
    else:
        add_reinforcements_to_entry(1,29)
    #end
    combat_music_set_situation_with_culture()
trigger3.codeBlock = code
village_attack_bandits.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger4.codeBlock = code
village_attack_bandits.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    check_friendly_kills()
trigger5.codeBlock = code
village_attack_bandits.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger6.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger6.codeBlock = code
village_attack_bandits.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger7.codeBlock = code
village_attack_bandits.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger8.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(10,20,1)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger8.codeBlock = code
village_attack_bandits.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger9.codeBlock = code
village_attack_bandits.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger10.codeBlock = code
village_attack_bandits.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger11.codeBlock = code
village_attack_bandits.add_trigger(trigger11)


village_raid = MissionTemplate("village_raid", missionType=8, description="You lead your men to battle.")
village_raid.add_flag(MissionTemplateFlag.BATTLE_MODE)
village_raid.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=3, number_of_troops=12)
sr0.add_spawn_flag(SpawnFlag.DEFENDERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
village_raid.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=3, number_of_troops=0)
sr1.add_spawn_flag(SpawnFlag.DEFENDERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
village_raid.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=1, number_of_troops=12)
sr2.add_spawn_flag(SpawnFlag.ATTACKERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_ai_flag(AIFlag.START_ALARMED)
village_raid.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=1, number_of_troops=0)
sr3.add_spawn_flag(SpawnFlag.ATTACKERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_ai_flag(AIFlag.START_ALARMED)
village_raid.addSpawnRecord(sr3)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger0.codeBlock = code
village_raid.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
village_raid.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(10,20,1)
        count_mission_casualties_from_agents()
        finish_mission(0)
trigger2.codeBlock = code
village_raid.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_battle_won = 0
    _defender_reinforcement_stage = 0
    _attacker_reinforcement_stage = 0
    combat_music_set_situation_with_culture()
trigger3.codeBlock = code
village_raid.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger4.codeBlock = code
village_raid.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    check_friendly_kills()
trigger5.codeBlock = code
village_raid.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    if _defender_reinforcement_stage < 2:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            if normalized_team_count_002 < 6:
                normalized_team_count_002 = store_normalized_team_count(0)
trigger6.conditionBlock = condition

def code():
    add_reinforcements_to_entry(0,6)
    _defender_reinforcement_stage += 1
trigger6.codeBlock = code
village_raid.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    if _attacker_reinforcement_stage < 2:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            if normalized_team_count_002 < 6:
                normalized_team_count_002 = store_normalized_team_count(1)
trigger7.conditionBlock = condition

def code():
    add_reinforcements_to_entry(3,6)
    _attacker_reinforcement_stage += 1
trigger7.codeBlock = code
village_raid.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        if _g_village_raid_evil == 0:
            play_victorious_sound()
        else:
            play_track(track.victorious_evil,1)
        #end
    #end
trigger8.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger8.codeBlock = code
village_raid.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger9.codeBlock = code
village_raid.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger10.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(10,20,1)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger10.codeBlock = code
village_raid.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger11.codeBlock = code
village_raid.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger12.codeBlock = code
village_raid.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger13.codeBlock = code
village_raid.add_trigger(trigger13)


besiege_inner_battle_castle = MissionTemplate("besiege_inner_battle_castle", description="You attack the walls of the castle...")
besiege_inner_battle_castle.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.ATTACKERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=6, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.ATTACKERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=7, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.ATTACKERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=16, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.DEFENDERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=17, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.DEFENDERS)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=18, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.DEFENDERS)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=19, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.DEFENDERS)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=20, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.DEFENDERS)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_castle.addSpawnRecord(sr7)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger0.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger1.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger2.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(5,20,0)
        _g_battle_result = -1
        set_mission_result(-1)
        count_mission_casualties_from_agents()
        finish_mission(0)
trigger3.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_battle_won = 0
    music_set_situation_with_culture(4096)
trigger4.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    _defender_team = 0
    _attacker_team = 1
    _defender_team_2 = 2
    _attacker_team_2 = 3
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    check_friendly_kills()
trigger6.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger7.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger7.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger8.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger9.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(5,20,0)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger9.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger10.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger11.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger12.codeBlock = code
besiege_inner_battle_castle.add_trigger(trigger12)


besiege_inner_battle_town_center = MissionTemplate("besiege_inner_battle_town_center", description="You attack the walls of the castle...")
besiege_inner_battle_town_center.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=4)
sr0.add_spawn_flag(SpawnFlag.ATTACKERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=2, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.DEFENDERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=23, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.DEFENDERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=24, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.DEFENDERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=25, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.DEFENDERS)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=26, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.DEFENDERS)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=27, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.DEFENDERS)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=28, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.DEFENDERS)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
besiege_inner_battle_town_center.addSpawnRecord(sr7)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger0.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger1.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger2.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(5,20,0)
        _g_battle_result = -1
        set_mission_result(-1)
        count_mission_casualties_from_agents()
        finish_mission(0)
trigger3.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_battle_won = 0
    music_set_situation_with_culture(4096)
trigger4.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    _defender_team = 0
    _attacker_team = 1
    _defender_team_2 = 2
    _attacker_team_2 = 3
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    check_friendly_kills()
trigger6.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger7.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger7.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger8.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger9.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(5,20,0)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger9.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger10.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger11.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger12.codeBlock = code
besiege_inner_battle_town_center.add_trigger(trigger12)


castle_attack_walls_defenders_sally = MissionTemplate("castle_attack_walls_defenders_sally", description="You attack the walls of the castle...")
castle_attack_walls_defenders_sally.add_flag(MissionTemplateFlag.BATTLE_MODE)
castle_attack_walls_defenders_sally.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=12)
sr0.add_spawn_flag(SpawnFlag.ATTACKERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_defenders_sally.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=0, number_of_troops=0)
sr1.add_spawn_flag(SpawnFlag.ATTACKERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_defenders_sally.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=3, number_of_troops=12)
sr2.add_spawn_flag(SpawnFlag.DEFENDERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_defenders_sally.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=0)
sr3.add_spawn_flag(SpawnFlag.DEFENDERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_defenders_sally.addSpawnRecord(sr3)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    agent_reassign_team(var001)
trigger0.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    team_set_relation(0,2,1)
    team_set_relation(1,3,1)
    change_banners_and_chest()
    remove_siege_objects()
trigger1.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger2.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger3.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code(var001, var002, var003):
    if var001 >= 0 and not agent_is_ally(var001) and agent_is_human(var001):
        troop_id_004 = agent_get_troop_id(var001)
        s6 = str_store_troop_name(troop_id_004)
        reg0 = var001
        reg1 = var002
        reg2 = var003
        reg3 = agent_get_team(var001)
        party_add_members(p.total_enemy_casualties,troop_id_004,1)
        if var003 == 1:
            party_wound_members(p.total_enemy_casualties,troop_id_004,1)
        #end
    #end
trigger4.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(5,20,0)
        count_mission_casualties_from_agents()
        finish_mission(0)
trigger5.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    _g_battle_won = 0
    combat_music_set_situation_with_culture()
trigger6.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger7.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    check_friendly_kills()
trigger8.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(2) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        _g_siege_sallied_out_once = 1
        _g_siege_method = 1
        play_victorious_sound()
trigger9.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger9.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger10.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger11.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    s5 = str_store_string(gstr.retreat)
    simulate_retreat(5,20,0)
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger11.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger12.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger13.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    print(gstr.use_baggage_for_inventory)
trigger14.codeBlock = code
castle_attack_walls_defenders_sally.add_trigger(trigger14)


castle_attack_walls_belfry = MissionTemplate("castle_attack_walls_belfry", description="You attack the walls of the castle...")
castle_attack_walls_belfry.add_flag(MissionTemplateFlag.BATTLE_MODE)
castle_attack_walls_belfry.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=12)
sr0.add_spawn_flag(SpawnFlag.ATTACKERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=0, number_of_troops=0)
sr1.add_spawn_flag(SpawnFlag.ATTACKERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=10, number_of_troops=0)
sr2.add_spawn_flag(SpawnFlag.DEFENDERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=11, number_of_troops=7)
sr3.add_spawn_flag(SpawnFlag.DEFENDERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=15, number_of_troops=0)
sr4.add_spawn_flag(SpawnFlag.DEFENDERS)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=40, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.DEFENDERS)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=41, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.DEFENDERS)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=42, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.DEFENDERS)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=43, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.DEFENDERS)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=44, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.DEFENDERS)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=45, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.DEFENDERS)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=46, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.DEFENDERS)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=47, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.DEFENDERS)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr12.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_belfry.addSpawnRecord(sr12)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    team_set_relation(0,2,1)
    team_set_relation(1,3,1)
    change_banners_and_chest()
trigger0.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger1.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger2.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        agent_no_002 = get_player_agent_no()
        agent_team_no_003 = agent_get_team(agent_no_002)
        if _attacker_team != agent_team_no_003 and _attacker_team_2 != agent_team_no_003:
            s5 = str_store_string(gstr.siege_continues)
            simulate_retreat(8,15,0)
        else:
            s5 = str_store_string(gstr.retreat)
            simulate_retreat(5,20,0)
        #end
    #end
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger3.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_battle_won = 0
    _defender_reinforcement_stage = 0
    _attacker_reinforcement_stage = 0
    music_set_situation_with_culture(262144)
trigger4.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger5.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    _defender_team = 0
    _attacker_team = 1
    _defender_team_2 = 2
    _attacker_team_2 = 3
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    set_show_messages(0)
    pos10 = entry_point_get_position(10)
    for var001 in range(0, 9):
        if var001 != 1:
            team_give_order(_defender_team,var001,0)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team_2,var001,0)
            team_give_order(_defender_team_2,var001,7)
            team_give_order(_defender_team_2,var001,7)
        #end
    #end
    team_give_order(_defender_team,1,11)
    team_set_order_position(_defender_team,9,10)
    team_give_order(_defender_team_2,1,11)
    team_set_order_position(_defender_team_2,9,10)
    set_show_messages(1)
trigger7.conditionBlock = condition

def code():
    pass
trigger7.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    set_show_messages(0)
    team_give_order(_attacker_team,9,8)
    team_give_order(_attacker_team,9,8)
    team_give_order(_attacker_team,9,8)
    set_show_messages(1)
trigger8.conditionBlock = condition

def code():
    pass
trigger8.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code(var001, var002, var003):
    if var001 >= 0 and not agent_is_ally(var001) and agent_is_human(var001):
        troop_id_004 = agent_get_troop_id(var001)
        s6 = str_store_troop_name(troop_id_004)
        reg0 = var001
        reg1 = var002
        reg2 = var003
        reg3 = agent_get_team(var001)
        party_add_members(p.total_enemy_casualties,troop_id_004,1)
        if var003 == 1:
            party_wound_members(p.total_enemy_casualties,troop_id_004,1)
        #end
    #end
trigger9.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 2.000000, 100000000.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    for cur_agent in __all_agents__:
        agent_set_slot(cur_agent,5,1)
    #end
trigger10.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(3.000000, 0.000000, 5.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if _defender_reinforcement_stage < 7:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            normalized_team_count_002 = store_normalized_team_count(0)
            if normalized_team_count_002 < 8:
                add_reinforcements_to_entry(4,7)
                _defender_reinforcement_stage += 1
                if m_timer_a_001 > 300:
                    agent_no_003 = get_player_agent_no()
                    agent_team_no_004 = agent_get_team(agent_no_003)
                    if agent_team_no_004 != _defender_team and agent_team_no_004 != _defender_team_2 and _defender_reinforcement_stage >= 2:
                        set_show_messages(0)
                        team_give_order(_defender_team,0,2)
                        team_give_order(_defender_team_2,0,2)
                        team_give_order(_defender_team,2,2)
                        team_give_order(_defender_team_2,2,2)
                        set_show_messages(1)
                        if _defender_reinforcement_stage >= 4:
                            set_show_messages(0)
                            team_give_order(_defender_team,9,2)
                            team_give_order(_defender_team_2,9,2)
                            set_show_messages(1)
                        #end
                    #end
                #end
            #end
        #end
    #end
trigger11.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    if _defender_reinforcement_stage > 0:
        pass
trigger12.conditionBlock = condition

def code():
    siege_move_archers_to_archer_positions()
trigger12.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    if _attacker_reinforcement_stage < 5:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            if normalized_team_count_002 < 6:
                normalized_team_count_002 = store_normalized_team_count(1)
trigger13.conditionBlock = condition

def code():
    add_reinforcements_to_entry(1,8)
    _attacker_reinforcement_stage += 1
trigger13.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(5.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    agent_team_no_002_list1 = [
    _attacker_team_2,
    _attacker_team,
    ]
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
            agent_team_no_002 = agent_get_team(cur_agent)
            if agent_team_no_002 in agent_team_no_002_list1:
                agent_ai_set_always_attack_in_melee(cur_agent,1)
            #end
        #end
    #end
trigger14.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    check_friendly_kills()
trigger15.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger16.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger16.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger17.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(120.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    agent_team_no_003_list1 = [
    _defender_team_2,
    _defender_team,
    ]
    agent_no_001 = get_player_agent_no()
    for cur_agent in __all_agents__:
        if cur_agent != agent_no_001 and agent_is_alive(cur_agent) and agent_is_human(cur_agent):
            agent_team_no_003 = agent_get_team(cur_agent)
            if agent_team_no_003 in agent_team_no_003_list1:
                agent_refill_ammo(cur_agent)
            #end
        #end
    #end
trigger18.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger19.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    agent_no_001 = get_player_agent_no()
    agent_team_no_002 = agent_get_team(agent_no_001)
    if _attacker_team != agent_team_no_002 and _attacker_team_2 != agent_team_no_002:
        s5 = str_store_string(gstr.siege_continues)
        simulate_retreat(8,15,0)
    else:
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(5,20,0)
    #end
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger19.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger20.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger21.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger21.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger21)
# trigger 22
trigger22 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger22.conditionBlock = condition

def code():
    pass
trigger22.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger22)
# trigger 23
trigger23 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    siege_init_ai_and_belfry()
trigger23.conditionBlock = condition

def code():
    pass
trigger23.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger23)
# trigger 24
trigger24 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_move_belfry):
        pass
trigger24.conditionBlock = condition

def code():
    pass
trigger24.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger24)
# trigger 25
trigger25 = Trigger(0.000000, 2.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_rotate_belfry_platform):
        pass
trigger25.conditionBlock = condition

def code():
    _belfry_positioned = 3
trigger25.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger25)
# trigger 26
trigger26 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_assign_men_to_belfry):
        pass
trigger26.conditionBlock = condition

def code():
    pass
trigger26.codeBlock = code
castle_attack_walls_belfry.add_trigger(trigger26)


castle_attack_walls_ladder = MissionTemplate("castle_attack_walls_ladder", description="You attack the walls of the castle...")
castle_attack_walls_ladder.add_flag(MissionTemplateFlag.BATTLE_MODE)
castle_attack_walls_ladder.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=12)
sr0.add_spawn_flag(SpawnFlag.ATTACKERS)
sr0.add_spawn_flag(SpawnFlag.TEAM_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=0, number_of_troops=0)
sr1.add_spawn_flag(SpawnFlag.ATTACKERS)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=10, number_of_troops=0)
sr2.add_spawn_flag(SpawnFlag.DEFENDERS)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=11, number_of_troops=7)
sr3.add_spawn_flag(SpawnFlag.DEFENDERS)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=15, number_of_troops=0)
sr4.add_spawn_flag(SpawnFlag.DEFENDERS)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=40, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.DEFENDERS)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=41, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.DEFENDERS)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=42, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.DEFENDERS)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=43, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.DEFENDERS)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=44, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.DEFENDERS)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=45, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.DEFENDERS)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=46, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.DEFENDERS)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_spawn_flag(SpawnFlag.ARCHERS_FIRST)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
castle_attack_walls_ladder.addSpawnRecord(sr11)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    team_set_relation(0,2,1)
    team_set_relation(1,3,1)
    change_banners_and_chest()
trigger0.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        count_mission_casualties_from_agents()
        finish_mission(0)
    elif cf_check_enemies_nearby():
        question_box(gstr.do_you_want_to_retreat)
    else:
        print(gstr.can_not_retreat)
    #end
trigger1.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger2.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _pin_player_fallen = 0
        agent_no_002 = get_player_agent_no()
        agent_team_no_003 = agent_get_team(agent_no_002)
        if _attacker_team != agent_team_no_003 and _attacker_team_2 != agent_team_no_003:
            s5 = str_store_string(gstr.siege_continues)
            simulate_retreat(8,15,0)
        else:
            s5 = str_store_string(gstr.retreat)
            simulate_retreat(5,20,0)
        #end
    #end
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger3.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_battle_won = 0
    _defender_reinforcement_stage = 0
    _attacker_reinforcement_stage = 0
    music_set_situation_with_culture(262144)
trigger4.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger5.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    _defender_team = 0
    _attacker_team = 1
    _defender_team_2 = 2
    _attacker_team_2 = 3
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    set_show_messages(0)
    pos10 = entry_point_get_position(10)
    for var001 in range(0, 9):
        if var001 != 1:
            team_give_order(_defender_team,var001,0)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team_2,var001,0)
            team_give_order(_defender_team_2,var001,7)
            team_give_order(_defender_team_2,var001,7)
        #end
    #end
    team_give_order(_defender_team,1,11)
    team_set_order_position(_defender_team,9,10)
    team_give_order(_defender_team_2,1,11)
    team_set_order_position(_defender_team_2,9,10)
    set_show_messages(1)
trigger7.conditionBlock = condition

def code():
    pass
trigger7.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(0.000000, 2.000000, 100000000.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    for cur_agent in __all_agents__:
        agent_set_slot(cur_agent,5,1)
    #end
trigger8.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(3.000000, 0.000000, 5.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if _defender_reinforcement_stage < 7:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            normalized_team_count_002 = store_normalized_team_count(0)
            if normalized_team_count_002 < 8:
                add_reinforcements_to_entry(4,7)
                _defender_reinforcement_stage += 1
                if m_timer_a_001 > 300:
                    agent_no_003 = get_player_agent_no()
                    agent_team_no_004 = agent_get_team(agent_no_003)
                    if agent_team_no_004 != _defender_team and agent_team_no_004 != _defender_team_2 and _defender_reinforcement_stage >= 2:
                        set_show_messages(0)
                        team_give_order(_defender_team,0,2)
                        team_give_order(_defender_team_2,0,2)
                        team_give_order(_defender_team,2,2)
                        team_give_order(_defender_team_2,2,2)
                        set_show_messages(1)
                        if _defender_reinforcement_stage >= 4:
                            set_show_messages(0)
                            team_give_order(_defender_team,9,2)
                            team_give_order(_defender_team_2,9,2)
                            set_show_messages(1)
                        #end
                    #end
                #end
            #end
        #end
    #end
trigger9.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    if _defender_reinforcement_stage > 0:
        pass
trigger10.conditionBlock = condition

def code():
    siege_move_archers_to_archer_positions()
trigger10.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 5.000000)
def condition():
    if _attacker_reinforcement_stage < 5:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 10:
            if normalized_team_count_002 < 6:
                normalized_team_count_002 = store_normalized_team_count(1)
trigger11.conditionBlock = condition

def code():
    add_reinforcements_to_entry(1,8)
    _attacker_reinforcement_stage += 1
trigger11.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(5.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    agent_team_no_002_list1 = [
    _attacker_team_2,
    _attacker_team,
    ]
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
            agent_team_no_002 = agent_get_team(cur_agent)
            if agent_team_no_002 in agent_team_no_002_list1:
                agent_ai_set_always_attack_in_melee(cur_agent,1)
            #end
        #end
    #end
trigger12.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    check_friendly_kills()
trigger13.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(5) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
        play_victorious_sound()
trigger14.conditionBlock = condition

def code():
    count_mission_casualties_from_agents()
    finish_mission(1)
trigger14.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger15.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(120.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    agent_team_no_003_list1 = [
    _defender_team_2,
    _defender_team,
    ]
    agent_no_001 = get_player_agent_no()
    for cur_agent in __all_agents__:
        if cur_agent != agent_no_001 and agent_is_alive(cur_agent) and agent_is_human(cur_agent):
            agent_team_no_003 = agent_get_team(cur_agent)
            if agent_team_no_003 in agent_team_no_003_list1:
                agent_refill_ammo(cur_agent)
            #end
        #end
    #end
trigger16.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger17.conditionBlock = condition

def code():
    _pin_player_fallen = 1
    agent_no_001 = get_player_agent_no()
    agent_team_no_002 = agent_get_team(agent_no_001)
    if _attacker_team != agent_team_no_002 and _attacker_team_2 != agent_team_no_002:
        s5 = str_store_string(gstr.siege_continues)
        simulate_retreat(8,15,0)
    else:
        s5 = str_store_string(gstr.retreat)
        simulate_retreat(5,20,0)
    #end
    _g_battle_result = -1
    set_mission_result(-1)
    count_mission_casualties_from_agents()
    finish_mission(0)
trigger17.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger18.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger19.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger20.conditionBlock = condition

def code():
    pass
trigger20.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger21.conditionBlock = condition

def code(var001, var002, var003):
    if var001 >= 0 and not agent_is_ally(var001) and agent_is_human(var001):
        troop_id_004 = agent_get_troop_id(var001)
        s6 = str_store_troop_name(troop_id_004)
        reg0 = var001
        reg1 = var002
        reg2 = var003
        reg3 = agent_get_team(var001)
        party_add_members(p.total_enemy_casualties,troop_id_004,1)
        if var003 == 1:
            party_wound_members(p.total_enemy_casualties,troop_id_004,1)
        #end
    #end
trigger21.codeBlock = code
castle_attack_walls_ladder.add_trigger(trigger21)


castle_visit = MissionTemplate("castle_visit", description="Castle visit")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.addItem(itm.pilgrim_hood)
sr0.addItem(itm.pilgrim_disguise)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.addItem(itm.pilgrim_hood)
sr1.addItem(itm.pilgrim_disguise)
sr1.addItem(itm.practice_staff)
sr1.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.addItem(itm.pilgrim_hood)
sr2.addItem(itm.pilgrim_disguise)
sr2.addItem(itm.practice_staff)
sr2.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.addItem(itm.pilgrim_hood)
sr3.addItem(itm.pilgrim_disguise)
sr3.addItem(itm.practice_staff)
sr3.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.addItem(itm.pilgrim_hood)
sr4.addItem(itm.pilgrim_disguise)
sr4.addItem(itm.practice_staff)
sr4.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.addItem(itm.pilgrim_hood)
sr5.addItem(itm.pilgrim_disguise)
sr5.addItem(itm.practice_staff)
sr5.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.addItem(itm.pilgrim_hood)
sr6.addItem(itm.pilgrim_disguise)
sr6.addItem(itm.practice_staff)
sr6.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.addItem(itm.pilgrim_hood)
sr7.addItem(itm.pilgrim_disguise)
sr7.addItem(itm.practice_staff)
sr7.addItem(itm.throwing_daggers)
castle_visit.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_0)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_0)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_0)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_0)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_0)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_0)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_0)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
castle_visit.addSpawnRecord(sr46)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    _talk_context_list1 = [
    18,
    19,
    ]
    init_town_agent(var001)
    agent_no_002 = get_player_agent_no()
    if agent_no_002 != var001:
        agent_set_team(var001,7)
    #end
    if _talk_context in _talk_context_list1:
        troop_id_003 = agent_get_troop_id(var001)
        troop_slot_004 = troop_get_slot(troop_id_003,161)
        if troop_slot_004 == 1:
            agent_set_team(var001,0)
            agent_ai_set_aggressiveness(var001,5)
            troop_set_slot(troop_id_003,161,0)
            if troop_slot_eq(troop_id_003,149,3):
                pos1 = agent_get_position(var001)
                agent_set_scripted_destination(var001,1)
            #end
        #end
    #end
trigger0.codeBlock = code
castle_visit.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001, var002):
    troop_id_003 = agent_get_troop_id(var001)
    troop_id_004 = agent_get_troop_id(var002)
    if troop_id_003 == trp.swadian_prison_guard or troop_id_003 == trp.vaegir_prison_guard or troop_id_003 == trp.khergit_prison_guard or troop_id_003 == trp.nord_prison_guard or troop_id_003 == trp.rhodok_prison_guard or troop_id_003 == trp.sarranid_prison_guard and troop_id_004 == trp.player:
        print("@You got keys of dungeon.")
    #end
trigger1.codeBlock = code
castle_visit.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    _talk_context_list1 = [
    19,
    18,
    ]
    if _talk_context in _talk_context_list1:
        pass
trigger2.conditionBlock = condition

def code():
    neutral_behavior_in_fight()
    mission_disable_talk()
trigger2.codeBlock = code
castle_visit.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    if _talk_context == 19:
        pass
trigger3.conditionBlock = condition

def code():
    agent_no_001 = get_player_agent_no()
    reg6 = agent_no_001
    activate_town_guard()
    agent_no_001 = get_player_agent_no()
    pos4 = agent_get_position(agent_no_001)
    for trp_002 in range(trp.npc1, trp.heroes_end):
        if troop_slot_ge(trp_002,149,1):
            s4 = str_store_troop_name(trp_002)
            print(gstr.s4_joins_prison_break)
            cur_scene_003 = store_current_scene()
            modify_visitors_at_site(cur_scene_003)
            cur_scene_003 = store_current_scene()
            modify_visitors_at_site(cur_scene_003)
            entry_no_004 = 24
            add_visitors_to_current_scene(entry_no_004,trp_002,1,0,0)
            troop_set_slot(trp_002,161,1)
        #end
    #end
trigger3.codeBlock = code
castle_visit.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    _g_mt_mode_list2 = [
    1,
    0,
    ]
    _talk_context_list1 = [
    18,
    19,
    ]
    if _talk_context in _talk_context_list1:
        print(gstr.cannot_leave_now)
    elif _g_mt_mode in _g_mt_mode_list2:
        set_trigger_result(1)
        mission_enable_talk()
    else:
        print(gstr.cannot_leave_now)
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
castle_visit.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    change_banners_and_chest()
    remove_siege_objects()
trigger5.codeBlock = code
castle_visit.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if main_hero_fallen(0):
        pass
trigger6.conditionBlock = condition

def code():
    _talk_context_list1 = [
    19,
    18,
    ]
    if _talk_context in _talk_context_list1:
        deduct_casualties_from_garrison()
        jump_to_menu(mnu.captivity_start_castle_defeat)
        var001 = trp.heroes_end
        for troop_id_002 in range(trp.npc1, var001):
            troop_set_slot(troop_id_002,149,0)
        #end
        mission_enable_talk()
        finish_mission(0)
    else:
        mission_enable_talk()
        finish_mission(0)
        set_trigger_result(1)
    #end
trigger6.codeBlock = code
castle_visit.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if _talk_context == 19 and not main_hero_fallen(0):
        if m_timer_a_001 >= 10 and all_enemies_defeated():
            m_timer_a_001 = store_mission_timer_a()
trigger7.conditionBlock = condition

def code():
    deduct_casualties_from_garrison()
    for agentx in __all_agents__:
        troop_id_002 = agent_get_troop_id(agentx)
        if troop_slot_ge(troop_id_002,149,2):
            if agent_is_alive(agentx):
                troop_set_slot(troop_id_002,149,4)
            else:
                troop_set_slot(troop_id_002,149,5)
            #end
        #end
    #end
    jump_to_menu(mnu.sneak_into_town_caught_ran_away)
    mission_enable_talk()
    finish_mission(0)
trigger7.codeBlock = code
castle_visit.add_trigger(trigger7)


training_ground_trainer_talk = MissionTemplate("training_ground_trainer_talk", description="Training.")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_trainer_talk.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
training_ground_trainer_talk.addSpawnRecord(sr6)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger0.codeBlock = code
training_ground_trainer_talk.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
training_ground_trainer_talk.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
training_ground_trainer_talk.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 1.000000, 2.000000)
def condition():
    if _trainer_help_message < 2:
        pass
trigger3.conditionBlock = condition

def code():
    if _trainer_help_message == 0:
        pass
    else:
        pass
    #end
    _trainer_help_message += 1
trigger3.codeBlock = code
training_ground_trainer_talk.add_trigger(trigger3)


training_ground_trainer_training = MissionTemplate("training_ground_trainer_training", description="You will fight a match in the arena.")
training_ground_trainer_training.add_flag(MissionTemplateFlag.ARENA_FIGHT)
training_ground_trainer_training.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=16, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.practice_shield)
sr0.addItem(itm.practice_sword)
sr0.addItem(itm.practice_boots)
training_ground_trainer_training.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=17, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.practice_staff)
sr1.addItem(itm.practice_boots)
training_ground_trainer_training.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=18, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_spawn_flag(SpawnFlag.TEAM_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr2.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr2.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr2.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr2.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr2.add_ai_flag(AIFlag.START_ALARMED)
sr2.addItem(itm.practice_staff)
sr2.addItem(itm.practice_boots)
training_ground_trainer_training.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=19, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr3.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr3.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr3.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr3.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr3.add_ai_flag(AIFlag.START_ALARMED)
sr3.addItem(itm.heavy_practice_sword)
sr3.addItem(itm.practice_boots)
training_ground_trainer_training.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=20, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
training_ground_trainer_training.addSpawnRecord(sr4)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger0.codeBlock = code
training_ground_trainer_training.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    question_box(gstr.give_up_fight)
trigger1.codeBlock = code
training_ground_trainer_training.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    if var001 == 0:
        set_jump_mission(mt.training_ground_trainer_talk)
        modify_visitors_at_site(_g_training_ground_melee_training_scene)
        reset_visitors()
        set_jump_entry(5)
        jump_to_scene(_g_training_ground_melee_training_scene)
trigger2.codeBlock = code
training_ground_trainer_training.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    if main_hero_fallen(0):
        pass
trigger3.conditionBlock = condition

def code():
    set_jump_mission(mt.training_ground_trainer_talk)
    modify_visitors_at_site(_g_training_ground_melee_training_scene)
    reset_visitors()
    set_jump_entry(5)
    jump_to_scene(_g_training_ground_melee_training_scene)
trigger3.codeBlock = code
training_ground_trainer_training.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 1 and num_active_teams_le(1) and not main_hero_fallen():
        _training_fight_won = 1
trigger4.conditionBlock = condition

def code():
    set_jump_mission(mt.training_ground_trainer_talk)
    modify_visitors_at_site(_g_training_ground_melee_training_scene)
    reset_visitors()
    set_jump_entry(5)
    jump_to_scene(_g_training_ground_melee_training_scene)
trigger4.codeBlock = code
training_ground_trainer_training.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_arena)
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
training_ground_trainer_training.add_trigger(trigger5)


training_ground_training = MissionTemplate("training_ground_training", description="Training.")
training_ground_training.add_flag(MissionTemplateFlag.ARENA_FIGHT)
training_ground_training.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.practice_staff)
training_ground_training.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.practice_staff)
training_ground_training.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr2.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr2.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr2.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr2.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr2.add_ai_flag(AIFlag.START_ALARMED)
sr2.addItem(itm.practice_staff)
training_ground_training.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr3.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr3.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr3.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr3.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr3.add_ai_flag(AIFlag.START_ALARMED)
sr3.addItem(itm.practice_staff)
training_ground_training.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr4.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr4.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr4.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr4.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr4.add_ai_flag(AIFlag.START_ALARMED)
sr4.addItem(itm.practice_staff)
training_ground_training.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=8, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=9, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=10, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=11, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=12, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=13, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=14, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=15, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
training_ground_training.addSpawnRecord(sr12)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    _g_last_destroyed_gourds = 0
    change_banners_and_chest()
trigger0.codeBlock = code
training_ground_training.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    question_box(gstr.give_up_fight)
trigger1.codeBlock = code
training_ground_training.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _g_training_ground_training_success_ratio = 0
        jump_to_menu(mnu.training_ground_training_result)
        finish_mission()
trigger2.codeBlock = code
training_ground_training.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
training_ground_training.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 2:
        set_fixed_point_multiplier(100)
        pos1 = entry_point_get_position(0)
        init_position(2)
        position_set_y(2,_g_training_ground_ranged_distance)
        position_transform_position_to_parent(3,1,2)
        copy_position(1,3)
        var001 = 10
        var002 = 0
        for var003 in range(0, var001):
            var004 = var003 - var002
            scp_instance_005 = scene_prop_get_instance(spr.gourd,var004)
            copy_position(2,1)
            init_position(0)
            random_x_006 = store_random_in_range(0,360)
            position_rotate_z(2,random_x_006)
            random_x_006 = store_random_in_range(50,600)
            position_move_x(2,random_x_006)
            random_x_006 = store_random_in_range(0,360)
            position_transform_position_to_local(3,1,2)
            position_rotate_z(0,random_x_006)
            position_transform_position_to_parent(4,0,3)
            position_transform_position_to_parent(2,1,4)
            position_set_z_to_ground_level(2)
            position_move_z(2,150)
            var007 = 1
            for var008 in range(0, 10):
                if var007 == 1 and var004 != var008:
                    scp_instance_009 = scene_prop_get_instance(spr.gourd,var008)
                    pos3 = prop_instance_get_position(scp_instance_009)
                    distance_010 = get_distance_between_positions(2,3)
                    if distance_010 < 100:
                        var007 = 0
                    #end
                #end
            #end
            if var007 == 0:
                var001 += 1
                var002 += 1
            else:
                prop_instance_set_position(scp_instance_005,2)
                prop_instance_animate_to_position(scp_instance_005,2,1)
                scp_instance_009 = scene_prop_get_instance(spr.gourd_spike,var004)
                position_move_z(2,-150)
                prop_instance_set_position(scp_instance_009,2)
                prop_instance_animate_to_position(scp_instance_009,2,1)
            #end
        #end
    elif _g_mt_mode == 3:
        var011 = 0
        for var003 in range(0, 100):
            scp_instance_005 = scene_prop_get_instance(spr.gourd,var003)
            scp_instance_009 = scene_prop_get_instance(spr.gourd_spike,var003)
            if scp_instance_005 >= 0 and scp_instance_009 >= 0:
                var011 += 1
                pos0 = prop_instance_get_position(scp_instance_009)
                position_move_z(0,150)
                prop_instance_set_position(scp_instance_005,0)
                prop_instance_animate_to_position(scp_instance_005,0,1)
            #end
        #end
        var001 = var011 - _g_training_ground_training_num_gourds_to_destroy
        for var003 in range(0, var001):
            random_x_012 = store_random_in_range(0,var011)
            scp_instance_005 = scene_prop_get_instance(spr.gourd,random_x_012)
            pos0 = prop_instance_get_position(scp_instance_005)
            pos_z_013 = position_get_z(0)
            if pos_z_013 < -50000:
                pass
            else:
                position_set_z(0,-100000)
                prop_instance_set_position(scp_instance_005,0)
                prop_instance_animate_to_position(scp_instance_005,0,1)
                scp_instance_009 = scene_prop_get_instance(spr.gourd_spike,random_x_012)
                prop_instance_set_position(scp_instance_009,0)
                prop_instance_animate_to_position(scp_instance_009,0,1)
            #end
        #end
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
training_ground_training.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 1 and main_hero_fallen() or num_active_teams_le(1):
        pass
trigger5.conditionBlock = condition

def code():
    if not main_hero_fallen():
        _g_training_ground_training_success_ratio = 100
    else:
        var001 = 0
        for cur_agent in __all_agents__:
            if agent_is_alive(cur_agent) and agent_is_human(cur_agent):
                agent_team_no_003 = agent_get_team(cur_agent)
                if agent_team_no_003 == 1:
                    var001 += 1
                #end
            #end
        #end
        var004 = _g_training_ground_training_num_enemies - var001
        _g_training_ground_training_success_ratio = var004 * 100
        _g_training_ground_training_success_ratio /= _g_training_ground_training_num_enemies
    #end
    jump_to_menu(mnu.training_ground_training_result)
    finish_mission()
trigger5.codeBlock = code
training_ground_training.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 2:
        agent_no_001 = get_player_agent_no()
        agent_ammo_002 = agent_get_ammo(agent_no_001)
        if main_hero_fallen() or agent_ammo_002 == 0 or m_timer_a_003 > 116:
            m_timer_a_003 = store_mission_timer_a()
trigger6.conditionBlock = condition

def code():
    _g_training_ground_training_success_ratio = _scene_num_total_gourds_destroyed * 10
    jump_to_menu(mnu.training_ground_training_result)
    finish_mission()
trigger6.codeBlock = code
training_ground_training.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 3:
        agent_no_001 = get_player_agent_no()
        agent_horse_002 = agent_get_horse(agent_no_001)
        if agent_horse_002 >= 0 or main_hero_fallen() or _scene_num_total_gourds_destroyed >= _g_training_ground_training_num_gourds_to_destroy or m_timer_a_003 > 120:
            m_timer_a_003 = store_mission_timer_a()
trigger7.conditionBlock = condition

def code():
    _g_training_ground_training_success_ratio = _scene_num_total_gourds_destroyed * 100
    _g_training_ground_training_success_ratio /= _g_training_ground_training_num_gourds_to_destroy
    jump_to_menu(mnu.training_ground_training_result)
    finish_mission()
trigger7.codeBlock = code
training_ground_training.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _g_last_destroyed_gourds > 0:
        if _g_mt_mode == 2:
            pos1 = entry_point_get_position(0)
            position_move_y(1,100,0)
            agent_no_001 = get_player_agent_no()
            pos2 = agent_get_position(agent_no_001)
            if position_is_behind_position(2,1):
                _scene_num_total_gourds_destroyed += _g_last_destroyed_gourds
            else:
                print("@You must stay behind the line on the ground! Point is not counted.")
            #end
        #end
    else:
        _scene_num_total_gourds_destroyed += _g_last_destroyed_gourds
    #end
    _g_last_destroyed_gourds = 0
trigger8.conditionBlock = condition

def code():
    pass
trigger8.codeBlock = code
training_ground_training.add_trigger(trigger8)


sneak_caught_fight = MissionTemplate("sneak_caught_fight", description="You must fight your way out!")
sneak_caught_fight.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.pilgrim_hood)
sr0.addItem(itm.pilgrim_disguise)
sr0.addItem(itm.practice_staff)
sr0.addItem(itm.throwing_daggers)
sneak_caught_fight.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.pilgrim_hood)
sr1.addItem(itm.pilgrim_disguise)
sr1.addItem(itm.practice_staff)
sr1.addItem(itm.throwing_daggers)
sneak_caught_fight.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_1)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_1)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr12.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_1)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr13.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_1)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr14.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_1)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr15.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr16.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr17.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr18.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr19.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr20.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr21.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr22.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr23.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_1)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr24.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_1)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr25.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_1)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr26.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_1)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_1)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_1)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr29.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_1)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr30.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_1)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr31.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr32.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr33.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr34.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr35.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr36.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr37.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr38.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr39.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr48.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr49.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr50.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr51.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr52.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr53.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr54.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr55.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr56.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr57.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr58.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr59.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr60.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr61.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr62.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr63.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr63)
# spawn record 64
sr64 = SpawnRecord(entry_no=64, number_of_troops=1)
sr64.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr64.add_spawn_flag(SpawnFlag.TEAM_1)
sr64.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr64.add_ai_flag(AIFlag.START_ALARMED)
sneak_caught_fight.addSpawnRecord(sr64)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger0.codeBlock = code
sneak_caught_fight.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    var007_list1 = [
    2,
    0,
    ]
    _talk_context_list1 = [
    18,
    19,
    ]
    _talk_context_list2 = [
    18,
    19,
    ]
    var001 = 5
    if True:
        party_slot_002 = party_get_slot(_current_town,240)
        cur_hours_003 = store_current_hours()
        var004 = party_slot_002 + 4
        if is_between(cur_hours_003,var004,party_slot_002):
            var001 = 2
        elif _talk_context in _talk_context_list2:
            var001 = 4
        #end
    #end
    if _talk_context in _talk_context_list1:
        pos0 = entry_point_get_position(7)
    elif party_slot_eq(_current_town,0,3):
        pos0 = entry_point_get_position(0)
    else:
        pos0 = entry_point_get_position(1)
    #end
    var005 = -1
    var006 = -1
    for var007 in range(0, var001):
        var008 = 100000
        for var009 in range(2, 64):
            if var006 != var009:
                pos1 = entry_point_get_position(var009)
                distance_010 = get_distance_between_positions(0,1)
                if distance_010 < var008 and distance_010 > var005:
                    var008 = distance_010
                    entry_no_011 = var009
                #end
            #end
        #end
        party_faction_012 = store_faction_of_party(_current_town)
        if var007 in var007_list1:
            faction_slot_013 = faction_get_slot(party_faction_012,42)
        else:
            faction_slot_013 = faction_get_slot(party_faction_012,42)
        #end
        var006 = entry_no_011
        var005 = var008
        add_visitors_to_current_scene(entry_no_011,faction_slot_013,1,0)
    #end
trigger1.codeBlock = code
sneak_caught_fight.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    question_box(gstr.do_you_wish_to_surrender)
trigger2.codeBlock = code
sneak_caught_fight.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        jump_to_menu(mnu.captivity_start_castle_defeat)
        finish_mission(0)
trigger3.codeBlock = code
sneak_caught_fight.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    play_sound(snd.sneak_town_halt)
    music_set_situation_with_culture(1024)
trigger4.codeBlock = code
sneak_caught_fight.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 3.000000, 0.000000)
def condition():
    if main_hero_fallen(0):
        pass
trigger5.conditionBlock = condition

def code():
    jump_to_menu(mnu.captivity_start_castle_defeat)
    finish_mission(0)
trigger5.codeBlock = code
sneak_caught_fight.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    agent_no_001 = get_player_agent_no()
    pos0 = agent_get_position(agent_no_001)
    for cur_agent in __all_agents__:
        if cur_agent != agent_no_001 and agent_is_alive(cur_agent):
            agent_team_no_003 = agent_get_team(cur_agent)
            if agent_team_no_003 == 1:
                pos1 = agent_get_position(cur_agent)
                distance_004 = get_distance_between_positions(0,1)
                if distance_004 <= 800:
                    agent_clear_scripted_mode(cur_agent)
                else:
                    agent_set_scripted_destination(cur_agent,0,0)
                #end
            #end
        #end
    #end
trigger6.codeBlock = code
sneak_caught_fight.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(5.000000, 1.000000, 100000000.000000)
def condition():
    if num_active_teams_le(1) and not main_hero_fallen():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 5:
            pass
trigger7.conditionBlock = condition

def code():
    _auto_menu = -1
    jump_to_menu(mnu.sneak_into_town_caught_dispersed_guards)
    finish_mission(1)
trigger7.codeBlock = code
sneak_caught_fight.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(-30.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    _auto_menu = -1
    jump_to_menu(mnu.sneak_into_town_caught_ran_away)
    finish_mission(0)
trigger8.codeBlock = code
sneak_caught_fight.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_arena)
trigger9.conditionBlock = condition

def code():
    pass
trigger9.codeBlock = code
sneak_caught_fight.add_trigger(trigger9)


ai_training = MissionTemplate("ai_training", description="You start training.")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=30)
sr0.add_ai_flag(AIFlag.START_ALARMED)
ai_training.addSpawnRecord(sr0)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    finish_mission(0)
trigger0.codeBlock = code
ai_training.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger1.codeBlock = code
ai_training.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger2.codeBlock = code
ai_training.add_trigger(trigger2)


camera_test = MissionTemplate("camera_test", description="camera Test.")
# ---
# ---
# trigger 0
trigger0 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    mission_cam_set_mode(1)
    pos3 = entry_point_get_position(3)
    mission_cam_set_position(3)
trigger0.conditionBlock = condition

def code():
    pass
trigger0.codeBlock = code
camera_test.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    finish_mission(0)
trigger1.codeBlock = code
camera_test.add_trigger(trigger1)


arena_melee_fight = MissionTemplate("arena_melee_fight", description="You enter a melee fight in the arena.")
arena_melee_fight.add_flag(MissionTemplateFlag.ARENA_FIGHT)
arena_melee_fight.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.practice_bow)
sr0.addItem(itm.practice_arrows)
sr0.addItem(itm.practice_horse)
sr0.addItem(itm.arena_tunic_red)
sr0.addItem(itm.red_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.heavy_practice_sword)
sr1.addItem(itm.arena_tunic_red)
arena_melee_fight.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr2.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr2.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr2.add_ai_flag(AIFlag.START_ALARMED)
sr2.addItem(itm.heavy_practice_sword)
sr2.addItem(itm.practice_horse)
sr2.addItem(itm.arena_tunic_red)
sr2.addItem(itm.red_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr3.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr3.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr3.add_ai_flag(AIFlag.START_ALARMED)
sr3.addItem(itm.practice_lance)
sr3.addItem(itm.practice_shield)
sr3.addItem(itm.practice_horse)
sr3.addItem(itm.arena_tunic_red)
sr3.addItem(itm.red_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr4.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr4.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr4.add_ai_flag(AIFlag.START_ALARMED)
sr4.addItem(itm.practice_bow)
sr4.addItem(itm.practice_arrows)
sr4.addItem(itm.practice_dagger)
sr4.addItem(itm.arena_tunic_red)
arena_melee_fight.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr5.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr5.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr5.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr5.add_ai_flag(AIFlag.START_ALARMED)
sr5.addItem(itm.practice_sword)
sr5.addItem(itm.practice_shield)
sr5.addItem(itm.arena_tunic_red)
arena_melee_fight.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr6.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr6.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr6.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr6.add_ai_flag(AIFlag.START_ALARMED)
sr6.addItem(itm.heavy_practice_sword)
sr6.addItem(itm.practice_horse)
sr6.addItem(itm.arena_tunic_red)
arena_melee_fight.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr7.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr7.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr7.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr7.add_ai_flag(AIFlag.START_ALARMED)
sr7.addItem(itm.practice_lance)
sr7.addItem(itm.practice_shield)
sr7.addItem(itm.practice_horse)
sr7.addItem(itm.arena_tunic_red)
sr7.addItem(itm.red_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr8.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr8.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr8.add_ai_flag(AIFlag.START_ALARMED)
sr8.addItem(itm.practice_bow)
sr8.addItem(itm.practice_arrows)
sr8.addItem(itm.practice_dagger)
sr8.addItem(itm.arena_tunic_blue)
arena_melee_fight.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr9.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr9.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr9.add_ai_flag(AIFlag.START_ALARMED)
sr9.addItem(itm.practice_lance)
sr9.addItem(itm.practice_shield)
sr9.addItem(itm.practice_horse)
sr9.addItem(itm.arena_tunic_blue)
sr9.addItem(itm.blue_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr10.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr10.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr10.add_ai_flag(AIFlag.START_ALARMED)
sr10.addItem(itm.heavy_practice_sword)
sr10.addItem(itm.arena_tunic_blue)
arena_melee_fight.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr11.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr11.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr11.add_ai_flag(AIFlag.START_ALARMED)
sr11.addItem(itm.practice_sword)
sr11.addItem(itm.practice_shield)
sr11.addItem(itm.arena_tunic_blue)
sr11.addItem(itm.blue_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr12.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr12.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr12.add_ai_flag(AIFlag.START_ALARMED)
sr12.addItem(itm.practice_bow)
sr12.addItem(itm.practice_arrows)
sr12.addItem(itm.practice_horse)
sr12.addItem(itm.arena_tunic_blue)
arena_melee_fight.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_1)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr13.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr13.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr13.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr13.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr13.add_ai_flag(AIFlag.START_ALARMED)
sr13.addItem(itm.practice_lance)
sr13.addItem(itm.practice_shield)
sr13.addItem(itm.practice_horse)
sr13.addItem(itm.arena_tunic_blue)
sr13.addItem(itm.blue_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_1)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr14.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr14.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr14.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr14.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr14.add_ai_flag(AIFlag.START_ALARMED)
sr14.addItem(itm.heavy_practice_sword)
sr14.addItem(itm.arena_tunic_blue)
arena_melee_fight.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_1)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr15.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr15.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr15.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr15.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr15.add_ai_flag(AIFlag.START_ALARMED)
sr15.addItem(itm.practice_sword)
sr15.addItem(itm.practice_shield)
sr15.addItem(itm.arena_tunic_blue)
arena_melee_fight.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_spawn_flag(SpawnFlag.TEAM_2)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr16.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr16.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr16.add_ai_flag(AIFlag.START_ALARMED)
sr16.addItem(itm.practice_bow)
sr16.addItem(itm.practice_arrows)
sr16.addItem(itm.practice_horse)
sr16.addItem(itm.arena_tunic_green)
sr16.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_spawn_flag(SpawnFlag.TEAM_2)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr17.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr17.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr17.add_ai_flag(AIFlag.START_ALARMED)
sr17.addItem(itm.heavy_practice_sword)
sr17.addItem(itm.arena_tunic_green)
sr17.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_spawn_flag(SpawnFlag.TEAM_2)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr18.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr18.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr18.add_ai_flag(AIFlag.START_ALARMED)
sr18.addItem(itm.heavy_practice_sword)
sr18.addItem(itm.practice_horse)
sr18.addItem(itm.arena_tunic_green)
sr18.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_spawn_flag(SpawnFlag.TEAM_2)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr19.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr19.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr19.add_ai_flag(AIFlag.START_ALARMED)
sr19.addItem(itm.practice_lance)
sr19.addItem(itm.practice_shield)
sr19.addItem(itm.practice_horse)
sr19.addItem(itm.arena_tunic_green)
sr19.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_spawn_flag(SpawnFlag.TEAM_2)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr20.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr20.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr20.add_ai_flag(AIFlag.START_ALARMED)
sr20.addItem(itm.practice_bow)
sr20.addItem(itm.practice_arrows)
sr20.addItem(itm.practice_dagger)
sr20.addItem(itm.arena_tunic_green)
sr20.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_spawn_flag(SpawnFlag.TEAM_2)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr21.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr21.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr21.add_ai_flag(AIFlag.START_ALARMED)
sr21.addItem(itm.practice_sword)
sr21.addItem(itm.practice_shield)
sr21.addItem(itm.arena_tunic_green)
arena_melee_fight.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_spawn_flag(SpawnFlag.TEAM_2)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr22.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr22.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr22.add_ai_flag(AIFlag.START_ALARMED)
sr22.addItem(itm.heavy_practice_sword)
sr22.addItem(itm.practice_horse)
sr22.addItem(itm.arena_tunic_green)
arena_melee_fight.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_spawn_flag(SpawnFlag.TEAM_2)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr23.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr23.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr23.add_ai_flag(AIFlag.START_ALARMED)
sr23.addItem(itm.practice_lance)
sr23.addItem(itm.practice_shield)
sr23.addItem(itm.practice_horse)
sr23.addItem(itm.arena_tunic_green)
sr23.addItem(itm.green_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_3)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr24.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr24.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr24.add_ai_flag(AIFlag.START_ALARMED)
sr24.addItem(itm.practice_bow)
sr24.addItem(itm.practice_arrows)
sr24.addItem(itm.practice_horse)
sr24.addItem(itm.arena_tunic_yellow)
sr24.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_3)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr25.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr25.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr25.add_ai_flag(AIFlag.START_ALARMED)
sr25.addItem(itm.heavy_practice_sword)
sr25.addItem(itm.arena_tunic_yellow)
sr25.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_3)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr26.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr26.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr26.add_ai_flag(AIFlag.START_ALARMED)
sr26.addItem(itm.heavy_practice_sword)
sr26.addItem(itm.practice_horse)
sr26.addItem(itm.arena_tunic_yellow)
sr26.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_3)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr27.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr27.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr27.add_ai_flag(AIFlag.START_ALARMED)
sr27.addItem(itm.practice_lance)
sr27.addItem(itm.practice_shield)
sr27.addItem(itm.practice_horse)
sr27.addItem(itm.arena_tunic_yellow)
sr27.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_3)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr28.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr28.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr28.add_ai_flag(AIFlag.START_ALARMED)
sr28.addItem(itm.practice_bow)
sr28.addItem(itm.practice_arrows)
sr28.addItem(itm.practice_dagger)
sr28.addItem(itm.arena_tunic_yellow)
sr28.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_3)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr29.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr29.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr29.add_ai_flag(AIFlag.START_ALARMED)
sr29.addItem(itm.practice_sword)
sr29.addItem(itm.practice_shield)
sr29.addItem(itm.arena_tunic_yellow)
arena_melee_fight.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_3)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr30.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr30.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr30.add_ai_flag(AIFlag.START_ALARMED)
sr30.addItem(itm.heavy_practice_sword)
sr30.addItem(itm.practice_horse)
sr30.addItem(itm.arena_tunic_yellow)
arena_melee_fight.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_3)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr31.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr31.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr31.add_ai_flag(AIFlag.START_ALARMED)
sr31.addItem(itm.practice_lance)
sr31.addItem(itm.practice_shield)
sr31.addItem(itm.practice_horse)
sr31.addItem(itm.arena_tunic_yellow)
sr31.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr32.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr32.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr32.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr32.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr32.add_ai_flag(AIFlag.START_ALARMED)
sr32.addItem(itm.heavy_practice_sword)
arena_melee_fight.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_spawn_flag(SpawnFlag.TEAM_2)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr33.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr33.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr33.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr33.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr33.add_ai_flag(AIFlag.START_ALARMED)
sr33.addItem(itm.practice_staff)
arena_melee_fight.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_3)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr34.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr34.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr34.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr34.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr34.add_ai_flag(AIFlag.START_ALARMED)
sr34.addItem(itm.practice_sword)
sr34.addItem(itm.practice_shield)
arena_melee_fight.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_spawn_flag(SpawnFlag.TEAM_3)
sr35.add_spawn_flag(SpawnFlag.TEAM_4)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr35.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr35.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr35.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr35.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr35.add_ai_flag(AIFlag.START_ALARMED)
sr35.addItem(itm.practice_staff)
arena_melee_fight.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr36.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr36.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr36.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr36.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr36.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr36.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr36.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr36.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr36.add_ai_flag(AIFlag.START_ALARMED)
sr36.addItem(itm.practice_bow)
sr36.addItem(itm.practice_arrows)
sr36.addItem(itm.practice_dagger)
arena_melee_fight.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_spawn_flag(SpawnFlag.TEAM_2)
sr37.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr37.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr37.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr37.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr37.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr37.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr37.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr37.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr37.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr37.add_ai_flag(AIFlag.START_ALARMED)
sr37.addItem(itm.practice_sword)
sr37.addItem(itm.practice_shield)
arena_melee_fight.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_3)
sr38.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr38.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr38.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr38.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr38.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr38.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr38.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr38.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr38.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr38.add_ai_flag(AIFlag.START_ALARMED)
sr38.addItem(itm.heavy_practice_sword)
arena_melee_fight.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_spawn_flag(SpawnFlag.TEAM_3)
sr39.add_spawn_flag(SpawnFlag.TEAM_4)
sr39.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr39.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr39.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr39.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr39.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr39.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr39.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr39.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr39.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr39.add_ai_flag(AIFlag.START_ALARMED)
sr39.addItem(itm.practice_staff)
arena_melee_fight.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=24, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_3)
sr40.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr40.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr40.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr40.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr40.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr40.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr40.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr40.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr40.add_ai_flag(AIFlag.START_ALARMED)
sr40.addItem(itm.practice_bow)
sr40.addItem(itm.practice_arrows)
sr40.addItem(itm.practice_horse)
sr40.addItem(itm.arena_tunic_yellow)
sr40.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=24, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_3)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr41.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr41.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr41.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr41.add_ai_flag(AIFlag.START_ALARMED)
sr41.addItem(itm.heavy_practice_sword)
sr41.addItem(itm.arena_tunic_yellow)
sr41.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=24, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_3)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr42.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr42.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr42.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr42.add_ai_flag(AIFlag.START_ALARMED)
sr42.addItem(itm.heavy_practice_sword)
sr42.addItem(itm.practice_horse)
sr42.addItem(itm.arena_tunic_yellow)
sr42.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=24, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_3)
sr43.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr43.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr43.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr43.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr43.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr43.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr43.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr43.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr43.add_ai_flag(AIFlag.START_ALARMED)
sr43.addItem(itm.practice_lance)
sr43.addItem(itm.practice_shield)
sr43.addItem(itm.practice_horse)
sr43.addItem(itm.arena_tunic_yellow)
sr43.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=24, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_3)
sr44.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr44.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr44.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr44.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr44.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr44.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr44.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr44.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr44.add_ai_flag(AIFlag.START_ALARMED)
sr44.addItem(itm.practice_bow)
sr44.addItem(itm.practice_arrows)
sr44.addItem(itm.practice_dagger)
sr44.addItem(itm.arena_tunic_yellow)
sr44.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=24, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_3)
sr45.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr45.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr45.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr45.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr45.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr45.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr45.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr45.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr45.add_ai_flag(AIFlag.START_ALARMED)
sr45.addItem(itm.practice_sword)
sr45.addItem(itm.practice_shield)
sr45.addItem(itm.arena_tunic_yellow)
arena_melee_fight.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=24, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_3)
sr46.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr46.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr46.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr46.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr46.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr46.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr46.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr46.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr46.add_ai_flag(AIFlag.START_ALARMED)
sr46.addItem(itm.heavy_practice_sword)
sr46.addItem(itm.practice_horse)
sr46.addItem(itm.arena_tunic_yellow)
arena_melee_fight.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=24, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_3)
sr47.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr47.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr47.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr47.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr47.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr47.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr47.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr47.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr47.add_ai_flag(AIFlag.START_ALARMED)
sr47.addItem(itm.practice_lance)
sr47.addItem(itm.practice_shield)
sr47.addItem(itm.practice_horse)
sr47.addItem(itm.arena_tunic_yellow)
sr47.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=24, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_3)
sr48.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr48.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr48.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr48.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr48.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr48.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr48.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr48.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr48.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr48.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr48.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr48.add_ai_flag(AIFlag.START_ALARMED)
sr48.addItem(itm.practice_bow)
sr48.addItem(itm.practice_arrows)
sr48.addItem(itm.practice_horse)
sr48.addItem(itm.arena_tunic_yellow)
sr48.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=24, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_3)
sr49.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr49.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr49.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr49.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr49.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr49.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr49.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr49.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr49.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr49.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr49.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr49.add_ai_flag(AIFlag.START_ALARMED)
sr49.addItem(itm.practice_bow)
sr49.addItem(itm.practice_arrows)
sr49.addItem(itm.practice_horse)
sr49.addItem(itm.arena_tunic_yellow)
sr49.addItem(itm.gold_tourney_helmet)
arena_melee_fight.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr50.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr50.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr50.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr50.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr50.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr50.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr50.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr51.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr51.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr51.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr51.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr51.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr51.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr52.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr53.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr54.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr55.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
arena_melee_fight.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_0)
sr56.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr56.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr56.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr56.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr56.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr56.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr56.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr56.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr56.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr56.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr56.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr56.add_ai_flag(AIFlag.START_ALARMED)
sr56.addItem(itm.practice_sword)
sr56.addItem(itm.practice_shield)
sr56.addItem(itm.padded_cloth)
sr56.addItem(itm.segmented_helmet)
arena_melee_fight.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_0)
sr57.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr57.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr57.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr57.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr57.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr57.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr57.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr57.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr57.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr57.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr57.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr57.add_ai_flag(AIFlag.START_ALARMED)
sr57.addItem(itm.practice_sword)
sr57.addItem(itm.practice_shield)
sr57.addItem(itm.padded_cloth)
sr57.addItem(itm.segmented_helmet)
arena_melee_fight.addSpawnRecord(sr57)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    change_banners_and_chest()
    _g_arena_training_num_agents_spawned = 0
trigger0.codeBlock = code
arena_melee_fight.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_arena)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
arena_melee_fight.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    if _g_mt_mode == 2:
        set_trigger_result(1)
    else:
        question_box(gstr.give_up_fight)
    #end
trigger2.codeBlock = code
arena_melee_fight.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    if var001 == 0:
        if _g_mt_mode == 3:
            end_tournament_fight(0)
        elif _g_mt_mode == 1:
            agent_no_002 = get_player_agent_no()
            _g_arena_training_kills = agent_get_kill_count(agent_no_002,1)
        #end
    #end
    finish_mission(0)
trigger3.codeBlock = code
arena_melee_fight.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    if _g_mt_mode == 2:
        music_set_situation_with_culture(65536)
        reg1 = store_current_scene()
        scene_set_slot(reg1,0,1)
        mission_enable_talk()
        agent_no_001 = get_player_agent_no()
        var002 = 0
        for cur_agent in __all_agents__:
            if cur_agent != agent_no_001:
                troop_id_004 = agent_get_troop_id(cur_agent)
                if is_between(troop_id_004,trp.novice_fighter,trp.tournament_master) and var002 == 0:
                    agent_set_team(cur_agent,1)
                    var002 = 1
                #end
            #end
        #end
    #end
trigger4.codeBlock = code
arena_melee_fight.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    if _g_mt_mode == 3:
        play_sound(snd.arena_ambiance,2)
        music_set_situation_with_culture(131072)
trigger5.codeBlock = code
arena_melee_fight.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 3 and main_hero_fallen() or num_active_teams_le(1):
        pass
trigger6.conditionBlock = condition

def code():
    if not main_hero_fallen():
        end_tournament_fight(1)
        play_victorious_sound()
        finish_mission()
    else:
        end_tournament_fight(0)
        finish_mission()
    #end
trigger6.codeBlock = code
arena_melee_fight.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    if _g_mt_mode == 1:
        start_presentation(prsnt.arena_training)
trigger7.codeBlock = code
arena_melee_fight.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if _g_mt_mode == 1:
        _g_arena_training_max_opponents = 40
        _g_arena_training_num_agents_spawned = 0
        _g_arena_training_kills = 0
        _g_arena_training_won = 0
        music_set_situation_with_culture(131072)
trigger8.codeBlock = code
arena_melee_fight.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if _g_mt_mode == 1:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 > 3:
            var002 = 0
            if _g_arena_training_num_agents_spawned >= _g_arena_training_max_opponents and num_active_teams_le(1):
                var002 = 1
                if var002 == 1 or main_hero_fallen():
                    pass
                #end
            #end
        #end
    #end
trigger9.conditionBlock = condition

def code():
    m_timer_a_001 = get_player_agent_no()
    _g_arena_training_kills = agent_get_kill_count(m_timer_a_001,1)
    _g_arena_training_won = 0
    if not main_hero_fallen():
        _g_arena_training_won = 1
    #end
    _g_mt_mode = 2
    set_jump_mission(mt.arena_melee_fight)
    party_slot_002 = party_get_slot(_current_town,16)
    modify_visitors_at_site(party_slot_002)
    reset_visitors()
    set_visitor(35,trp.veteran_fighter)
    set_visitor(36,trp.hired_blade)
    set_jump_entry(50)
    jump_to_scene(party_slot_002)
trigger9.codeBlock = code
arena_melee_fight.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.200000, 0.000000, 0.000000)
def condition():
    if _g_mt_mode == 1:
        var001 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_team_no_003 = agent_get_team(cur_agent)
                if is_between(agent_team_no_003,0,7):
                    var001 += 1
                #end
            #end
        #end
    #end
    if var001 < 7 and not main_hero_fallen():
        if m_timer_a_004 >= _g_arena_training_next_spawn_time or _g_arena_training_num_agents_spawned >= 6 or num_active_teams_le(1) and _g_arena_training_num_agents_spawned < _g_arena_training_max_opponents:
            m_timer_a_004 = store_mission_timer_a()
trigger10.conditionBlock = condition

def code():
    troop_id_001 = _g_arena_training_num_agents_spawned
    troop_id_001 = _g_arena_training_num_agents_spawned / 6
    cur_agent = _g_arena_training_num_agents_spawned
    cur_agent %= 6
    troop_id_001 += cur_agent
    val_min(troop_id_001,9)
    troop_id_001 = troop_id_001 + trp.arena_training_fighter_1
    agent_team_no_003 = 10000
    m_timer_a_004 = get_player_agent_no()
    pos5 = agent_get_position(m_timer_a_004)
    for var005 in range(0, agent_team_no_003):
        random_x_006 = store_random_in_range(32,40)
        if random_x_006 != _g_player_entry_point:
            pos1 = entry_point_get_position(random_x_006)
            distance_007 = get_distance_between_positions(5,1)
            if distance_007 > 1200:
                agent_team_no_003 = 0
            #end
        #end
    #end
    add_visitors_to_current_scene(random_x_006,troop_id_001,1)
    var008 = _g_arena_training_num_agents_spawned + 1
    m_timer_a_009 = store_mission_timer_a()
    _g_arena_training_next_spawn_time = m_timer_a_009 + 14
    var010 = var008 / 3
    _g_arena_training_next_spawn_time -= var010
trigger10.codeBlock = code
arena_melee_fight.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _g_mt_mode == 1:
        pass
trigger11.conditionBlock = condition

def code():
    var001 = 6
    val_max(var001,1)
    agent_no_002 = get_player_agent_no()
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and agent_is_alive(cur_agent) and agent_slot_eq(cur_agent,7,0):
            agent_team_no_004 = agent_get_team(cur_agent)
            if is_between(agent_team_no_004,0,7):
                if cur_agent == agent_no_002:
                    agent_set_team(cur_agent,6)
                else:
                    random_x_005 = store_random_in_range(0,var001)
                    for slot_no_006 in range(0, 6):
                        troop_set_slot(trp.temp_array_a,slot_no_006,0)
                    #end
                #end
            #end
            for cur_agent in __all_agents__:
                if agent_is_human(cur_agent) and agent_is_alive(cur_agent) and cur_agent != agent_no_002 and agent_slot_eq(cur_agent,7,1):
                    agent_team_no_008 = agent_get_team(cur_agent)
                    troop_slot_009 = troop_get_slot(trp.temp_array_a,agent_team_no_008)
                    troop_slot_009 += 1
                    troop_set_slot(trp.temp_array_a,agent_team_no_008,troop_slot_009)
                #end
            #end
            var010 = 0
            troop_slot_011 = troop_get_slot(trp.temp_array_a,0)
            for slot_no_006 in range(1, 6):
                if troop_slot_ge(trp.temp_array_a,slot_no_006,troop_slot_011):
                    troop_slot_011 = troop_get_slot(trp.temp_array_a,slot_no_006)
                    var010 = slot_no_006
                #end
            #end
            random_x_012 = store_random_in_range(5,100)
            if random_x_012 < _g_arena_training_num_agents_spawned:
                random_x_005 = var010
            #end
            agent_set_team(cur_agent,random_x_005)
        #end
        agent_set_slot(cur_agent,7,1)
        if cur_agent != agent_no_002:
            _g_arena_training_num_agents_spawned += 1
        #end
    #end
trigger11.codeBlock = code
arena_melee_fight.add_trigger(trigger11)


arena_challenge_fight = MissionTemplate("arena_challenge_fight", description="You enter a melee fight in the arena.")
arena_challenge_fight.add_flag(MissionTemplateFlag.ARENA_FIGHT)
arena_challenge_fight.add_flag(MissionTemplateFlag.TEAM_FIGHT)
arena_challenge_fight.add_flag(MissionTemplateFlag.COMMIT_CASUALTIES)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=56, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
arena_challenge_fight.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=58, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_spawn_flag(SpawnFlag.TEAM_2)
sr1.add_ai_flag(AIFlag.START_ALARMED)
arena_challenge_fight.addSpawnRecord(sr1)
# ---
# trigger 0
trigger0 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger0.conditionBlock = condition

def code():
    pass
trigger0.codeBlock = code
arena_challenge_fight.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
arena_challenge_fight.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger2.codeBlock = code
arena_challenge_fight.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    music_set_situation_with_culture(131072)
trigger3.codeBlock = code
arena_challenge_fight.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen() or num_active_teams_le(1):
        pass
trigger4.conditionBlock = condition

def code():
    if main_hero_fallen() and check_quest_active(qst.duel_for_lady) and quest_slot_eq(qst.duel_for_lady,2,_g_duel_troop):
        fail_quest(qst.duel_for_lady)
    elif check_quest_active(qst.duel_for_lady) and quest_slot_eq(qst.duel_for_lady,2,_g_duel_troop):
        succeed_quest(qst.duel_for_lady)
    elif main_hero_fallen() and check_quest_active(qst.duel_courtship_rival) and quest_slot_eq(qst.duel_courtship_rival,2,_g_duel_troop):
        fail_quest(qst.duel_courtship_rival)
    elif check_quest_active(qst.duel_courtship_rival) and quest_slot_eq(qst.duel_courtship_rival,2,_g_duel_troop):
        succeed_quest(qst.duel_courtship_rival)
    elif main_hero_fallen() and check_quest_active(qst.duel_avenge_insult) and quest_slot_eq(qst.duel_avenge_insult,2,_g_duel_troop):
        fail_quest(qst.duel_avenge_insult)
    elif check_quest_active(qst.duel_avenge_insult) and quest_slot_eq(qst.duel_avenge_insult,2,_g_duel_troop):
        succeed_quest(qst.duel_avenge_insult)
    elif main_hero_fallen() and check_quest_active(qst.denounce_lord) and quest_slot_eq(qst.denounce_lord,2,_g_duel_troop):
        fail_quest(qst.denounce_lord)
    elif check_quest_active(qst.denounce_lord) and quest_slot_eq(qst.denounce_lord,2,_g_duel_troop):
        succeed_quest(qst.denounce_lord)
    else:
        quest_slot_001 = quest_get_slot(qst.denounce_lord,2)
        s4 = str_store_troop_name(quest_slot_001)
    #end
    finish_mission()
trigger4.codeBlock = code
arena_challenge_fight.add_trigger(trigger4)


duel_with_lord = MissionTemplate("duel_with_lord", description="You enter a melee fight in the arena.")
duel_with_lord.add_flag(MissionTemplateFlag.ARENA_FIGHT)
duel_with_lord.add_flag(MissionTemplateFlag.TEAM_FIGHT)
duel_with_lord.add_flag(MissionTemplateFlag.COMMIT_CASUALTIES)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_ai_flag(AIFlag.START_ALARMED)
sr0.addItem(itm.sword_medieval_a)
sr0.addItem(itm.arena_tunic_blue)
duel_with_lord.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=16, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_ai_flag(AIFlag.START_ALARMED)
sr1.addItem(itm.sword_medieval_a)
sr1.addItem(itm.arena_tunic_blue)
duel_with_lord.addSpawnRecord(sr1)
# ---
# trigger 0
trigger0 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger0.conditionBlock = condition

def code():
    pass
trigger0.codeBlock = code
duel_with_lord.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
duel_with_lord.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger2.codeBlock = code
duel_with_lord.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    music_set_situation_with_culture(131072)
trigger3.codeBlock = code
duel_with_lord.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen() or num_active_teams_le(1):
        pass
trigger4.conditionBlock = condition

def code():
    if main_hero_fallen() and check_quest_active(qst.duel_for_lady) and quest_slot_eq(qst.duel_for_lady,2,_g_duel_troop):
        fail_quest(qst.duel_for_lady)
    elif check_quest_active(qst.duel_for_lady) and quest_slot_eq(qst.duel_for_lady,2,_g_duel_troop):
        succeed_quest(qst.duel_for_lady)
    elif main_hero_fallen() and check_quest_active(qst.duel_courtship_rival) and quest_slot_eq(qst.duel_courtship_rival,2,_g_duel_troop):
        fail_quest(qst.duel_courtship_rival)
    elif check_quest_active(qst.duel_courtship_rival) and quest_slot_eq(qst.duel_courtship_rival,2,_g_duel_troop):
        succeed_quest(qst.duel_courtship_rival)
    elif main_hero_fallen() and check_quest_active(qst.duel_avenge_insult) and quest_slot_eq(qst.duel_avenge_insult,2,_g_duel_troop):
        fail_quest(qst.duel_avenge_insult)
    elif check_quest_active(qst.duel_avenge_insult) and quest_slot_eq(qst.duel_avenge_insult,2,_g_duel_troop):
        succeed_quest(qst.duel_avenge_insult)
    elif main_hero_fallen() and check_quest_active(qst.denounce_lord) and quest_slot_eq(qst.denounce_lord,2,_g_duel_troop):
        fail_quest(qst.denounce_lord)
    elif check_quest_active(qst.denounce_lord) and quest_slot_eq(qst.denounce_lord,2,_g_duel_troop):
        succeed_quest(qst.denounce_lord)
    else:
        quest_slot_001 = quest_get_slot(qst.denounce_lord,2)
        s4 = str_store_troop_name(quest_slot_001)
    #end
    finish_mission()
trigger4.codeBlock = code
duel_with_lord.add_trigger(trigger4)


wedding = MissionTemplate("wedding", description="Wedding")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tabard)
sr0.addItem(itm.ankle_boots)
wedding.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr1.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr1.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr1.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr1.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr1.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr1.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr1.addItem(itm.bride_dress)
sr1.addItem(itm.bride_crown)
sr1.addItem(itm.bride_shoes)
wedding.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr2.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr3.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr3.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr3.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr3.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr3.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr3.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr3.addItem(itm.courtly_outfit)
sr3.addItem(itm.blue_hose)
wedding.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr4.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr5.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr6.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr7.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr8.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr9.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr10.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr11.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr12.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr12.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr13.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr13.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr14.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr14.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr15.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr15.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr16.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr16.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr17.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr17.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr18.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr18.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr19.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr19.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr20.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr20.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr21.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr21.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr22.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr22.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr23.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr23.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr24.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr24.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr25.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr25.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr26.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr26.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr27.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr28.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr29.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr29.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr30.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr30.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr31.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr31.add_alter_flag(AlterFlag.REQUIRE_CIVILIAN)
wedding.addSpawnRecord(sr31)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    show_object_details_overlay(1)
    finish_mission(0)
trigger0.codeBlock = code
wedding.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        show_object_details_overlay(1)
        finish_mission(0)
trigger1.codeBlock = code
wedding.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    _g_wedding_state = 0
    play_track(track.wedding,2)
    show_object_details_overlay(0)
trigger2.codeBlock = code
wedding.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(agent_id_001):
    troop_id_002 = agent_get_troop_id(agent_id_001)
    troop_type_003 = troop_get_type(troop_id_002)
    set_fixed_point_multiplier(100)
    if troop_id_002 == _g_wedding_bishop_troop:
        pass
    elif troop_id_002 == _g_wedding_bride_troop:
        agent_set_no_dynamics(agent_id_001,1)
        init_position(1)
        position_set_z(1,-1000)
        agent_set_position(agent_id_001,1)
    elif troop_id_002 == _g_wedding_brides_dad_troop:
        agent_set_no_dynamics(agent_id_001,1)
        init_position(1)
        position_set_z(1,-1000)
        agent_set_position(agent_id_001,1)
    elif troop_id_002 == _g_wedding_groom_troop:
        agent_set_no_dynamics(agent_id_001,1)
        init_position(1)
        position_move_x(1,175)
        position_move_z(1,10)
        position_rotate_z(1,180)
        agent_set_position(agent_id_001,1)
        agent_set_animation(agent_id_001,anim.wedding_groom_wait)
    else:
        if troop_type_003 == 0:
            random_x_004 = store_random_in_range(0,3)
            if random_x_004 == 0:
                agent_set_slot(agent_id_001,18,anim.wedding_guest_notr)
                agent_set_animation(agent_id_001,anim.wedding_guest_notr)
            else:
                agent_set_slot(agent_id_001,18,anim.wedding_guest)
                agent_set_animation(agent_id_001,anim.wedding_guest)
            #end
        else:
            agent_set_slot(agent_id_001,18,anim.wedding_guest_woman)
            agent_set_animation(agent_id_001,anim.wedding_guest_woman)
        #end
        random_x_005 = store_random_in_range(0,100)
        agent_set_animation_progress(agent_id_001,random_x_005)
    #end
trigger3.codeBlock = code
wedding.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    set_fixed_point_multiplier(100)
    for cur_agent in __all_agents__:
        troop_id_003 = agent_get_troop_id(cur_agent)
        if troop_id_003 == _g_wedding_groom_troop:
            pass
        elif troop_id_003 == _g_wedding_bride_troop:
            pass
        elif troop_id_003 == _g_wedding_brides_dad_troop:
            pass
        elif troop_id_003 == _g_wedding_bishop_troop:
            pass
        else:
            agent_slot_004 = agent_get_slot(cur_agent,18)
            agent_set_animation(cur_agent,agent_slot_004)
        #end
    #end
    if _g_wedding_state == 0:
        mission_cam_set_mode(1,0,0)
        init_position(1)
        position_rotate_z(1,180)
        position_rotate_x(1,5)
        position_set_x(1,-500)
        position_set_y(1,1000)
        position_set_z(1,600)
        mission_cam_set_position(1)
        init_position(1)
        position_rotate_z(1,180)
        position_rotate_x(1,-15)
        position_set_x(1,-500)
        position_set_y(1,1000)
        position_set_z(1,600)
        mission_cam_animate_to_position(1,4000,0)
        _g_wedding_state += 1
    elif _g_wedding_state == 1 and m_timer_a_001 >= 4:
        init_position(1)
        position_rotate_z(1,90)
        position_rotate_x(1,-10)
        position_set_x(1,-580)
        position_set_y(1,700)
        position_set_z(1,200)
        mission_cam_set_position(1)
        init_position(1)
        position_rotate_z(1,150)
        position_rotate_x(1,-10)
        position_set_x(1,-580)
        position_set_y(1,100)
        position_set_z(1,200)
        mission_cam_animate_to_position(1,6000,1)
        _g_wedding_state += 1
    elif _g_wedding_state == 2 and m_timer_a_001 >= 9:
        mission_cam_animate_to_screen_color(4278190080,1000)
        _g_wedding_state += 1
    elif _g_wedding_state == 3 and m_timer_a_001 >= 10:
        init_position(1)
        position_move_x(1,175)
        position_move_z(1,10)
        position_rotate_z(1,180)
        for cur_agent in __all_agents__:
            troop_id_005 = agent_get_troop_id(cur_agent)
            if troop_id_005 == _g_wedding_bride_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_bride_stairs)
            elif troop_id_005 == _g_wedding_brides_dad_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_dad_stairs)
            #end
        #end
        init_position(1)
        position_rotate_z(1,-90)
        position_set_x(1,300)
        position_set_y(1,950)
        position_set_z(1,420)
        mission_cam_set_position(1)
        position_set_x(1,175)
        position_set_y(1,950)
        position_set_z(1,320)
        mission_cam_animate_to_position(1,4000,0)
        mission_cam_animate_to_screen_color(0,500)
        _g_wedding_state += 1
    elif _g_wedding_state == 4 and m_timer_a_001 >= 14:
        init_position(1)
        position_rotate_z(1,-60)
        position_rotate_x(1,10)
        position_set_x(1,-400)
        position_set_y(1,200)
        position_set_z(1,115)
        mission_cam_set_position(1)
        _g_wedding_state += 1
    elif _g_wedding_state == 5 and m_timer_a_001 >= 20:
        init_position(1)
        position_move_x(1,175)
        position_move_z(1,10)
        position_rotate_z(1,180)
        for cur_agent in __all_agents__:
            troop_id_005 = agent_get_troop_id(cur_agent)
            if troop_id_005 == _g_wedding_bride_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_bride_walk)
            elif troop_id_005 == _g_wedding_brides_dad_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_dad_walk)
            #end
        #end
        init_position(1)
        position_rotate_z(1,-140)
        position_rotate_x(1,-15)
        position_set_x(1,-625)
        position_set_y(1,-530)
        position_set_z(1,180)
        mission_cam_set_position(1)
        _g_wedding_state += 1
    elif _g_wedding_state == 6 and m_timer_a_001 >= 22:
        init_position(1)
        position_rotate_z(1,45)
        position_rotate_x(1,-10)
        position_set_x(1,-260)
        position_set_y(1,120)
        position_set_z(1,275)
        mission_cam_set_position(1)
        position_rotate_z(1,10)
        mission_cam_animate_to_position(1,2000,0)
        _g_wedding_state += 1
    elif _g_wedding_state == 7 and m_timer_a_001 >= 24:
        init_position(1)
        position_move_x(1,175)
        position_move_z(1,10)
        position_rotate_z(1,180)
        for cur_agent in __all_agents__:
            troop_id_005 = agent_get_troop_id(cur_agent)
            if troop_id_005 == _g_wedding_bride_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_bride_last)
            elif troop_id_005 == _g_wedding_brides_dad_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_dad_last)
            elif troop_id_005 == _g_wedding_groom_troop:
                agent_set_position(cur_agent,1)
                agent_set_animation(cur_agent,anim.wedding_groom_last)
            #end
        #end
        init_position(1)
        position_rotate_z(1,-45)
        position_rotate_x(1,-10)
        position_set_x(1,-900)
        position_set_y(1,-850)
        position_set_z(1,230)
        mission_cam_set_position(1)
        _g_wedding_state += 1
    elif _g_wedding_state == 8 and m_timer_a_001 >= 31:
        init_position(1)
        position_set_x(1,-550)
        position_set_y(1,-625)
        position_set_z(1,1500)
        particle_system_burst(psys.wedding_rose,1,750)
        _g_wedding_state += 1
    elif _g_wedding_state == 9 and m_timer_a_001 >= 33:
        init_position(1)
        position_rotate_z(1,180)
        position_set_x(1,-536)
        position_set_y(1,-415)
        position_set_z(1,135)
        mission_cam_set_position(1)
        position_rotate_z(1,-8)
        position_set_z(1,350)
        position_rotate_x(1,35)
        mission_cam_animate_to_position_and_aperture(1,10,9000,1)
        _g_wedding_state += 1
    elif _g_wedding_state == 10 and m_timer_a_001 >= 41:
        mission_cam_set_screen_color(16777215)
        mission_cam_animate_to_screen_color(4294967295,3000)
        _g_wedding_state += 1
    elif _g_wedding_state == 11 and m_timer_a_001 >= 48:
        show_object_details_overlay(1)
        finish_mission(0)
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
wedding.add_trigger(trigger4)


tutorial_training_ground = MissionTemplate("tutorial_training_ground", description="You enter the training ground.")
tutorial_training_ground.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_training_ground.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
tutorial_training_ground.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr32.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr32.add_ai_flag(AIFlag.START_ALARMED)
sr32.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr33.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr33.add_ai_flag(AIFlag.START_ALARMED)
sr33.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr34.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr34.add_ai_flag(AIFlag.START_ALARMED)
sr34.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr35.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr35.add_ai_flag(AIFlag.START_ALARMED)
sr35.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_0)
sr40.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_0)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr41.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr41.add_ai_flag(AIFlag.START_ALARMED)
sr41.addItem(itm.practice_bow)
sr41.addItem(itm.practice_arrows)
tutorial_training_ground.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_0)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr42.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr42.add_ai_flag(AIFlag.START_ALARMED)
sr42.addItem(itm.practice_bow)
sr42.addItem(itm.practice_arrows)
tutorial_training_ground.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_0)
sr43.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_0)
sr44.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_0)
sr45.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_0)
sr46.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_0)
sr47.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_0)
sr48.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_0)
sr49.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_0)
sr50.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_0)
sr51.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_0)
sr52.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_0)
sr53.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_0)
sr54.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_0)
sr55.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_0)
sr56.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_0)
sr57.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_0)
sr58.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_0)
sr59.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_0)
sr60.add_ai_flag(AIFlag.START_ALARMED)
tutorial_training_ground.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_0)
sr61.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr61.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr61.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr61.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr61.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr61.add_ai_flag(AIFlag.START_ALARMED)
sr61.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_0)
sr62.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr62.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr62.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr62.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr62.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr62.add_ai_flag(AIFlag.START_ALARMED)
sr62.addItem(itm.practice_sword)
tutorial_training_ground.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_0)
sr63.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr63.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr63.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr63.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr63.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr63.add_ai_flag(AIFlag.START_ALARMED)
sr63.addItem(itm.practice_bow)
sr63.addItem(itm.practice_arrows)
tutorial_training_ground.addSpawnRecord(sr63)
# spawn record 64
sr64 = SpawnRecord(entry_no=64, number_of_troops=1)
sr64.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr64.add_spawn_flag(SpawnFlag.TEAM_0)
sr64.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr64.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr64.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr64.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr64.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr64.add_ai_flag(AIFlag.START_ALARMED)
sr64.addItem(itm.practice_bow)
sr64.addItem(itm.practice_arrows)
tutorial_training_ground.addSpawnRecord(sr64)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _g_tutorial_training_ground_state < 20:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_training_ground.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_training_ground.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_training_ground.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    start_presentation(prsnt.tutorial_show_mouse_movement)
trigger3.codeBlock = code
tutorial_training_ground.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code(agent_id_001):
    troop_id_005_list2 = [
    trp.tutorial_rider_2,
    trp.tutorial_rider_1,
    ]
    agent_ai_set_always_attack_in_melee(agent_id_001,1)
    agent_set_no_death_knock_down_only(agent_id_001,1)
    agent_set_invulnerable_shield(agent_id_001,1)
    pos1 = agent_get_position(agent_id_001)
    agent_set_slot(agent_id_001,8,-1)
    agent_no_002 = get_player_agent_no()
    if agent_id_001 == agent_no_002:
        agent_set_team(agent_id_001,7)
    #end
    for var003 in range(0, 64):
        pos2 = entry_point_get_position(var003)
        sq_distance_004 = get_sq_distance_between_positions(1,2)
        if sq_distance_004 < 100:
            agent_set_slot(agent_id_001,8,var003)
        #end
    #end
    troop_id_005 = agent_get_troop_id(agent_id_001)
    if troop_id_005 == trp.tutorial_archer_1:
        pos1 = agent_get_position(agent_id_001)
        agent_set_scripted_destination(agent_id_001,1)
        scp_num_instances_006 = scene_prop_get_num_instances(spr.archery_target_with_hit_a)
        var007 = 10000000
        var008 = -1
        for var009 in range(0, scp_num_instances_006):
            scp_instance_010 = scene_prop_get_instance(spr.archery_target_with_hit_a,var009)
            pos2 = prop_instance_get_position(scp_instance_010)
            sq_distance_011 = get_sq_distance_between_positions(1,2)
            if sq_distance_011 < var007:
                var007 = sq_distance_011
                var008 = scp_instance_010
            #end
        #end
        agent_set_slot(agent_id_001,9,var008)
    elif troop_id_005 in troop_id_005_list2:
        agent_set_slot(agent_id_001,11,48)
        agent_set_slot(agent_id_001,9,-1)
        pos1 = entry_point_get_position(48)
        agent_set_scripted_destination(agent_id_001,1)
    #end
trigger4.codeBlock = code
tutorial_training_ground.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-27.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code(var001, var002):
    troop_id_003 = agent_get_troop_id(var001)
    troop_id_004 = agent_get_troop_id(var002)
    if _g_tutorial_training_ground_melee_trainer_attack >= 0:
        pass
    elif _g_tutorial_training_ground_melee_trainer_parry >= 0:
        if troop_id_003 == trp.player and troop_id_004 == _g_tutorial_training_ground_melee_trainer_parry:
            _g_tutorial_training_ground_melee_state = 0
            agent_set_team(var001,0)
            agent_set_team(var002,7)
            tutorial_message(-1)
            _g_tutorial_mouse_dir = -1
            _g_tutorial_mouse_click = -1
            _g_tutorial_training_ground_conversation_state = 2
            play_sound(snd.tutorial_fail)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_parry)
            _g_tutorial_training_ground_melee_trainer_parry = -1
            if _g_tutorial_training_ground_melee_trainer_action_state == 1:
                agent_set_attack_action(var001,0,0)
            #end
        elif troop_id_004 == trp.player and troop_id_003 == _g_tutorial_training_ground_melee_trainer_parry:
            agent_set_team(var001,7)
            agent_set_team(var002,0)
            tutorial_message(-1)
            _g_tutorial_mouse_dir = -1
            _g_tutorial_mouse_click = -1
            _g_tutorial_training_ground_conversation_state = 3
            play_sound(snd.tutorial_fail)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_parry)
            _g_tutorial_training_ground_melee_trainer_parry = -1
            if _g_tutorial_training_ground_melee_trainer_action_state == 1:
                agent_set_attack_action(var001,0,0)
            #end
        #end
    elif _g_tutorial_training_ground_melee_trainer_chamber >= 0:
        if troop_id_003 == trp.player and troop_id_004 == _g_tutorial_training_ground_melee_trainer_chamber:
            _g_tutorial_training_ground_melee_state = 0
            agent_set_team(var001,0)
            agent_set_team(var002,7)
            tutorial_message(-1)
            _g_tutorial_mouse_dir = -1
            _g_tutorial_mouse_click = -1
            _g_tutorial_training_ground_conversation_state = 7
            play_sound(snd.tutorial_fail)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_chamber)
            _g_tutorial_training_ground_melee_trainer_chamber = -1
            if _g_tutorial_training_ground_melee_trainer_action_state == 1:
                agent_set_attack_action(var001,0,0)
            #end
        elif troop_id_004 == trp.player and troop_id_003 == _g_tutorial_training_ground_melee_trainer_chamber:
            agent_set_team(var001,7)
            agent_set_team(var002,0)
            tutorial_message(-1)
            _g_tutorial_mouse_dir = -1
            _g_tutorial_mouse_click = -1
            _g_tutorial_training_ground_conversation_state = 8
            play_sound(snd.tutorial_fail)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_chamber)
            _g_tutorial_training_ground_melee_trainer_chamber = -1
            if _g_tutorial_training_ground_melee_trainer_action_state == 1:
                agent_set_attack_action(var001,0,0)
            #end
        #end
    elif _g_tutorial_training_ground_melee_trainer_combat >= 0:
        if troop_id_003 == trp.player and troop_id_004 == _g_tutorial_training_ground_melee_trainer_combat:
            _g_tutorial_training_ground_melee_state = 0
            agent_set_team(var001,0)
            agent_set_team(var002,7)
            tutorial_message(-1)
            _g_tutorial_training_ground_conversation_state = 4
            play_sound(snd.tutorial_fail)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_combat)
            _g_tutorial_training_ground_melee_trainer_combat = -1
        elif troop_id_004 == trp.player and troop_id_003 == _g_tutorial_training_ground_melee_trainer_combat:
            _g_tutorial_training_ground_melee_state = 0
            agent_set_team(var001,7)
            agent_set_team(var002,0)
            tutorial_message(-1)
            _g_tutorial_training_ground_conversation_state = 5
            play_sound(snd.tutorial_2)
            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_combat)
            _g_tutorial_training_ground_melee_trainer_combat = -1
        #end
    elif agent_is_human(var001):
        _g_tutorial_training_ground_melee_last_winner = var002
        _g_tutorial_training_ground_melee_last_loser = var001
        _g_tutorial_training_ground_melee_state = 0
        agent_set_team(_g_tutorial_training_ground_melee_cur_fighter_1,7)
        agent_set_team(_g_tutorial_training_ground_melee_cur_fighter_2,7)
        agent_force_rethink(_g_tutorial_training_ground_melee_cur_fighter_1)
        agent_force_rethink(_g_tutorial_training_ground_melee_cur_fighter_2)
    #end
    agent_set_hit_points(var001,100,0)
    agent_set_hit_points(var002,100,0)
trigger5.codeBlock = code
tutorial_training_ground.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    scene_set_day_time(13)
    team_set_relation(0,1,0)
    team_set_relation(0,2,0)
    team_set_relation(0,3,0)
    team_set_relation(0,7,0)
    team_set_relation(7,1,1)
    team_set_relation(7,2,1)
    team_set_relation(7,3,1)
    team_set_relation(1,2,-1)
    team_set_relation(1,3,1)
    team_set_relation(2,3,1)
    _g_position_to_use_for_replacing_scene_items = 8
    replace_scene_items_with_spawn_items_before_ms()
    _g_tutorial_training_ground_state = 0
    _g_tutorial_training_ground_conversation_state = 0
    _g_tutorial_training_ground_melee_paused = 0
    _g_tutorial_training_ground_melee_state = 0
    _g_tutorial_training_ground_melee_next_action_time = 0
    _g_tutorial_training_ground_melee_last_winner = -1
    _g_tutorial_training_ground_melee_last_loser = -1
    _g_tutorial_training_ground_melee_cur_fighter_1 = -1
    _g_tutorial_training_ground_melee_cur_fighter_2 = -1
    _g_tutorial_training_ground_melee_trainer_attack = -1
    _g_tutorial_training_ground_melee_trainer_parry = -1
    _g_tutorial_training_ground_melee_trainer_combat = -1
    _g_tutorial_training_ground_melee_trainer_chamber = -1
    _g_tutorial_training_ground_melee_trainer_next_action_time = 0
    _g_tutorial_training_ground_archer_trainer_state = 0
    _g_tutorial_training_ground_archer_trainer_completed_chapters = 0
    _g_tutorial_training_ground_horseman_trainer_state = 0
    _g_tutorial_training_ground_horseman_trainer_completed_chapters = 0
    _g_tutorial_training_ground_next_score_time = 0
    _g_tutorial_mouse_dir = -1
    _g_tutorial_mouse_click = -1
    _g_pointer_arrow_height_adder = -1000
trigger6.codeBlock = code
tutorial_training_ground.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    mission_enable_talk()
    replace_scene_items_with_spawn_items_after_ms()
    pos1 = entry_point_get_position(59)
    set_spawn_position(1)
    spawn_horse(itm.practice_horse,0)
    _g_tutorial_training_ground_intro_message_being_displayed = 1
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_bow,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_bow_2,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_arrows,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_arrows_2,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_crossbow,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_bolts,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.practice_javelin,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
    item_instance_001 = scene_spawned_item_get_instance(itm.arena_lance,0)
    pos0 = prop_instance_get_position(item_instance_001)
    position_move_z(0,-1000,1)
    prop_instance_set_position(item_instance_001,0)
trigger7.codeBlock = code
tutorial_training_ground.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(0.000000, 1.000000, 100000000.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    tutorial_message_set_background(1)
    tutorial_message(gstr.tutorial_training_ground_intro_message)
trigger8.codeBlock = code
tutorial_training_ground.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    for cur_agent in __all_agents__:
        troop_id_003 = agent_get_troop_id(cur_agent)
        if troop_id_003 == trp.tutorial_archer_1:
            if True:
                agent_wieled_item_004 = agent_get_wielded_item(cur_agent,0)
                if agent_wieled_item_004 != itm.practice_bow:
                    agent_set_wielded_item(cur_agent,itm.practice_bow)
                else:
                    agent_slot_005 = agent_get_slot(cur_agent,9)
                    pos1 = prop_instance_get_position(agent_slot_005)
                    position_move_z(1,10)
                    agent_set_look_target_position(cur_agent,1)
                    if not agent_slot_ge(cur_agent,19,m_timer_a_001):
                        agent_set_attack_action(cur_agent,0)
                        random_x_006 = store_random_in_range(3,13)
                        random_x_006 += m_timer_a_001
                        agent_set_slot(cur_agent,19,random_x_006)
                    #end
                #end
            #end
        #end
    #end
trigger9.conditionBlock = condition

def code():
    pass
trigger9.codeBlock = code
tutorial_training_ground.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_002_list1 = [
    trp.tutorial_rider_2,
    trp.tutorial_rider_1,
    ]
    set_fixed_point_multiplier(100)
    for cur_agent in __all_agents__:
        troop_id_002 = agent_get_troop_id(cur_agent)
        if troop_id_002 in troop_id_002_list1:
            agent_slot_003 = agent_get_slot(cur_agent,11)
            pos1 = entry_point_get_position(agent_slot_003)
            pos2 = agent_get_position(cur_agent)
            sq_distance_004 = get_sq_distance_between_positions(1,2)
            if sq_distance_004 < 6400:
                agent_slot_003 += 1
                if agent_slot_003 > 57:
                    agent_slot_003 = 48
                #end
            #end
            agent_set_slot(cur_agent,11,agent_slot_003)
            pos1 = entry_point_get_position(agent_slot_003)
            agent_set_scripted_destination(cur_agent,1)
        #end
        if troop_id_002 == trp.tutorial_rider_2:
            if True:
                agent_wieled_item_005 = agent_get_wielded_item(cur_agent,0)
                if agent_wieled_item_005 != itm.practice_bow:
                    agent_set_wielded_item(cur_agent,itm.practice_bow)
                else:
                    scp_num_instances_006 = scene_prop_get_num_instances(spr.archery_target_with_hit_a)
                    var007 = 10000000
                    var008 = -1
                    for var009 in range(0, scp_num_instances_006):
                        scp_instance_010 = scene_prop_get_instance(spr.archery_target_with_hit_a,var009)
                        if not agent_slot_eq(cur_agent,9,scp_instance_010):
                            pos1 = prop_instance_get_position(scp_instance_010)
                            if position_is_behind_position(2,1):
                                sq_distance_004 = get_sq_distance_between_positions(1,2)
                                if sq_distance_004 < var007:
                                    var007 = sq_distance_004
                                    var008 = scp_instance_010
                                #end
                            #end
                        #end
                    #end
                #end
                if var007 < 40000:
                    pos1 = prop_instance_get_position(var008)
                    position_move_z(1,10)
                    init_position(3)
                    position_set_x(3,-160)
                    position_transform_position_to_parent(4,1,3)
                    copy_position(1,4)
                    agent_set_look_target_position(cur_agent,1)
                    if var007 < 22500:
                        agent_set_slot(cur_agent,9,var008)
                        agent_set_attack_action(cur_agent,0)
                    else:
                        agent_slot_011 = agent_get_slot(cur_agent,9)
                        if agent_slot_011 >= 0:
                            pos1 = prop_instance_get_position(agent_slot_011)
                            sq_distance_004 = get_sq_distance_between_positions(1,2)
                            if sq_distance_004 < 40000:
                                position_move_z(1,10)
                                init_position(3)
                                position_set_x(3,-160)
                                position_transform_position_to_parent(4,1,3)
                                copy_position(1,4)
                                agent_set_look_target_position(cur_agent,1)
                            #end
                        #end
                    #end
                #end
            #end
        elif troop_id_002 == trp.tutorial_rider_1:
            if True:
                agent_wieled_item_005 = agent_get_wielded_item(cur_agent,0)
                if agent_wieled_item_005 != itm.practice_sword:
                    agent_set_wielded_item(cur_agent,itm.practice_sword)
                else:
                    scp_num_instances_006 = scene_prop_get_num_instances(spr.dummy_a_undestructable)
                    var007 = 10000000
                    var008 = -1
                    for var009 in range(0, scp_num_instances_006):
                        scp_instance_010 = scene_prop_get_instance(spr.dummy_a_undestructable,var009)
                        if not agent_slot_eq(cur_agent,9,scp_instance_010):
                            pos1 = prop_instance_get_position(scp_instance_010)
                            sq_distance_004 = get_sq_distance_between_positions(1,2)
                            if sq_distance_004 < var007:
                                var007 = sq_distance_004
                                var008 = scp_instance_010
                            #end
                        #end
                    #end
                #end
                if var007 < 10000:
                    pos1 = prop_instance_get_position(var008)
                    position_transform_position_to_local(3,2,1)
                    pos_x_012 = position_get_x(3)
                    pos_y_013 = position_get_y(3)
                    if is_between(pos_x_012,-200,200) and pos_y_013 > -100:
                        init_position(3)
                        if pos_x_012 < 0:
                            position_move_x(3,-100)
                            position_move_z(3,100)
                        else:
                            position_move_x(3,100)
                            position_move_z(3,150)
                        #end
                    #end
                    position_transform_position_to_parent(4,2,3)
                    agent_set_look_target_position(cur_agent,4)
                    if pos_x_012 < 0:
                        agent_set_attack_action(cur_agent,2,1)
                    else:
                        agent_set_attack_action(cur_agent,1,1)
                    #end
                    if var007 >= 900 or pos_y_013 < 100:
                        agent_set_attack_action(cur_agent,0,0)
                        agent_set_slot(cur_agent,9,var008)
                    else:
                        agent_slot_011 = agent_get_slot(cur_agent,9)
                        if agent_slot_011 >= 0:
                            pos1 = prop_instance_get_position(agent_slot_011)
                            sq_distance_004 = get_sq_distance_between_positions(1,2)
                            if sq_distance_004 < 10000:
                                position_transform_position_to_local(3,2,1)
                                pos_x_012 = position_get_x(3)
                                pos_y_013 = position_get_y(3)
                                if is_between(pos_x_012,-200,200) and pos_y_013 > -100:
                                    init_position(3)
                                    if pos_x_012 < 0:
                                        position_move_x(3,-100)
                                        position_move_z(3,100)
                                    else:
                                        position_move_x(3,100)
                                        position_move_z(3,150)
                                    #end
                                #end
                            #end
                        #end
                    #end
                    position_transform_position_to_parent(4,2,3)
                    agent_set_look_target_position(cur_agent,4)
                #end
            #end
        #end
    #end
trigger10.conditionBlock = condition

def code():
    pass
trigger10.codeBlock = code
tutorial_training_ground.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    for cur_agent in __all_agents__:
        troop_id_003 = agent_get_troop_id(cur_agent)
        if troop_id_003 == trp.tutorial_archer_1:
            if True:
                agent_wieled_item_004 = agent_get_wielded_item(cur_agent,0)
                if agent_wieled_item_004 != itm.practice_bow:
                    agent_set_wielded_item(cur_agent,itm.practice_bow)
                else:
                    agent_slot_005 = agent_get_slot(cur_agent,9)
                    pos1 = prop_instance_get_position(agent_slot_005)
                    agent_set_look_target_position(cur_agent,1)
                    if not agent_slot_ge(cur_agent,19,m_timer_a_001):
                        agent_set_attack_action(cur_agent,0)
                        random_x_006 = store_random_in_range(3,13)
                        random_x_006 += m_timer_a_001
                        agent_set_slot(cur_agent,19,random_x_006)
                    #end
                #end
            #end
        #end
    #end
trigger11.conditionBlock = condition

def code():
    pass
trigger11.codeBlock = code
tutorial_training_ground.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    iterate_pointer_arrow()
trigger12.conditionBlock = condition

def code():
    pass
trigger12.codeBlock = code
tutorial_training_ground.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(5.000000, 0.000000, 0.000000)
def condition():
    if True:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 30 and _g_tutorial_training_ground_intro_message_being_displayed == 1:
            _g_tutorial_training_ground_intro_message_being_displayed = 0
            tutorial_message(-1)
        #end
    #end
    agent_no_002 = get_player_agent_no()
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and cur_agent != agent_no_002:
            agent_refill_ammo(cur_agent)
        #end
    #end
trigger13.conditionBlock = condition

def code():
    pass
trigger13.codeBlock = code
tutorial_training_ground.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    agent_no_001 = get_player_agent_no()
    agent_wieled_item_002 = agent_get_wielded_item(agent_no_001,0)
    var003 = 0
    if agent_wieled_item_002 == itm.practice_bow and agent_has_item_equipped(agent_no_001,itm.practice_arrows):
        agent_ammo_004 = agent_get_ammo(agent_no_001,1)
        if agent_ammo_004 == 0:
            var003 = 1
        elif agent_wieled_item_002 == itm.practice_bow_2 and agent_has_item_equipped(agent_no_001,itm.practice_arrows_2):
            agent_ammo_004 = agent_get_ammo(agent_no_001,1)
            if agent_ammo_004 == 0:
                var003 = 1
            elif agent_wieled_item_002 == itm.practice_crossbow and agent_has_item_equipped(agent_no_001,itm.practice_bolts):
                agent_ammo_004 = agent_get_ammo(agent_no_001,1)
                if agent_ammo_004 == 0:
                    var003 = 1
                elif agent_wieled_item_002 == itm.practice_javelin:
                    agent_ammo_004 = agent_get_ammo(agent_no_001,1)
                    if agent_ammo_004 <= 1:
                        var003 = 1
                    #end
                #end
            #end
        #end
    #end
    if var003 == 1:
        agent_refill_ammo(agent_no_001)
        dialog_box(gstr.tutorial_training_ground_ammo_refill,"@Tutorial")
trigger14.conditionBlock = condition

def code():
    pass
trigger14.codeBlock = code
tutorial_training_ground.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_horseman_trainer_state != 0:
        mission_disable_talk()
        if _g_tutorial_training_ground_horseman_trainer_state == 1:
            _g_tutorial_training_ground_current_score = 0
            _g_tutorial_training_ground_horseman_trainer_state += 1
        elif _g_tutorial_training_ground_horseman_trainer_state == 2:
            if True:
                if _g_tutorial_training_ground_horseman_trainer_item_1 >= 0:
                    item_instance_002 = scene_spawned_item_get_instance(_g_tutorial_training_ground_horseman_trainer_item_1,0)
                    pos0 = prop_instance_get_position(item_instance_002)
                    position_move_z(0,1000,1)
                    prop_instance_set_position(item_instance_002,0)
                    scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
                    prop_instance_set_position(scp_instance_003,0)
                    _g_pointer_arrow_height_adder = 200
                    if _g_tutorial_training_ground_horseman_trainer_item_2 >= 0:
                        item_instance_002 = scene_spawned_item_get_instance(_g_tutorial_training_ground_horseman_trainer_item_2,0)
                        pos0 = prop_instance_get_position(item_instance_002)
                        position_move_z(0,1000,1)
                        prop_instance_set_position(item_instance_002,0)
                    #end
                #end
            #end
            _g_tutorial_training_ground_horseman_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_horseman_trainer_state == 3:
        if _g_tutorial_training_ground_horseman_trainer_item_1 >= 0:
            if True:
                s0 = str_store_item_name(_g_tutorial_training_ground_horseman_trainer_item_1)
                tutorial_message(gstr.tutorial_training_ground_horseman_text_1)
                if agent_has_item_equipped(agent_no_001,_g_tutorial_training_ground_horseman_trainer_item_1):
                    _g_tutorial_training_ground_horseman_trainer_state += 1
                    play_sound(snd.tutorial_1)
                #end
            #end
        else:
            _g_tutorial_training_ground_horseman_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_horseman_trainer_state == 4:
        if _g_tutorial_training_ground_horseman_trainer_item_2 >= 0:
            if True:
                s0 = str_store_item_name(_g_tutorial_training_ground_horseman_trainer_item_2)
                tutorial_message(gstr.tutorial_training_ground_horseman_text_1)
                if agent_has_item_equipped(agent_no_001,_g_tutorial_training_ground_horseman_trainer_item_2):
                    _g_tutorial_training_ground_horseman_trainer_state += 1
                    play_sound(snd.tutorial_1)
                #end
            #end
        else:
            _g_tutorial_training_ground_horseman_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_horseman_trainer_state == 5:
        if True:
            agent_horse_004 = agent_get_horse(agent_no_001)
            if agent_horse_004 < 0:
                tutorial_message(gstr.tutorial_training_ground_horseman_text_2)
                if True:
                    var005 = -1
                    for cur_agent in __all_agents__:
                        agent_item_id_007 = agent_get_item_id(cur_agent)
                        if agent_item_id_007 == itm.practice_horse:
                            var005 = cur_agent
                        #end
                    #end
                #end
                pos0 = agent_get_position(var005)
                scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
                pos1 = prop_instance_get_position(scp_instance_003)
                set_fixed_point_multiplier(100)
                pos_x_008 = position_get_x(0)
                pos_x_009 = position_get_x(1)
                pos_y_010 = position_get_y(0)
                pos_y_011 = position_get_y(1)
                if pos_x_008 == pos_x_009 or pos_y_010 != pos_y_011:
                    prop_instance_set_position(scp_instance_003,0)
                    _g_pointer_arrow_height_adder = 200
                #end
            #end
        else:
            _g_tutorial_training_ground_horseman_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_horseman_trainer_state == 6:
        if _g_tutorial_training_ground_horseman_trainer_completed_chapters == 0:
            tutorial_message(gstr.tutorial_training_ground_horseman_text_3)
        elif _g_tutorial_training_ground_horseman_trainer_completed_chapters == 1:
            var012 = spr.dummy_a_undestructable
            tutorial_message(gstr.tutorial_training_ground_horseman_text_4)
        else:
            var012 = spr.archery_target_with_hit_a
            tutorial_message(gstr.tutorial_training_ground_horseman_text_5)
        #end
        if _g_tutorial_training_ground_horseman_trainer_completed_chapters == 0:
            var013 = _g_tutorial_training_ground_current_score + 48
            pos0 = entry_point_get_position(var013)
            init_position(2)
            position_move_y(2,-800)
            position_transform_position_to_parent(3,0,2)
            copy_position(0,3)
            pos2 = agent_get_position(agent_no_001)
            if True:
                distance_014 = get_distance_between_positions(0,2)
                if distance_014 < 500:
                    _g_tutorial_training_ground_current_score += 1
                    if _g_tutorial_training_ground_current_score >= 10:
                        _g_pointer_arrow_height_adder = -1000
                        tutorial_message(gstr.tutorial_training_ground_horseman_text_6,0,10)
                        _g_tutorial_training_ground_horseman_trainer_state = 0
                        _g_tutorial_training_ground_horseman_trainer_completed_chapters += 1
                        play_sound(snd.tutorial_2)
                    #end
                #end
            #end
            if True:
                scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
                pos1 = prop_instance_get_position(scp_instance_003)
                set_fixed_point_multiplier(1)
                pos_x_008 = position_get_x(0)
                pos_x_009 = position_get_x(1)
                pos_y_010 = position_get_y(0)
                pos_y_011 = position_get_y(1)
                if pos_x_008 == pos_x_009 or pos_y_010 != pos_y_011:
                    prop_instance_set_position(scp_instance_003,0)
                    _g_pointer_arrow_height_adder = 150
                    play_sound(snd.tutorial_1)
                #end
            #end
        else:
            scp_num_instances_015 = scene_prop_get_num_instances(var012)
            if _g_tutorial_training_ground_current_score < 6:
                var016 = -1
                var017 = _g_tutorial_training_ground_current_score + 1
                for var018 in range(0, scp_num_instances_015):
                    scp_instance_019 = scene_prop_get_instance(var012,var018)
                    prop_variation_id_2__020 = prop_instance_get_variation_id_2(scp_instance_019)
                    if var017 == prop_variation_id_2__020:
                        var016 = scp_instance_019
                        scp_num_instances_015 = 0
                    #end
                #end
                if True:
                    pos0 = prop_instance_get_position(var016)
                    scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
                    pos1 = prop_instance_get_position(scp_instance_003)
                    set_fixed_point_multiplier(1)
                    pos_x_008 = position_get_x(0)
                    pos_x_009 = position_get_x(1)
                    pos_y_010 = position_get_y(0)
                    pos_y_011 = position_get_y(1)
                    if pos_x_008 == pos_x_009 or pos_y_010 != pos_y_011:
                        prop_instance_set_position(scp_instance_003,0)
                        _g_pointer_arrow_height_adder = 200
                        play_sound(snd.tutorial_1)
                    #end
                #end
            else:
                _g_pointer_arrow_height_adder = -1000
                if _g_tutorial_training_ground_horseman_trainer_item_2 >= 0:
                    agent_unequip_item(agent_no_001,_g_tutorial_training_ground_horseman_trainer_item_2)
                #end
                agent_unequip_item(agent_no_001,_g_tutorial_training_ground_horseman_trainer_item_1)
                tutorial_message(gstr.tutorial_training_ground_horseman_text_6,0,10)
                _g_tutorial_training_ground_horseman_trainer_state = 0
                _g_tutorial_training_ground_horseman_trainer_completed_chapters += 1
                play_sound(snd.tutorial_2)
            #end
        #end
    #end
trigger15.conditionBlock = condition

def code():
    pass
trigger15.codeBlock = code
tutorial_training_ground.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_archer_trainer_state != 0:
        mission_disable_talk()
        if _g_tutorial_training_ground_archer_trainer_state == 1:
            if True:
                _g_last_destroyed_gourds = 0
                _g_tutorial_training_ground_current_score = 0
                item_instance_002 = scene_spawned_item_get_instance(_g_tutorial_training_ground_archer_trainer_item_1,0)
                pos0 = prop_instance_get_position(item_instance_002)
                position_move_z(0,1000,1)
                prop_instance_set_position(item_instance_002,0)
                scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
                prop_instance_set_position(scp_instance_003,0)
                _g_pointer_arrow_height_adder = 100
                if _g_tutorial_training_ground_archer_trainer_item_2 >= 0:
                    item_instance_002 = scene_spawned_item_get_instance(_g_tutorial_training_ground_archer_trainer_item_2,0)
                    pos0 = prop_instance_get_position(item_instance_002)
                    position_move_z(0,1000,1)
                    prop_instance_set_position(item_instance_002,0)
                #end
            #end
            _g_tutorial_training_ground_archer_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_archer_trainer_state == 2:
        if True:
            s0 = str_store_item_name(_g_tutorial_training_ground_archer_trainer_item_1)
            tutorial_message(gstr.tutorial_training_ground_archer_text_1)
            if agent_has_item_equipped(agent_no_001,_g_tutorial_training_ground_archer_trainer_item_1):
                _g_tutorial_training_ground_archer_trainer_state += 1
                play_sound(snd.tutorial_1)
            #end
        #end
    elif _g_tutorial_training_ground_archer_trainer_state == 3:
        if _g_tutorial_training_ground_archer_trainer_item_2 >= 0:
            if True:
                s0 = str_store_item_name(_g_tutorial_training_ground_archer_trainer_item_2)
                tutorial_message(gstr.tutorial_training_ground_archer_text_1)
                if agent_has_item_equipped(agent_no_001,_g_tutorial_training_ground_archer_trainer_item_2):
                    _g_tutorial_training_ground_archer_trainer_state += 1
                    play_sound(snd.tutorial_1)
                #end
            #end
        else:
            _g_tutorial_training_ground_archer_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_archer_trainer_state == 4:
        if True:
            for var004 in range(0, 3):
                scp_instance_005 = scene_prop_get_instance(spr.gourd,var004)
                prop_instance_refill_hit_points(scp_instance_005)
                pos0 = entry_point_get_position(45)
                init_position(1)
                var006 = var004 - 1
                var006 *= 5
                position_rotate_z(1,var006)
                if _g_tutorial_training_ground_archer_trainer_item_2 >= 0:
                    position_move_y(1,1300)
                else:
                    position_move_y(1,800)
                    var006 *= 2
                #end
                position_transform_position_to_parent(2,0,1)
                position_set_z_to_ground_level(2)
                scp_instance_007 = scene_prop_get_instance(spr.gourd_spike,var004)
                prop_instance_set_position(scp_instance_007,2)
                position_move_z(2,150,1)
                prop_instance_set_position(scp_instance_005,2)
            #end
            scp_instance_003 = scene_prop_get_instance(spr.pointer_arrow,0)
            scp_instance_007 = scene_prop_get_instance(spr.gourd_spike,1)
            pos1 = prop_instance_get_position(scp_instance_007)
            prop_instance_set_position(scp_instance_003,1)
            _g_pointer_arrow_height_adder = 200
            tutorial_message(gstr.tutorial_training_ground_archer_text_2)
            _g_tutorial_training_ground_archer_trainer_state += 1
        #end
    elif _g_tutorial_training_ground_archer_trainer_state == 5:
        if True:
            if _g_tutorial_training_ground_current_score != _g_last_destroyed_gourds:
                _g_tutorial_training_ground_current_score = _g_last_destroyed_gourds
                if _g_last_destroyed_gourds < 3:
                    play_sound(snd.tutorial_1)
                else:
                    play_sound(snd.tutorial_2)
                #end
            #end
            if _g_tutorial_training_ground_archer_trainer_completed_chapters == 0 and _g_last_destroyed_gourds == 0:
                pos0 = entry_point_get_position(45)
                pos1 = agent_get_position(agent_no_001)
                if not position_is_behind_position(1,0):
                    tutorial_message(gstr.tutorial_training_ground_archer_text_3)
                elif _g_tutorial_training_ground_archer_trainer_completed_chapters == 0 and _g_last_destroyed_gourds == 1:
                    tutorial_message(gstr.tutorial_training_ground_archer_text_4)
                #end
            #end
            if _g_last_destroyed_gourds >= 3:
                _g_pointer_arrow_height_adder = -1000
                _g_tutorial_training_ground_archer_trainer_state += 1
            #end
        #end
    elif _g_tutorial_training_ground_archer_trainer_state == 6:
        if True:
            if _g_tutorial_training_ground_archer_trainer_item_2 >= 0:
                agent_unequip_item(agent_no_001,_g_tutorial_training_ground_archer_trainer_item_2)
            #end
            agent_unequip_item(agent_no_001,_g_tutorial_training_ground_archer_trainer_item_1)
            tutorial_message(gstr.tutorial_training_ground_archer_text_5,0,10)
            _g_tutorial_training_ground_archer_trainer_state = 0
            _g_tutorial_training_ground_archer_trainer_completed_chapters += 1
        #end
    #end
trigger16.conditionBlock = condition

def code():
    pass
trigger16.codeBlock = code
tutorial_training_ground.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_003_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_melee_trainer_attack != -1:
        mission_disable_talk()
        for cur_agent in __all_agents__:
            troop_id_003 = agent_get_troop_id(cur_agent)
            if troop_id_003 == _g_tutorial_training_ground_melee_trainer_attack:
                var004 = cur_agent
            #end
        #end
    #end
    if _g_tutorial_training_ground_melee_state == 0:
        if True:
            for cur_agent in __all_agents__:
                troop_id_003 = agent_get_troop_id(cur_agent)
                if troop_id_003 in troop_id_003_list1:
                    agent_set_team(cur_agent,7)
                    agent_slot_005 = agent_get_slot(cur_agent,8)
                    pos1 = entry_point_get_position(agent_slot_005)
                    agent_set_scripted_destination(cur_agent,1)
                    agent_force_rethink(cur_agent)
                #end
            #end
            agent_set_wielded_item(var004,itm.practice_sword)
            _g_tutorial_training_ground_melee_state = store_random_in_range(1,5)
            _g_tutorial_update_mouse_presentation = 1
            _g_tutorial_training_ground_next_score_time = 0
        #end
    elif _g_tutorial_training_ground_melee_state > 0:
        if True:
            agent_set_team(agent_no_001,1)
            agent_set_team(var004,2)
            pos1 = agent_get_position(agent_no_001)
            agent_set_scripted_destination_no_attack(var004,1)
            agent_attack_action_006 = agent_get_attack_action(agent_no_001)
            if agent_attack_action_006 == 2:
                agent_action_direction_007 = agent_get_action_dir(agent_no_001)
                if agent_action_direction_007 == 0:
                    agent_set_defend_action(var004,0,1)
                elif agent_action_direction_007 == 3:
                    agent_set_defend_action(var004,3,1)
                elif agent_action_direction_007 == 1:
                    agent_set_defend_action(var004,2,1)
                elif agent_action_direction_007 == 2:
                    agent_set_defend_action(var004,1,1)
                #end
            #end
            if _g_tutorial_training_ground_current_score >= 5:
                tutorial_message(-1)
                _g_tutorial_training_ground_melee_state = 0
                agent_set_team(agent_no_001,0)
                agent_set_team(var004,7)
                agent_set_hit_points(agent_no_001,100,0)
                agent_set_hit_points(var004,100,0)
                _g_tutorial_training_ground_conversation_state = 9
                start_mission_conversation(_g_tutorial_training_ground_melee_trainer_attack)
                _g_tutorial_training_ground_melee_trainer_attack = -1
            #end
        #end
    #end
    if True:
        agent_attack_action_006 = agent_get_attack_action(agent_no_001)
        if agent_attack_action_006 == 2:
            agent_action_direction_007 = agent_get_action_dir(agent_no_001)
            var008 = agent_action_direction_007 + 1
            agent_wieled_item_009 = agent_get_wielded_item(agent_no_001,0)
            if cf_is_melee_weapon_for_tutorial(agent_wieled_item_009):
                m_timer_a_010 = store_mission_timer_a()
                if m_timer_a_010 > _g_tutorial_training_ground_next_score_time:
                    if var008 == _g_tutorial_training_ground_melee_state:
                        _g_tutorial_training_ground_current_score += 1
                        if _g_tutorial_training_ground_current_score >= 5:
                            _g_tutorial_training_ground_melee_state = 5
                            play_sound(snd.tutorial_2)
                        else:
                            play_sound(snd.tutorial_1)
                            var011 = 100
                            for var012 in range(0, var011):
                                random_x_013 = store_random_in_range(1,5)
                                if random_x_013 != _g_tutorial_training_ground_melee_state:
                                    _g_tutorial_training_ground_melee_state = random_x_013
                                    var011 = 0
                                #end
                            #end
                        #end
                    #end
                #end
            #end
            _g_tutorial_update_mouse_presentation = 1
        else:
            _g_tutorial_training_ground_current_score_2 += 1
            play_sound(snd.tutorial_fail)
        #end
        _g_tutorial_training_ground_next_score_time = m_timer_a_010 + 1
    #end
    reg0 = _g_tutorial_training_ground_current_score
    reg1 = _g_tutorial_training_ground_current_score_2
    str_clear(0)
    _g_tutorial_mouse_dir = -1
    _g_tutorial_mouse_click = -1
    if _g_tutorial_training_ground_melee_state != 5:
        m_timer_a_010 = store_mission_timer_a()
        if _g_tutorial_update_mouse_presentation == 0 or m_timer_a_010 > _g_tutorial_training_ground_next_score_time:
            if _g_tutorial_training_ground_melee_state == 1:
                s0 = str_store_string(gstr.tutorial_training_ground_attack_training_down)
            elif _g_tutorial_training_ground_melee_state == 4:
                s0 = str_store_string(gstr.tutorial_training_ground_attack_training_up)
            elif _g_tutorial_training_ground_melee_state == 2:
                s0 = str_store_string(gstr.tutorial_training_ground_attack_training_right)
            elif _g_tutorial_training_ground_melee_state == 3:
                s0 = str_store_string(gstr.tutorial_training_ground_attack_training_left)
            #end
        #end
        _g_tutorial_mouse_dir = _g_tutorial_training_ground_melee_state - 1
        _g_tutorial_mouse_click = 0
        if _g_tutorial_update_mouse_presentation == 1:
            _g_tutorial_update_mouse_presentation = 0
            start_presentation(prsnt.tutorial_show_mouse_movement)
        #end
    #end
    if True:
        agent_wieled_item_009 = agent_get_wielded_item(agent_no_001,0)
        if cf_is_melee_weapon_for_tutorial(agent_wieled_item_009):
            tutorial_message(gstr.tutorial_training_ground_attack_training)
        else:
            tutorial_message(gstr.tutorial_training_ground_warning_melee)
        #end
    #end
trigger17.conditionBlock = condition

def code():
    pass
trigger17.codeBlock = code
tutorial_training_ground.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_003_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_melee_trainer_parry != -1:
        mission_disable_talk()
        for cur_agent in __all_agents__:
            troop_id_003 = agent_get_troop_id(cur_agent)
            if troop_id_003 == _g_tutorial_training_ground_melee_trainer_parry:
                var004 = cur_agent
            #end
        #end
    #end
    if _g_tutorial_training_ground_melee_state == 0:
        if True:
            for cur_agent in __all_agents__:
                troop_id_003 = agent_get_troop_id(cur_agent)
                if troop_id_003 in troop_id_003_list1:
                    agent_set_team(cur_agent,7)
                    agent_slot_005 = agent_get_slot(cur_agent,8)
                    pos1 = entry_point_get_position(agent_slot_005)
                    agent_set_scripted_destination(cur_agent,1)
                    agent_force_rethink(cur_agent)
                #end
            #end
            agent_set_wielded_item(var004,itm.practice_sword)
            _g_tutorial_training_ground_melee_state += 1
            _g_tutorial_training_ground_melee_next_action_time = store_mission_timer_a()
            _g_tutorial_training_ground_melee_next_action_time += 1
        #end
    elif _g_tutorial_training_ground_melee_state == 1:
        if True:
            m_timer_a_006 = store_mission_timer_a()
            if m_timer_a_006 > _g_tutorial_training_ground_melee_next_action_time:
                agent_set_team(agent_no_001,1)
                agent_set_team(var004,2)
                pos1 = agent_get_position(agent_no_001)
                agent_set_scripted_destination_no_attack(var004,1)
                pos2 = agent_get_position(var004)
                sq_distance_007 = get_sq_distance_between_positions(1,2)
                if sq_distance_007 < 400:
                    if _g_tutorial_training_ground_melee_trainer_action_state == 0:
                        if _g_tutorial_training_ground_current_score >= 5:
                            _g_tutorial_mouse_dir = -1
                            _g_tutorial_mouse_click = -1
                            tutorial_message(-1)
                            _g_tutorial_training_ground_melee_state = 0
                            agent_set_team(agent_no_001,0)
                            agent_set_team(var004,7)
                            agent_set_hit_points(agent_no_001,100,0)
                            agent_set_hit_points(var004,100,0)
                            _g_tutorial_training_ground_conversation_state = 1
                            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_parry)
                            _g_tutorial_training_ground_melee_trainer_parry = -1
                        else:
                            random_x_008 = store_random_in_range(0,4)
                            agent_set_attack_action(var004,random_x_008,1)
                            _g_tutorial_training_ground_melee_trainer_action_state += 1
                            _g_tutorial_mouse_dir = random_x_008
                            if is_between(random_x_008,1,3):
                                _g_tutorial_mouse_dir = 3 - random_x_008
                            #end
                        #end
                    #end
                    _g_tutorial_mouse_click = 1
                    start_presentation(prsnt.tutorial_show_mouse_movement)
                #end
            elif _g_tutorial_training_ground_melee_trainer_action_state == 1:
                agent_defend_action_009 = agent_get_defend_action(agent_no_001)
                if agent_defend_action_009 > 0:
                    agent_action_direction_010 = agent_get_action_dir(agent_no_001)
                    agent_action_direction_011 = agent_get_action_dir(var004)
                    var012 = 0
                    if agent_action_direction_011 == 0 and agent_action_direction_010 == 0:
                        var012 = 1
                    elif agent_action_direction_011 == 3 and agent_action_direction_010 == 3:
                        var012 = 1
                    elif agent_action_direction_011 == 1 and agent_action_direction_010 == 2:
                        var012 = 1
                    elif agent_action_direction_011 == 2 and agent_action_direction_010 == 1:
                        var012 = 1
                    #end
                #end
                if var012 == 1:
                    _g_tutorial_mouse_dir = -1
                    _g_tutorial_mouse_click = -1
                    agent_set_attack_action(var004,0,0)
                    _g_tutorial_training_ground_melee_trainer_action_state += 1
                    _g_tutorial_training_ground_melee_trainer_next_action_time = store_mission_timer_a()
                    _g_tutorial_training_ground_melee_trainer_next_action_time += 2
                elif _g_tutorial_training_ground_melee_trainer_action_state == 2:
                    if True:
                        m_timer_a_006 = store_mission_timer_a()
                        if m_timer_a_006 > _g_tutorial_training_ground_melee_trainer_next_action_time:
                            _g_tutorial_training_ground_melee_trainer_action_state = 0
                        #end
                    #end
                #end
            #end
        #end
    #end
    if agent_is_in_parried_animation(var004):
        agent_wieled_item_013 = agent_get_wielded_item(agent_no_001,1)
        if agent_wieled_item_013 == -1:
            agent_wieled_item_014 = agent_get_wielded_item(agent_no_001,0)
            if agent_wieled_item_014 != itm.practice_dagger and cf_is_melee_weapon_for_tutorial(agent_wieled_item_014):
                m_timer_a_006 = store_mission_timer_a()
                if m_timer_a_006 > _g_tutorial_training_ground_next_score_time:
                    _g_tutorial_training_ground_current_score += 1
                    if _g_tutorial_training_ground_current_score < 5:
                        play_sound(snd.tutorial_1)
                    else:
                        play_sound(snd.tutorial_2)
                    #end
                #end
            #end
        #end
        _g_tutorial_training_ground_next_score_time = m_timer_a_006 + 1
    #end
    reg0 = _g_tutorial_training_ground_current_score
    if True:
        agent_wieled_item_013 = agent_get_wielded_item(agent_no_001,1)
        if agent_wieled_item_013 == -1:
            agent_wieled_item_014 = agent_get_wielded_item(agent_no_001,0)
            if agent_wieled_item_014 != itm.practice_dagger and cf_is_melee_weapon_for_tutorial(agent_wieled_item_014):
                tutorial_message(gstr.tutorial_training_ground_parry_training)
            elif agent_wieled_item_013 != -1:
                tutorial_message(gstr.tutorial_training_ground_warning_shield)
            else:
                tutorial_message(gstr.tutorial_training_ground_warning_melee_with_parry)
            #end
        #end
    #end
trigger18.conditionBlock = condition

def code():
    pass
trigger18.codeBlock = code
tutorial_training_ground.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_003_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_melee_trainer_chamber != -1:
        mission_disable_talk()
        for cur_agent in __all_agents__:
            troop_id_003 = agent_get_troop_id(cur_agent)
            if troop_id_003 == _g_tutorial_training_ground_melee_trainer_chamber:
                var004 = cur_agent
            #end
        #end
    #end
    if _g_tutorial_training_ground_melee_state == 0:
        if True:
            for cur_agent in __all_agents__:
                troop_id_003 = agent_get_troop_id(cur_agent)
                if troop_id_003 in troop_id_003_list1:
                    agent_set_team(cur_agent,7)
                    agent_slot_005 = agent_get_slot(cur_agent,8)
                    pos1 = entry_point_get_position(agent_slot_005)
                    agent_set_scripted_destination(cur_agent,1)
                    agent_force_rethink(cur_agent)
                #end
            #end
            agent_set_wielded_item(var004,itm.practice_sword)
            _g_tutorial_training_ground_melee_state += 1
            _g_tutorial_training_ground_melee_next_action_time = store_mission_timer_a()
            _g_tutorial_training_ground_melee_next_action_time += 1
        #end
    elif _g_tutorial_training_ground_melee_state == 1:
        if True:
            m_timer_a_006 = store_mission_timer_a()
            if m_timer_a_006 > _g_tutorial_training_ground_melee_next_action_time:
                agent_set_team(agent_no_001,1)
                agent_set_team(var004,2)
                pos1 = agent_get_position(agent_no_001)
                agent_set_scripted_destination_no_attack(var004,1)
                pos2 = agent_get_position(var004)
                sq_distance_007 = get_sq_distance_between_positions(1,2)
                if sq_distance_007 < 400:
                    if _g_tutorial_training_ground_melee_trainer_action_state == 0:
                        if _g_tutorial_training_ground_current_score >= 5:
                            tutorial_message(-1)
                            _g_tutorial_training_ground_melee_state = 0
                            agent_set_team(agent_no_001,0)
                            agent_set_team(var004,7)
                            agent_set_hit_points(agent_no_001,100,0)
                            agent_set_hit_points(var004,100,0)
                            _g_tutorial_training_ground_conversation_state = 6
                            start_mission_conversation(_g_tutorial_training_ground_melee_trainer_chamber)
                            _g_tutorial_training_ground_melee_trainer_chamber = -1
                        else:
                            _g_tutorial_training_ground_melee_trainer_attack_dir = store_random_in_range(0,4)
                            agent_set_attack_action(var004,_g_tutorial_training_ground_melee_trainer_attack_dir,1)
                            _g_tutorial_training_ground_melee_trainer_action_state += 1
                            _g_tutorial_training_ground_melee_trainer_next_action_time = store_mission_timer_a()
                            _g_tutorial_training_ground_melee_trainer_next_action_time += 1
                        #end
                    #end
                #end
            elif _g_tutorial_training_ground_melee_trainer_action_state == 1:
                if True:
                    m_timer_a_006 = store_mission_timer_a()
                    if m_timer_a_006 > _g_tutorial_training_ground_melee_trainer_next_action_time:
                        agent_set_attack_action(var004,-1,0)
                        agent_set_defend_action(var004,0,1)
                        _g_tutorial_training_ground_melee_trainer_action_state += 1
                        _g_tutorial_training_ground_melee_trainer_next_action_time = store_mission_timer_a()
                        _g_tutorial_training_ground_melee_trainer_next_action_time += 1
                    #end
                #end
            elif _g_tutorial_training_ground_melee_trainer_action_state == 2:
                if True:
                    m_timer_a_006 = store_mission_timer_a()
                    if m_timer_a_006 > _g_tutorial_training_ground_melee_trainer_next_action_time:
                        agent_set_attack_action(var004,_g_tutorial_training_ground_melee_trainer_attack_dir,0)
                        _g_tutorial_training_ground_melee_trainer_action_state += 1
                        _g_tutorial_training_ground_melee_trainer_next_action_time = store_mission_timer_a()
                        _g_tutorial_training_ground_melee_trainer_next_action_time += 2
                    #end
                #end
            elif _g_tutorial_training_ground_melee_trainer_action_state == 3:
                if True:
                    m_timer_a_006 = store_mission_timer_a()
                    if m_timer_a_006 > _g_tutorial_training_ground_melee_trainer_next_action_time:
                        _g_tutorial_training_ground_melee_trainer_action_state = 0
                    #end
                #end
            #end
        #end
    #end
    if agent_is_in_parried_animation(var004):
        agent_attack_action_008 = agent_get_attack_action(agent_no_001)
        m_timer_a_006 = store_mission_timer_a()
        if m_timer_a_006 > _g_tutorial_training_ground_next_score_time:
            _g_tutorial_training_ground_next_score_time = m_timer_a_006 + 1
            if agent_attack_action_008 == 1:
                _g_tutorial_training_ground_current_score += 1
                if _g_tutorial_training_ground_current_score < 5:
                    play_sound(snd.tutorial_1)
                else:
                    play_sound(snd.tutorial_2)
                #end
            #end
        #end
    #end
    reg0 = _g_tutorial_training_ground_current_score
    tutorial_message(gstr.tutorial_training_ground_chamber_training)
trigger19.conditionBlock = condition

def code():
    pass
trigger19.codeBlock = code
tutorial_training_ground.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_003_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    agent_no_001 = get_player_agent_no()
    if _g_tutorial_training_ground_melee_trainer_combat != -1:
        mission_disable_talk()
        for cur_agent in __all_agents__:
            troop_id_003 = agent_get_troop_id(cur_agent)
            if troop_id_003 == _g_tutorial_training_ground_melee_trainer_combat:
                var004 = cur_agent
            #end
        #end
    #end
    if _g_tutorial_training_ground_melee_state == 0:
        if True:
            for cur_agent in __all_agents__:
                troop_id_003 = agent_get_troop_id(cur_agent)
                if troop_id_003 in troop_id_003_list1:
                    agent_set_team(cur_agent,7)
                    agent_slot_005 = agent_get_slot(cur_agent,8)
                    pos1 = entry_point_get_position(agent_slot_005)
                    agent_set_scripted_destination(cur_agent,1)
                    agent_force_rethink(cur_agent)
                #end
            #end
            agent_set_wielded_item(var004,itm.practice_sword)
            _g_tutorial_training_ground_melee_state += 1
            _g_tutorial_training_ground_melee_next_action_time = store_mission_timer_a()
            _g_tutorial_training_ground_melee_next_action_time += 1
        #end
    elif _g_tutorial_training_ground_melee_state == 1:
        if True:
            m_timer_a_006 = store_mission_timer_a()
            if m_timer_a_006 > _g_tutorial_training_ground_melee_next_action_time:
                agent_set_team(agent_no_001,1)
                agent_set_team(var004,2)
                agent_clear_scripted_mode(var004)
                agent_force_rethink(var004)
            #end
        #end
    #end
trigger20.conditionBlock = condition

def code():
    pass
trigger20.codeBlock = code
tutorial_training_ground.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _g_tutorial_training_ground_melee_trainer_attack == -1 and _g_tutorial_training_ground_melee_trainer_parry == -1 and _g_tutorial_training_ground_melee_trainer_combat == -1 and _g_tutorial_training_ground_melee_trainer_chamber == -1 and _g_tutorial_training_ground_archer_trainer_state == 0 and _g_tutorial_training_ground_horseman_trainer_state == 0:
        mission_enable_talk()
trigger21.conditionBlock = condition

def code():
    pass
trigger21.codeBlock = code
tutorial_training_ground.add_trigger(trigger21)
# trigger 22
trigger22 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    troop_id_004_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    troop_id_004_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    troop_id_004_list1 = [
    trp.tutorial_fighter_4,
    trp.tutorial_fighter_3,
    trp.tutorial_fighter_2,
    trp.tutorial_fighter_1,
    ]
    if _g_tutorial_training_ground_melee_trainer_attack == -1 and _g_tutorial_training_ground_melee_trainer_parry == -1 and _g_tutorial_training_ground_melee_trainer_combat == -1 and _g_tutorial_training_ground_melee_trainer_chamber == -1:
        agent_no_001 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_001)
        var002 = 10000000
        for cur_agent in __all_agents__:
            troop_id_004 = agent_get_troop_id(cur_agent)
            if troop_id_004 in troop_id_004_list1:
                pos2 = agent_get_position(cur_agent)
                sq_distance_005 = get_sq_distance_between_positions(1,2)
                if sq_distance_005 < var002:
                    var002 = sq_distance_005
                #end
            #end
        #end
    #end
    if var002 <= 1600:
        _g_tutorial_training_ground_melee_paused = 1
        for cur_agent in __all_agents__:
            troop_id_004 = agent_get_troop_id(cur_agent)
            if troop_id_004 in troop_id_004_list1:
                agent_set_team(cur_agent,7)
                pos2 = agent_get_position(cur_agent)
                agent_set_scripted_destination(cur_agent,2)
                if cur_agent != _g_tutorial_training_ground_melee_cur_fighter_1 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_2:
                    agent_set_wielded_item(cur_agent,-1)
                #end
            #end
            agent_force_rethink(cur_agent)
            agent_set_look_target_agent(cur_agent,agent_no_001)
        #end
    elif _g_tutorial_training_ground_melee_paused > 0:
        _g_tutorial_training_ground_melee_paused = 0
        _g_tutorial_training_ground_melee_state = 0
    #end
    if _g_tutorial_training_ground_melee_paused == 0 and _g_tutorial_training_ground_melee_state == 0:
        if True:
            _g_tutorial_training_ground_melee_cur_fighter_1 = -1
            _g_tutorial_training_ground_melee_cur_fighter_2 = -1
            for var006 in range(0, 2):
                if _g_tutorial_training_ground_melee_last_winner >= 0:
                    _g_tutorial_training_ground_melee_cur_fighter_1 = _g_tutorial_training_ground_melee_last_winner
                    _g_tutorial_training_ground_melee_last_winner = -1
                #end
                if _g_tutorial_training_ground_melee_cur_fighter_1 == -1 or _g_tutorial_training_ground_melee_cur_fighter_2 == -1:
                    var007 = 0
                    for cur_agent in __all_agents__:
                        troop_id_004 = agent_get_troop_id(cur_agent)
                        if troop_id_004 == trp.tutorial_fighter_1 or troop_id_004 == trp.tutorial_fighter_2 or troop_id_004 == trp.tutorial_fighter_3 or troop_id_004 == trp.tutorial_fighter_4 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_1 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_2 and cur_agent != _g_tutorial_training_ground_melee_last_loser:
                            var007 += 1
                        #end
                    #end
                #end
                random_x_008 = store_random_in_range(0,var007)
                for cur_agent in __all_agents__:
                    troop_id_004 = agent_get_troop_id(cur_agent)
                    if troop_id_004 == trp.tutorial_fighter_1 or troop_id_004 == trp.tutorial_fighter_2 or troop_id_004 == trp.tutorial_fighter_3 or troop_id_004 == trp.tutorial_fighter_4 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_1 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_2 and cur_agent != _g_tutorial_training_ground_melee_last_loser:
                        random_x_008 -= 1
                        if random_x_008 < 0:
                            if _g_tutorial_training_ground_melee_cur_fighter_1 == -1:
                                _g_tutorial_training_ground_melee_cur_fighter_1 = cur_agent
                            else:
                                _g_tutorial_training_ground_melee_cur_fighter_2 = cur_agent
                            #end
                        #end
                    #end
                #end
            #end
            for cur_agent in __all_agents__:
                troop_id_004 = agent_get_troop_id(cur_agent)
                if troop_id_004 == trp.tutorial_fighter_1 or troop_id_004 == trp.tutorial_fighter_2 or troop_id_004 == trp.tutorial_fighter_3 or troop_id_004 == trp.tutorial_fighter_4 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_1 and cur_agent != _g_tutorial_training_ground_melee_cur_fighter_2:
                    agent_set_wielded_item(cur_agent,-1)
                #end
            #end
            _g_tutorial_training_ground_melee_state += 1
            _g_tutorial_training_ground_melee_next_action_time = store_mission_timer_a()
            _g_tutorial_training_ground_melee_next_action_time += 3
        #end
    elif _g_tutorial_training_ground_melee_state == 1:
        if True:
            m_timer_a_009 = store_mission_timer_a()
            if m_timer_a_009 > _g_tutorial_training_ground_melee_next_action_time:
                for cur_agent in __all_agents__:
                    if agent_is_human(cur_agent):
                        troop_id_004 = agent_get_troop_id(cur_agent)
                        if troop_id_004 in troop_id_004_list1:
                            if cur_agent == _g_tutorial_training_ground_melee_cur_fighter_1:
                                pos1 = entry_point_get_position(30)
                                agent_set_scripted_destination(cur_agent,1)
                            elif cur_agent == _g_tutorial_training_ground_melee_cur_fighter_2:
                                pos1 = entry_point_get_position(31)
                                agent_set_scripted_destination(cur_agent,1)
                            else:
                                agent_slot_010 = agent_get_slot(cur_agent,8)
                                pos1 = entry_point_get_position(agent_slot_010)
                                agent_set_scripted_destination(cur_agent,1)
                            #end
                        #end
                    #end
                #end
            #end
            _g_tutorial_training_ground_melee_state += 1
        #end
    elif _g_tutorial_training_ground_melee_state == 2:
        if True:
            agent_set_look_target_agent(_g_tutorial_training_ground_melee_cur_fighter_1,_g_tutorial_training_ground_melee_cur_fighter_2)
            agent_set_look_target_agent(_g_tutorial_training_ground_melee_cur_fighter_2,_g_tutorial_training_ground_melee_cur_fighter_1)
            pos1 = agent_get_position(_g_tutorial_training_ground_melee_cur_fighter_1)
            pos2 = entry_point_get_position(30)
            sq_distance_011 = get_sq_distance_between_positions(1,2)
            if sq_distance_011 < 400:
                pos1 = agent_get_position(_g_tutorial_training_ground_melee_cur_fighter_2)
                pos2 = entry_point_get_position(31)
                sq_distance_012 = get_sq_distance_between_positions(1,2)
                if sq_distance_012 < 400:
                    _g_tutorial_training_ground_melee_state += 1
                    _g_tutorial_training_ground_melee_next_action_time = store_mission_timer_a()
                    _g_tutorial_training_ground_melee_next_action_time += 1
                #end
            #end
        #end
    elif _g_tutorial_training_ground_melee_state == 3:
        if True:
            agent_set_look_target_agent(_g_tutorial_training_ground_melee_cur_fighter_1,_g_tutorial_training_ground_melee_cur_fighter_2)
            agent_set_look_target_agent(_g_tutorial_training_ground_melee_cur_fighter_2,_g_tutorial_training_ground_melee_cur_fighter_1)
            m_timer_a_009 = store_mission_timer_a()
            if m_timer_a_009 > _g_tutorial_training_ground_melee_next_action_time:
                agent_clear_scripted_mode(_g_tutorial_training_ground_melee_cur_fighter_1)
                agent_clear_scripted_mode(_g_tutorial_training_ground_melee_cur_fighter_2)
                agent_set_team(_g_tutorial_training_ground_melee_cur_fighter_1,1)
                agent_set_team(_g_tutorial_training_ground_melee_cur_fighter_2,2)
                agent_force_rethink(_g_tutorial_training_ground_melee_cur_fighter_1)
                agent_force_rethink(_g_tutorial_training_ground_melee_cur_fighter_2)
                _g_tutorial_training_ground_melee_state += 1
            #end
        #end
    #end
trigger22.conditionBlock = condition

def code():
    pass
trigger22.codeBlock = code
tutorial_training_ground.add_trigger(trigger22)


tutorial_1 = MissionTemplate("tutorial_1", description="You enter the training ground.")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.NO_COMPANIONS)
sr0.add_spawn_flag(SpawnFlag.NO_REGULARS)
sr0.add_spawn_flag(SpawnFlag.LEADER_ONLY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tutorial_shield)
sr0.addItem(itm.tutorial_sword)
sr0.addItem(itm.tutorial_short_bow)
sr0.addItem(itm.tutorial_arrows)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_1.addSpawnRecord(sr0)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_1_state < 5:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_1.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_1.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_1.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_1_state = 0
    _tutorial_1_msg_1_displayed = 0
    _tutorial_1_msg_2_displayed = 0
    _tutorial_1_msg_3_displayed = 0
    _tutorial_1_msg_4_displayed = 0
    _tutorial_1_msg_5_displayed = 0
    _tutorial_1_msg_6_displayed = 0
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
tutorial_1.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_1_state == 0:
        if _tutorial_1_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_1_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_1)
                scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                pos1 = entry_point_get_position(1)
                prop_instance_animate_to_position(scp_instance_002,1,1)
            #end
        #end
        tutorial_message(gstr.tutorial_1_msg_1)
        agent_no_003 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_003)
        pos2 = entry_point_get_position(1)
        distance_004 = get_distance_between_positions(1,2)
        if distance_004 <= 100:
            _tutorial_1_state += 1
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,0)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            pos1 = entry_point_get_position(2)
            prop_instance_animate_to_position(scp_instance_002,1,1)
        elif _tutorial_1_state == 1:
            if _tutorial_1_msg_2_displayed == 0:
                _tutorial_1_msg_2_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_2)
                play_sound(snd.tutorial_1)
            #end
        #end
        agent_no_003 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_003)
        pos2 = entry_point_get_position(2)
        distance_004 = get_distance_between_positions(1,2)
        if distance_004 <= 100:
            _tutorial_1_state += 1
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,1)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            pos1 = entry_point_get_position(3)
            prop_instance_animate_to_position(scp_instance_002,1,1)
        elif _tutorial_1_state == 2:
            if _tutorial_1_msg_3_displayed == 0:
                _tutorial_1_msg_3_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_3)
                _tutorial_num_total_dummies_destroyed = 0
                play_sound(snd.tutorial_1)
            #end
        #end
        if _tutorial_num_total_dummies_destroyed >= 4:
            _tutorial_1_state += 1
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,2)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
        elif _tutorial_1_state == 3:
            if _tutorial_1_msg_4_displayed == 0:
                _tutorial_1_msg_4_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_4)
                _tutorial_time = store_mission_timer_a()
                play_sound(snd.tutorial_1)
            #end
        #end
        m_timer_a_001 = store_mission_timer_a()
        m_timer_a_001 -= _tutorial_time
        if m_timer_a_001 > 10:
            _tutorial_1_state += 1
        elif _tutorial_1_state == 4:
            if _tutorial_1_msg_5_displayed == 0:
                _tutorial_1_msg_5_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_5)
                _g_last_archery_point_earned = 0
                _tutorial_num_arrows_hit = 0
                play_sound(snd.tutorial_1)
            #end
        #end
        if True:
            agent_no_003 = get_player_agent_no()
            agent_ammo_006 = agent_get_ammo(agent_no_003)
            if agent_ammo_006 <= 0:
                agent_refill_ammo(agent_no_003)
                tutorial_message(gstr.tutorial_ammo_refilled)
            #end
        #end
        if _g_last_archery_point_earned > 0:
            _g_last_archery_point_earned = 0
            _tutorial_num_arrows_hit += 1
            if _tutorial_num_arrows_hit > 2:
                _tutorial_1_state += 1
            elif _tutorial_1_state == 5 and _tutorial_1_msg_6_displayed == 0:
                _tutorial_1_msg_6_displayed = 1
                tutorial_message(gstr.tutorial_1_msg_6)
                play_sound(snd.tutorial_2)
                _tutorial_1_finished = 1
            #end
        #end
    #end
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_1.add_trigger(trigger4)


tutorial_2 = MissionTemplate("tutorial_2", description="You enter the training ground.")
tutorial_2.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_2.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.NO_COMPANIONS)
sr0.add_spawn_flag(SpawnFlag.NO_REGULARS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.LEADER_ONLY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tutorial_shield)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_2.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=2, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_ai_flag(AIFlag.START_ALARMED)
tutorial_2.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=4, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
tutorial_2.addSpawnRecord(sr2)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_2_state < 9:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_2.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_2.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_2.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 > 2 and main_hero_fallen():
        _tutorial_2_state = 100
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
tutorial_2.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_2_state = 0
    _tutorial_2_msg_1_displayed = 0
    _tutorial_2_msg_2_displayed = 0
    _tutorial_2_msg_3_displayed = 0
    _tutorial_2_msg_4_displayed = 0
    _tutorial_2_msg_5_displayed = 0
    _tutorial_2_msg_6_displayed = 0
    _tutorial_2_msg_7_displayed = 0
    _tutorial_2_msg_8_displayed = 0
    _tutorial_2_msg_9_displayed = 0
    _tutorial_2_melee_agent_state = 0
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_2.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    if cf_get_first_agent_with_troop_id(trp.tutorial_archer):
        agent_refill_ammo(reg0)
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
tutorial_2.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_2_state == 0:
        if _tutorial_2_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_2_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_2_msg_1)
                team_give_order(1,9,11)
                team_give_order(1,0,2)
                if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = agent_get_position(var002)
                    agent_set_scripted_destination(var002,1,0)
                #end
            #end
        #end
        agent_no_003 = get_player_agent_no()
        if agent_no_003 >= 0:
            pos1 = agent_get_position(agent_no_003)
            pos2 = entry_point_get_position(1)
            distance_004 = get_distance_between_positions(1,2)
            if distance_004 <= 200:
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,0)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                _tutorial_2_state += 1
            elif _tutorial_2_state == 1:
                scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,0)
                pos1 = prop_instance_get_position(scp_instance_006)
                agent_no_003 = get_player_agent_no()
                pos2 = agent_get_position(agent_no_003)
                if position_is_behind_position(2,1):
                    scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,0)
                    pos1 = prop_instance_get_position(scp_instance_005)
                    position_rotate_z(1,-90)
                    prop_instance_animate_to_position(scp_instance_005,1,150)
                    _tutorial_2_state += 1
                elif _tutorial_2_state == 2:
                    agent_no_003 = get_player_agent_no()
                    agent_set_kick_allowed(agent_no_003,0)
                    if _tutorial_2_melee_agent_state == 0:
                        _tutorial_2_melee_agent_state += 1
                        if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                            var002 = reg0
                            pos1 = entry_point_get_position(3)
                            agent_set_scripted_destination(var002,1,0)
                        elif _tutorial_2_melee_agent_state == 1 and cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                            var002 = reg0
                            pos1 = entry_point_get_position(3)
                            pos2 = agent_get_position(var002)
                            distance_004 = get_distance_between_positions(1,2)
                            if distance_004 <= 250:
                                agent_clear_scripted_mode(var002)
                                _tutorial_2_melee_agent_state += 1
                                _tutorial_time = store_mission_timer_a()
                            elif _tutorial_2_melee_agent_state == 2:
                                if _tutorial_2_msg_2_displayed == 0:
                                    _tutorial_2_msg_2_displayed = 1
                                    play_sound(snd.tutorial_1)
                                #end
                            #end
                        #end
                    #end
                #end
            #end
            if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                var002 = reg0
                m_timer_a_001 = store_mission_timer_a()
                m_timer_a_001 -= _tutorial_time
                reg3 = 20 - m_timer_a_001
                tutorial_message(gstr.tutorial_2_msg_2)
                if m_timer_a_001 > 20:
                    pos1 = entry_point_get_position(3)
                    agent_set_scripted_destination(var002,1,0)
                    _tutorial_2_melee_agent_state += 1
                elif _tutorial_2_melee_agent_state == 3:
                    if _tutorial_2_msg_3_displayed == 0:
                        _tutorial_2_msg_3_displayed = 1
                        tutorial_message(gstr.tutorial_2_msg_3)
                        play_sound(snd.tutorial_1)
                    #end
                #end
            #end
            if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                var002 = reg0
                pos1 = entry_point_get_position(3)
                pos2 = agent_get_position(var002)
                distance_004 = get_distance_between_positions(1,2)
                if distance_004 <= 250:
                    pos1 = entry_point_get_position(2)
                    agent_set_scripted_destination(var002,1,0)
                    _tutorial_2_melee_agent_state += 1
                elif _tutorial_2_melee_agent_state == 4 and cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = entry_point_get_position(2)
                    pos2 = agent_get_position(var002)
                    distance_004 = get_distance_between_positions(1,2)
                    if distance_004 <= 250:
                        pos1 = entry_point_get_position(30)
                        agent_set_position(var002,1)
                        agent_set_scripted_destination(var002,1,0)
                        scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,1)
                        pos1 = prop_instance_get_position(scp_instance_005)
                        position_rotate_z(1,90)
                        prop_instance_animate_to_position(scp_instance_005,1,150)
                        _tutorial_2_melee_agent_state += 1
                        _tutorial_2_state += 1
                    #end
                #end
            #end
        #end
    elif _tutorial_2_state == 3:
        scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,1)
        pos1 = prop_instance_get_position(scp_instance_006)
        agent_no_003 = get_player_agent_no()
        agent_set_kick_allowed(agent_no_003,1)
        pos2 = agent_get_position(agent_no_003)
        if position_is_behind_position(2,1):
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,1)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            _tutorial_time = store_mission_timer_a()
            _tutorial_2_state += 1
        elif _tutorial_2_state == 4:
            if _tutorial_2_msg_4_displayed == 0:
                _tutorial_2_msg_4_displayed = 1
                play_sound(snd.tutorial_1)
            #end
        #end
        m_timer_a_001 = store_mission_timer_a()
        m_timer_a_001 -= _tutorial_time
        reg3 = 20 - m_timer_a_001
        tutorial_message(gstr.tutorial_2_msg_4)
        if m_timer_a_001 > 20:
            pos1 = entry_point_get_position(5)
            set_spawn_position(1)
            spawn_item(itm.tutorial_sword)
            if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                var002 = reg0
                pos1 = entry_point_get_position(3)
                agent_set_position(var002,1)
                agent_set_scripted_destination(var002,1,0)
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,2)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                _tutorial_2_state += 1
            elif _tutorial_2_state == 5:
                if _tutorial_2_msg_5_displayed == 0:
                    _tutorial_2_msg_5_displayed = 1
                    tutorial_message(gstr.tutorial_2_msg_5)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,2)
        pos1 = prop_instance_get_position(scp_instance_006)
        agent_no_003 = get_player_agent_no()
        pos2 = agent_get_position(agent_no_003)
        if position_is_behind_position(2,1):
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,2)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            _tutorial_2_state += 1
        elif _tutorial_2_state == 6:
            if _tutorial_2_msg_6_displayed == 0:
                _tutorial_2_msg_6_displayed = 1
                tutorial_message(gstr.tutorial_2_msg_6)
                play_sound(snd.tutorial_1)
            #end
        #end
        agent_no_003 = get_player_agent_no()
        if agent_has_item_equipped(agent_no_003,itm.tutorial_sword):
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,3)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            _tutorial_2_state += 1
        elif _tutorial_2_state == 7:
            if _tutorial_2_msg_7_displayed == 0:
                _tutorial_2_msg_7_displayed = 1
                tutorial_message(gstr.tutorial_2_msg_7)
                play_sound(snd.tutorial_1)
                agent_no_003 = get_player_agent_no()
                agent_set_hit_points(agent_no_003,100)
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_archer):
            var002 = reg0
            if not agent_is_alive(var002) and cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                var002 = reg0
                agent_clear_scripted_mode(var002)
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_a,4)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,-90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                _tutorial_2_state += 1
            elif _tutorial_2_state == 8:
                if _tutorial_2_msg_8_displayed == 0:
                    _tutorial_2_msg_8_displayed = 1
                    tutorial_message(gstr.tutorial_2_msg_8)
                    play_sound(snd.tutorial_1)
                    agent_no_003 = get_player_agent_no()
                    agent_set_hit_points(agent_no_003,100)
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
            var002 = reg0
            if not agent_is_alive(var002):
                _tutorial_2_state += 1
            elif _tutorial_2_state == 9 and _tutorial_2_msg_9_displayed == 0:
                _tutorial_2_msg_9_displayed = 1
                tutorial_message(gstr.tutorial_2_msg_9)
                play_sound(snd.tutorial_2)
                _tutorial_2_finished = 1
            elif _tutorial_2_state > 30:
                tutorial_message(gstr.tutorial_failed)
            #end
        #end
    #end
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
tutorial_2.add_trigger(trigger6)


tutorial_3 = MissionTemplate("tutorial_3", description="You enter the training ground.")
tutorial_3.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_3.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.NO_COMPANIONS)
sr0.add_spawn_flag(SpawnFlag.NO_REGULARS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.LEADER_ONLY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_3.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=3, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_ai_flag(AIFlag.START_ALARMED)
tutorial_3.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=5, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_ai_flag(AIFlag.START_ALARMED)
tutorial_3.addSpawnRecord(sr2)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_3_state < 12:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_3.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_3.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_3.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 > 2 and main_hero_fallen():
        _tutorial_3_state = 100
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
tutorial_3.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_3_state = 0
    _tutorial_3_msg_1_displayed = 0
    _tutorial_3_msg_2_displayed = 0
    _tutorial_3_msg_3_displayed = 0
    _tutorial_3_msg_4_displayed = 0
    _tutorial_3_msg_5_displayed = 0
    _tutorial_3_msg_6_displayed = 0
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_3.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_3_state == 0:
        if _tutorial_3_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_3_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_3_msg_1)
                if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = agent_get_position(var002)
                    agent_set_scripted_destination(var002,1,0)
                    if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                        var002 = reg0
                        pos1 = agent_get_position(var002)
                        agent_set_scripted_destination(var002,1,0)
                        pos1 = entry_point_get_position(1)
                        set_spawn_position(1)
                        spawn_item(itm.tutorial_staff_no_attack)
                    #end
                #end
            #end
        #end
        agent_no_003 = get_player_agent_no()
        if agent_no_003 >= 0 and agent_has_item_equipped(agent_no_003,itm.tutorial_staff_no_attack):
            _tutorial_3_state += 1
        elif _tutorial_3_state == 1:
            if _tutorial_3_msg_2_displayed == 0:
                _tutorial_3_msg_2_displayed = 1
                tutorial_message(gstr.tutorial_3_msg_2)
                play_sound(snd.tutorial_1)
            #end
        #end
        agent_no_003 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_003)
        pos2 = entry_point_get_position(2)
        distance_004 = get_distance_between_positions(1,2)
        if distance_004 <= 200:
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,0)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            _tutorial_3_state += 1
        elif _tutorial_3_state == 2:
            scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,0)
            pos1 = prop_instance_get_position(scp_instance_006)
            agent_no_003 = get_player_agent_no()
            pos2 = agent_get_position(agent_no_003)
            if position_is_behind_position(2,1):
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,0)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 3:
                agent_no_003 = get_player_agent_no()
                agent_set_kick_allowed(agent_no_003,0)
                if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = entry_point_get_position(4)
                    agent_set_scripted_destination(var002,1,0)
                    _tutorial_3_state += 1
                elif _tutorial_3_state == 4 and cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = entry_point_get_position(4)
                    pos2 = agent_get_position(var002)
                    distance_004 = get_distance_between_positions(1,2)
                    if distance_004 <= 250:
                        agent_clear_scripted_mode(var002)
                        _tutorial_3_state += 1
                        _tutorial_time = store_mission_timer_a()
                    elif _tutorial_3_state == 5:
                        if _tutorial_3_msg_3_displayed == 0:
                            _tutorial_3_msg_3_displayed = 1
                            play_sound(snd.tutorial_1)
                        #end
                    #end
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
            var002 = reg0
            m_timer_a_001 = store_mission_timer_a()
            m_timer_a_001 -= _tutorial_time
            reg3 = 20 - m_timer_a_001
            tutorial_message(gstr.tutorial_3_msg_3)
            if m_timer_a_001 > 20:
                pos1 = entry_point_get_position(4)
                agent_set_scripted_destination(var002,1,0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 6:
                if _tutorial_3_msg_4_displayed == 0:
                    _tutorial_3_msg_4_displayed = 1
                    tutorial_message(gstr.tutorial_3_msg_4)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
            var002 = reg0
            pos1 = entry_point_get_position(4)
            pos2 = agent_get_position(var002)
            distance_004 = get_distance_between_positions(1,2)
            if distance_004 <= 250:
                pos1 = entry_point_get_position(3)
                agent_set_scripted_destination(var002,1,0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 7 and cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                var002 = reg0
                pos1 = entry_point_get_position(3)
                pos2 = agent_get_position(var002)
                distance_004 = get_distance_between_positions(1,2)
                if distance_004 <= 250:
                    pos1 = entry_point_get_position(7)
                    agent_set_scripted_destination(var002,1,0)
                    agent_set_position(var002,1)
                    scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,1)
                    pos1 = prop_instance_get_position(scp_instance_005)
                    position_rotate_z(1,-90)
                    prop_instance_animate_to_position(scp_instance_005,1,150)
                    scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,3)
                    pos1 = prop_instance_get_position(scp_instance_005)
                    position_rotate_z(1,-90)
                    prop_instance_animate_to_position(scp_instance_005,1,150)
                    _tutorial_3_state += 1
                elif _tutorial_3_state == 8:
                    scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,1)
                    pos1 = prop_instance_get_position(scp_instance_006)
                    agent_no_003 = get_player_agent_no()
                    pos2 = agent_get_position(agent_no_003)
                    if position_is_behind_position(2,1):
                        scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,1)
                        pos1 = prop_instance_get_position(scp_instance_005)
                        position_rotate_z(1,90)
                        prop_instance_animate_to_position(scp_instance_005,1,150)
                        _tutorial_3_state += 1
                    elif _tutorial_3_state == 9 and cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                        var002 = reg0
                        pos1 = entry_point_get_position(6)
                        agent_set_scripted_destination(var002,1,0)
                        _tutorial_3_state += 1
                    elif _tutorial_3_state == 10 and cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                        var002 = reg0
                        pos1 = entry_point_get_position(6)
                        pos2 = agent_get_position(var002)
                        distance_004 = get_distance_between_positions(1,2)
                        if distance_004 <= 250:
                            agent_clear_scripted_mode(var002)
                            _tutorial_3_state += 1
                            _tutorial_time = store_mission_timer_a()
                        elif _tutorial_3_state == 11:
                            if _tutorial_3_msg_5_displayed == 0:
                                _tutorial_3_msg_5_displayed = 1
                                play_sound(snd.tutorial_1)
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
            var002 = reg0
            m_timer_a_001 = store_mission_timer_a()
            m_timer_a_001 -= _tutorial_time
            reg3 = 20 - m_timer_a_001
            tutorial_message(gstr.tutorial_3_msg_5)
            if m_timer_a_001 > 20:
                pos1 = entry_point_get_position(6)
                agent_set_scripted_destination(var002,1,0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 12:
                if _tutorial_3_msg_6_displayed == 0:
                    _tutorial_3_msg_6_displayed = 1
                    tutorial_message(gstr.tutorial_3_msg_6)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
            var002 = reg0
            pos1 = entry_point_get_position(6)
            pos2 = agent_get_position(var002)
            distance_004 = get_distance_between_positions(1,2)
            if distance_004 <= 250:
                pos1 = entry_point_get_position(5)
                agent_set_scripted_destination(var002,1,0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 13 and cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                var002 = reg0
                pos1 = entry_point_get_position(5)
                pos2 = agent_get_position(var002)
                distance_004 = get_distance_between_positions(1,2)
                if distance_004 <= 250:
                    pos1 = entry_point_get_position(7)
                    agent_set_scripted_destination(var002,1,0)
                    agent_set_position(var002,1)
                    _tutorial_3_state += 1
                elif _tutorial_3_state > 30:
                    tutorial_message(gstr.tutorial_failed)
                #end
            #end
        #end
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
tutorial_3.add_trigger(trigger5)


tutorial_3_2 = MissionTemplate("tutorial_3_2", description="You enter the training ground.")
tutorial_3_2.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_3_2.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.NO_COMPANIONS)
sr0.add_spawn_flag(SpawnFlag.NO_REGULARS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.LEADER_ONLY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tutorial_staff)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_3_2.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=4, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_ai_flag(AIFlag.START_ALARMED)
tutorial_3_2.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=6, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_ai_flag(AIFlag.START_ALARMED)
tutorial_3_2.addSpawnRecord(sr2)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_3_state < 5:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_3_2.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_3_2.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_3_2.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 > 2 and main_hero_fallen():
        _tutorial_3_state = 100
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
tutorial_3_2.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_3_state = 0
    _tutorial_3_msg_1_displayed = 0
    _tutorial_3_msg_2_displayed = 0
    _tutorial_3_msg_3_displayed = 0
    _tutorial_3_msg_4_displayed = 0
    _tutorial_3_msg_5_displayed = 0
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_3_2.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_3_state == 0:
        if _tutorial_3_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_3_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_3_2_msg_1)
                play_sound(snd.tutorial_1)
                if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                    var002 = reg0
                    pos1 = agent_get_position(var002)
                    agent_set_scripted_destination(var002,1,0)
                    if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                        var002 = reg0
                        pos1 = agent_get_position(var002)
                        agent_set_scripted_destination(var002,1,0)
                    #end
                #end
            #end
        #end
        agent_no_003 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_003)
        pos2 = entry_point_get_position(2)
        distance_004 = get_distance_between_positions(1,2)
        if distance_004 <= 200:
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,0)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,-90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            _tutorial_3_state += 1
        elif _tutorial_3_state == 1:
            if _tutorial_3_msg_2_displayed == 0:
                _tutorial_3_msg_2_displayed = 1
                tutorial_message(gstr.tutorial_3_2_msg_2)
                play_sound(snd.tutorial_1)
            #end
        #end
        scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,0)
        pos1 = prop_instance_get_position(scp_instance_006)
        agent_no_003 = get_player_agent_no()
        pos2 = agent_get_position(agent_no_003)
        if position_is_behind_position(2,1):
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,0)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            if cf_get_first_agent_with_troop_id(trp.tutorial_maceman):
                agent_clear_scripted_mode(reg0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 2 and cf_get_first_agent_with_troop_id(trp.tutorial_maceman) and not agent_is_alive(reg0):
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,1)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,-90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,3)
                pos1 = prop_instance_get_position(scp_instance_005)
                position_rotate_z(1,-90)
                prop_instance_animate_to_position(scp_instance_005,1,150)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 3:
                if _tutorial_3_msg_3_displayed == 0:
                    _tutorial_3_msg_3_displayed = 1
                    tutorial_message(gstr.tutorial_3_2_msg_3)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        scp_instance_006 = scene_prop_get_instance(spr.barrier_4m,1)
        pos1 = prop_instance_get_position(scp_instance_006)
        agent_no_003 = get_player_agent_no()
        pos2 = agent_get_position(agent_no_003)
        if position_is_behind_position(2,1):
            scp_instance_005 = scene_prop_get_instance(spr.tutorial_door_b,1)
            pos1 = prop_instance_get_position(scp_instance_005)
            position_rotate_z(1,90)
            prop_instance_animate_to_position(scp_instance_005,1,150)
            if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman):
                agent_clear_scripted_mode(reg0)
                _tutorial_3_state += 1
            elif _tutorial_3_state == 4:
                if _tutorial_3_msg_4_displayed == 0:
                    _tutorial_3_msg_4_displayed = 1
                    tutorial_message(gstr.tutorial_3_2_msg_4)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        if cf_get_first_agent_with_troop_id(trp.tutorial_swordsman) and not agent_is_alive(reg0):
            _tutorial_3_state += 1
        elif _tutorial_3_state == 5 and _tutorial_3_msg_5_displayed == 0:
            _tutorial_3_msg_5_displayed = 1
            tutorial_message(gstr.tutorial_3_2_msg_5)
            play_sound(snd.tutorial_2)
            _tutorial_3_finished = 1
        elif _tutorial_3_state > 30:
            tutorial_message(gstr.tutorial_failed)
        #end
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
tutorial_3_2.add_trigger(trigger5)


tutorial_4 = MissionTemplate("tutorial_4", description="You enter the training ground.")
tutorial_4.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_4.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.NO_COMPANIONS)
sr0.add_spawn_flag(SpawnFlag.NO_REGULARS)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.LEADER_ONLY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tutorial_sword)
sr0.addItem(itm.tutorial_short_bow)
sr0.addItem(itm.tutorial_arrows)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_4.addSpawnRecord(sr0)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_4_state < 11:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_4.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_4.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_4.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    scene_set_day_time(13)
trigger3.codeBlock = code
tutorial_4.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_4_state = 0
    _tutorial_4_msg_1_displayed = 0
    _tutorial_4_msg_2_displayed = 0
    _tutorial_4_msg_3_displayed = 0
    _tutorial_4_msg_4_displayed = 0
    _tutorial_4_msg_5_displayed = 0
    _tutorial_4_msg_6_displayed = 0
    _tutorial_4_msg_7_displayed = 0
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_4.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_4_state == 0:
        if _tutorial_4_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_4_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_1)
                pos1 = entry_point_get_position(1)
                set_spawn_position(1)
                spawn_horse(itm.tutorial_saddle_horse)
                _tutorial_num_total_dummies_destroyed = 0
            #end
        #end
        agent_no_002 = get_player_agent_no()
        agent_horse_003 = agent_get_horse(agent_no_002)
        if agent_horse_003 >= 0:
            _tutorial_4_state += 1
            pos1 = entry_point_get_position(2)
            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_004,1,1)
        elif _tutorial_4_state == 1:
            if _tutorial_4_msg_2_displayed == 0:
                _tutorial_4_msg_2_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_2)
                play_sound(snd.tutorial_1)
            #end
        #end
        agent_no_002 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_002)
        pos2 = entry_point_get_position(2)
        distance_005 = get_distance_between_positions(1,2)
        if distance_005 <= 200:
            _tutorial_4_state += 1
            pos1 = entry_point_get_position(3)
            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_004,1,1)
        elif _tutorial_4_state == 2:
            agent_no_002 = get_player_agent_no()
            pos1 = agent_get_position(agent_no_002)
            pos2 = entry_point_get_position(3)
            distance_005 = get_distance_between_positions(1,2)
            if distance_005 <= 200:
                _tutorial_4_state += 1
                pos1 = entry_point_get_position(4)
                scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                prop_instance_animate_to_position(scp_instance_004,1,1)
            elif _tutorial_4_state == 3:
                agent_no_002 = get_player_agent_no()
                pos1 = agent_get_position(agent_no_002)
                pos2 = entry_point_get_position(4)
                distance_005 = get_distance_between_positions(1,2)
                if distance_005 <= 200:
                    _tutorial_4_state += 1
                    pos1 = entry_point_get_position(5)
                    scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                    prop_instance_animate_to_position(scp_instance_004,1,1)
                elif _tutorial_4_state == 4:
                    agent_no_002 = get_player_agent_no()
                    pos1 = agent_get_position(agent_no_002)
                    pos2 = entry_point_get_position(5)
                    distance_005 = get_distance_between_positions(1,2)
                    if distance_005 <= 200:
                        _tutorial_4_state += 1
                        pos1 = entry_point_get_position(6)
                        scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                        prop_instance_animate_to_position(scp_instance_004,1,1)
                    elif _tutorial_4_state == 5:
                        agent_no_002 = get_player_agent_no()
                        pos1 = agent_get_position(agent_no_002)
                        pos2 = entry_point_get_position(6)
                        distance_005 = get_distance_between_positions(1,2)
                        if distance_005 <= 200:
                            _tutorial_4_state += 1
                            pos1 = entry_point_get_position(1)
                            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                            prop_instance_animate_to_position(scp_instance_004,1,1)
                        elif _tutorial_4_state == 6:
                            agent_no_002 = get_player_agent_no()
                            pos1 = agent_get_position(agent_no_002)
                            pos2 = entry_point_get_position(1)
                            distance_005 = get_distance_between_positions(1,2)
                            if distance_005 <= 200:
                                _tutorial_4_state += 1
                                pos1 = entry_point_get_position(7)
                                scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                                prop_instance_animate_to_position(scp_instance_004,1,1)
                            elif _tutorial_4_state == 7:
                                if _tutorial_4_msg_3_displayed == 0:
                                    _tutorial_4_msg_3_displayed = 1
                                    tutorial_message(gstr.tutorial_4_msg_3)
                                    play_sound(snd.tutorial_1)
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        agent_no_002 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_002)
        pos2 = entry_point_get_position(7)
        distance_005 = get_distance_between_positions(1,2)
        if distance_005 <= 200:
            _tutorial_4_state += 1
            pos1 = entry_point_get_position(20)
            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_004,1,1)
        elif _tutorial_4_state == 8:
            if _tutorial_4_msg_4_displayed == 0:
                _tutorial_4_msg_4_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_4)
                play_sound(snd.tutorial_1)
            #end
        #end
        if _tutorial_num_total_dummies_destroyed >= 2:
            _tutorial_4_state += 1
            pos1 = entry_point_get_position(8)
            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_004,1,1)
        elif _tutorial_4_state == 9:
            if _tutorial_4_msg_5_displayed == 0:
                _tutorial_4_msg_5_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_5)
                play_sound(snd.tutorial_1)
            #end
        #end
        agent_no_002 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_002)
        pos2 = entry_point_get_position(8)
        distance_005 = get_distance_between_positions(1,2)
        if distance_005 <= 200:
            _tutorial_4_state += 1
            pos1 = entry_point_get_position(20)
            scp_instance_004 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_004,1,1)
        elif _tutorial_4_state == 10:
            if _tutorial_4_msg_6_displayed == 0:
                _tutorial_4_msg_6_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_6)
                play_sound(snd.tutorial_1)
                _g_last_archery_point_earned = 0
                _tutorial_num_arrows_hit = 0
            #end
        #end
        if True:
            agent_no_002 = get_player_agent_no()
            agent_ammo_006 = agent_get_ammo(agent_no_002)
            if agent_ammo_006 <= 0:
                agent_refill_ammo(agent_no_002)
                tutorial_message(gstr.tutorial_ammo_refilled)
            #end
        #end
        if _g_last_archery_point_earned > 0:
            _g_last_archery_point_earned = 0
            _tutorial_num_arrows_hit += 1
            if _tutorial_num_arrows_hit > 2:
                _tutorial_4_state += 1
            elif _tutorial_4_state == 11 and _tutorial_4_msg_7_displayed == 0:
                _tutorial_4_msg_7_displayed = 1
                tutorial_message(gstr.tutorial_4_msg_7)
                play_sound(snd.tutorial_2)
                _tutorial_4_finished = 1
            #end
        #end
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
tutorial_4.add_trigger(trigger5)


tutorial_5 = MissionTemplate("tutorial_5", description="You enter the training ground.")
tutorial_5.add_flag(MissionTemplateFlag.ARENA_FIGHT)
tutorial_5.add_flag(MissionTemplateFlag.TEAM_FIGHT)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPONS)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_1)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_2)
sr0.add_alter_flag(AlterFlag.OVERRIDE_WEAPON_3)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HEAD)
sr0.add_alter_flag(AlterFlag.OVERRIDE_BODY)
sr0.add_alter_flag(AlterFlag.OVERRIDE_FOOT)
sr0.add_alter_flag(AlterFlag.OVERRIDE_GLOVES)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL_BUT_HORSE)
sr0.add_alter_flag(AlterFlag.OVERRIDE_ALL)
sr0.add_alter_flag(AlterFlag.OVERRIDE_EVERYTHING)
sr0.addItem(itm.tutorial_sword)
sr0.addItem(itm.tutorial_shield)
sr0.addItem(itm.tutorial_short_bow)
sr0.addItem(itm.tutorial_arrows)
sr0.addItem(itm.tutorial_saddle_horse)
sr0.addItem(itm.leather_jerkin)
sr0.addItem(itm.leather_boots)
tutorial_5.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=8, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=9, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=10, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=13, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=14, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=15, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=16, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
tutorial_5.addSpawnRecord(sr11)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _tutorial_5_state < 5:
        question_box(gstr.do_you_wish_to_leave_tutorial)
    else:
        finish_mission(0)
    #end
trigger0.codeBlock = code
tutorial_5.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        finish_mission(0)
trigger1.codeBlock = code
tutorial_5.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_tutorial)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
tutorial_5.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    m_timer_a_001 = store_mission_timer_a()
    if m_timer_a_001 > 2 and main_hero_fallen():
        _tutorial_5_state = 100
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
tutorial_5.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    _tutorial_5_state = 0
    _tutorial_5_msg_1_displayed = 0
    _tutorial_5_msg_2_displayed = 0
    _tutorial_5_msg_3_displayed = 0
    _tutorial_5_msg_4_displayed = 0
    _tutorial_5_msg_5_displayed = 0
    _tutorial_5_msg_6_displayed = 0
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
tutorial_5.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    set_show_messages(0)
    team_give_order(0,9,11)
    set_show_messages(1)
    if m_timer_a_001 > 3:
        m_timer_a_001 = store_mission_timer_a()
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
tutorial_5.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if call_script(script.cf_turn_windmill_fans,0):
        pass
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
tutorial_5.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _tutorial_5_state == 0:
        if _tutorial_5_msg_1_displayed == 0:
            m_timer_a_001 = store_mission_timer_a()
            if m_timer_a_001 > 0:
                _tutorial_5_msg_1_displayed = 1
                tutorial_message(gstr.tutorial_5_msg_1)
                pos1 = entry_point_get_position(5)
                scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                prop_instance_animate_to_position(scp_instance_002,1,1)
            #end
        #end
        if cf_team_get_average_position_of_agents_with_type_to_pos1(0,0):
            pos2 = entry_point_get_position(5)
            distance_003 = get_distance_between_positions(1,2)
            if distance_003 <= 1000:
                _tutorial_5_state += 1
                pos1 = entry_point_get_position(6)
                scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_red,0)
                prop_instance_animate_to_position(scp_instance_002,1,1)
            elif _tutorial_5_state == 1:
                if _tutorial_5_msg_2_displayed == 0:
                    _tutorial_5_msg_2_displayed = 1
                    tutorial_message(gstr.tutorial_5_msg_2)
                    play_sound(snd.tutorial_1)
                #end
            #end
        #end
        if cf_team_get_average_position_of_agents_with_type_to_pos1(0,0):
            pos2 = entry_point_get_position(5)
            distance_003 = get_distance_between_positions(1,2)
            if distance_003 <= 1000:
                agent_no_004 = get_player_agent_no()
                pos1 = agent_get_position(agent_no_004)
                pos2 = entry_point_get_position(6)
                distance_003 = get_distance_between_positions(1,2)
                if distance_003 <= 500:
                    _tutorial_5_state += 1
                    pos1 = entry_point_get_position(7)
                    scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                    prop_instance_animate_to_position(scp_instance_002,1,1)
                    pos1 = entry_point_get_position(30)
                    scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_red,0)
                    prop_instance_animate_to_position(scp_instance_002,1,1)
                elif _tutorial_5_state == 2:
                    if _tutorial_5_msg_3_displayed == 0:
                        _tutorial_5_msg_3_displayed = 1
                        tutorial_message(gstr.tutorial_5_msg_3)
                        play_sound(snd.tutorial_1)
                    #end
                #end
            #end
        #end
        agent_no_004 = get_player_agent_no()
        pos1 = agent_get_position(agent_no_004)
        pos2 = entry_point_get_position(7)
        distance_003 = get_distance_between_positions(1,2)
        if distance_003 <= 500:
            _tutorial_5_state += 1
            modify_visitors_at_site(scn.tutorial_5)
            reset_visitors()
            set_visitor(5,trp.vaegir_archer)
            set_visitor(6,trp.vaegir_archer)
            set_visitor(7,trp.vaegir_archer)
            pos1 = entry_point_get_position(11)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_002,1,1)
            pos1 = entry_point_get_position(12)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_red,0)
            prop_instance_animate_to_position(scp_instance_002,1,1)
            set_show_messages(0)
            team_give_order(0,1,11)
            set_show_messages(1)
        elif _tutorial_5_state == 3:
            if _tutorial_5_msg_4_displayed == 0:
                _tutorial_5_msg_4_displayed = 1
                tutorial_message(gstr.tutorial_5_msg_4)
                play_sound(snd.tutorial_1)
            #end
        #end
        if cf_team_get_average_position_of_agents_with_type_to_pos1(0,1):
            pos2 = entry_point_get_position(11)
            distance_003 = get_distance_between_positions(1,2)
            if distance_003 <= 1000 and cf_team_get_average_position_of_agents_with_type_to_pos1(0,0):
                pos2 = entry_point_get_position(12)
                distance_003 = get_distance_between_positions(1,2)
                if distance_003 <= 1000:
                    _tutorial_5_state += 1
                    pos1 = entry_point_get_position(30)
                    scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
                    prop_instance_animate_to_position(scp_instance_002,1,1)
                    scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_red,0)
                    prop_instance_animate_to_position(scp_instance_002,1,1)
                    modify_visitors_at_site(scn.tutorial_5)
                    reset_visitors()
                    set_visitor(8,trp.bandit)
                    set_visitor(9,trp.bandit)
                    set_visitor(10,trp.bandit)
                    set_visitor(11,trp.bandit)
                    team_give_order(1,9,2)
                elif _tutorial_5_state == 4:
                    if _tutorial_5_msg_5_displayed == 0:
                        _tutorial_5_msg_5_displayed = 1
                        tutorial_message(gstr.tutorial_5_msg_5)
                        play_sound(snd.tutorial_1)
                    #end
                #end
            #end
        #end
        var005 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_team_no_007 = agent_get_team(cur_agent)
                if agent_team_no_007 == 1:
                    var005 += 1
                #end
            #end
        #end
        if var005 == 0:
            _tutorial_5_state += 1
        elif _tutorial_5_state == 5 and _tutorial_5_msg_6_displayed == 0:
            _tutorial_5_msg_6_displayed = 1
            tutorial_message(gstr.tutorial_5_msg_6)
            play_sound(snd.tutorial_2)
            _tutorial_5_finished = 1
        elif _tutorial_5_state > 30:
            tutorial_message(gstr.tutorial_failed)
            pos1 = entry_point_get_position(30)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_yellow,0)
            prop_instance_animate_to_position(scp_instance_002,1,1)
            scp_instance_002 = scene_prop_get_instance(spr.tutorial_flag_red,0)
            prop_instance_animate_to_position(scp_instance_002,1,1)
        #end
    #end
trigger7.conditionBlock = condition

def code():
    pass
trigger7.codeBlock = code
tutorial_5.add_trigger(trigger7)


quick_battle_battle = MissionTemplate("quick_battle_battle", description="You lead your men to battle.")
quick_battle_battle.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_1)
sr24.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_1)
sr25.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_1)
sr26.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_1)
sr27.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_1)
sr28.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_1)
sr29.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_1)
sr30.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_1)
sr31.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_battle.addSpawnRecord(sr31)
# ---
# trigger 0
trigger0 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if _g_battle_result != 0:
        custom_battle_end()
        finish_mission()
    else:
        question_box(gstr.give_up_fight)
    #end
trigger0.codeBlock = code
quick_battle_battle.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _g_battle_result = -1
        custom_battle_end()
        finish_mission()
trigger1.codeBlock = code
quick_battle_battle.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
quick_battle_battle.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    scene_set_day_time(15)
trigger3.codeBlock = code
quick_battle_battle.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger4.codeBlock = code
quick_battle_battle.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    _g_battle_result = 0
    combat_music_set_situation_with_culture()
trigger5.codeBlock = code
quick_battle_battle.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger6.codeBlock = code
quick_battle_battle.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(2) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
trigger7.conditionBlock = condition

def code():
    custom_battle_end()
    finish_mission(1)
trigger7.codeBlock = code
quick_battle_battle.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger8.codeBlock = code
quick_battle_battle.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        _g_battle_result = -1
trigger9.conditionBlock = condition

def code():
    custom_battle_end()
    finish_mission()
trigger9.codeBlock = code
quick_battle_battle.add_trigger(trigger9)


quick_battle_siege = MissionTemplate("quick_battle_siege", description="You lead your men to battle.")
quick_battle_siege.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr12.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr13.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr14.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr15.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr16.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr17.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr18.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr19.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr20.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr21.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr22.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr23.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_1)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr24.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_1)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr25.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_1)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr26.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_1)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr27.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_1)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr28.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_1)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr29.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_1)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr30.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_1)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr31.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr32.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr33.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr34.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr35.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr36.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr37.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr38.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr39.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_0)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_0)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_0)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_0)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_0)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_0)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_0)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_0)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
quick_battle_siege.addSpawnRecord(sr47)
# ---
# trigger 0
trigger0 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    team_set_relation(0,2,1)
    team_set_relation(1,3,1)
    change_banners_and_chest()
trigger0.codeBlock = code
quick_battle_siege.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
quick_battle_siege.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    _defender_team = 0
    _attacker_team = 1
    _defender_team_2 = 2
    _attacker_team_2 = 3
trigger2.conditionBlock = condition

def code():
    pass
trigger2.codeBlock = code
quick_battle_siege.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    scene_set_day_time(15)
trigger3.codeBlock = code
quick_battle_siege.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    if _g_battle_result != 0:
        custom_battle_end()
        finish_mission()
    else:
        question_box(gstr.give_up_fight)
    #end
trigger4.codeBlock = code
quick_battle_siege.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-8.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code(var001):
    if var001 == 0:
        _g_battle_result = -1
        custom_battle_end()
        finish_mission()
trigger5.codeBlock = code
quick_battle_siege.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger6.conditionBlock = condition

def code():
    pass
trigger6.codeBlock = code
quick_battle_siege.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    _g_battle_result = 0
    music_set_situation_with_culture(262144)
trigger7.codeBlock = code
quick_battle_siege.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    combat_music_set_situation_with_culture()
trigger8.codeBlock = code
quick_battle_siege.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 60.000000, 100000000.000000)
def condition():
    reg1 = store_mission_timer_a()
    if reg1 >= 10 and all_enemies_defeated(2) and not main_hero_fallen(0):
        set_mission_result(1)
        print(gstr.msg_battle_won)
        _g_battle_won = 1
        _g_battle_result = 1
trigger9.conditionBlock = condition

def code():
    custom_battle_end()
    finish_mission(1)
trigger9.codeBlock = code
quick_battle_siege.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if _g_battle_won == 1:
        print(gstr.msg_battle_won)
trigger10.codeBlock = code
quick_battle_siege.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        _g_battle_result = -1
trigger11.conditionBlock = condition

def code():
    custom_battle_end()
    finish_mission()
trigger11.codeBlock = code
quick_battle_siege.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(5.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    agent_team_no_002_list1 = [
    _attacker_team_2,
    _attacker_team,
    ]
    for cur_agent in __all_agents__:
        if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
            agent_team_no_002 = agent_get_team(cur_agent)
            if agent_team_no_002 in agent_team_no_002_list1:
                agent_ai_set_always_attack_in_melee(cur_agent,1)
            #end
        #end
    #end
trigger12.codeBlock = code
quick_battle_siege.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(120.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    agent_team_no_003_list1 = [
    _defender_team_2,
    _defender_team,
    ]
    agent_no_001 = get_player_agent_no()
    for cur_agent in __all_agents__:
        if cur_agent != agent_no_001 and agent_is_alive(cur_agent) and agent_is_human(cur_agent):
            agent_team_no_003 = agent_get_team(cur_agent)
            if agent_team_no_003 in agent_team_no_003_list1:
                agent_refill_ammo(cur_agent)
            #end
        #end
    #end
trigger13.codeBlock = code
quick_battle_siege.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    siege_init_ai_and_belfry()
trigger14.conditionBlock = condition

def code():
    pass
trigger14.codeBlock = code
quick_battle_siege.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_move_belfry):
        pass
trigger15.conditionBlock = condition

def code():
    pass
trigger15.codeBlock = code
quick_battle_siege.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(0.000000, 2.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_rotate_belfry_platform):
        pass
trigger16.conditionBlock = condition

def code():
    _belfry_positioned = 3
trigger16.codeBlock = code
quick_battle_siege.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if call_script(script.cf_siege_assign_men_to_belfry):
        pass
trigger17.conditionBlock = condition

def code():
    pass
trigger17.codeBlock = code
quick_battle_siege.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    set_show_messages(0)
    pos10 = entry_point_get_position(10)
    for var001 in range(0, 9):
        if var001 != 1:
            team_give_order(_defender_team,var001,0)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team,var001,7)
            team_give_order(_defender_team_2,var001,0)
            team_give_order(_defender_team_2,var001,7)
            team_give_order(_defender_team_2,var001,7)
        #end
    #end
    team_give_order(_defender_team,1,11)
    team_set_order_position(_defender_team,9,10)
    team_give_order(_defender_team_2,1,11)
    team_set_order_position(_defender_team_2,9,10)
    set_show_messages(1)
trigger18.conditionBlock = condition

def code():
    pass
trigger18.codeBlock = code
quick_battle_siege.add_trigger(trigger18)


multiplayer_dm = MissionTemplate("multiplayer_dm", description="You lead your men to battle.")
multiplayer_dm.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_dm.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger0.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger0.codeBlock = code
multiplayer_dm.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
trigger1.codeBlock = code
multiplayer_dm.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger2.codeBlock = code
multiplayer_dm.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 0
    multiplayer_server_before_mission_start_common()
    multiplayer_make_everyone_enemy()
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger3.codeBlock = code
multiplayer_dm.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
    _g_multiplayer_ready_for_spawning_agent = 1
trigger4.codeBlock = code
multiplayer_dm.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    team_no_010_list1 = [
    1,
    0,
    ]
    if True:
        my_player = multiplayer_get_my_player()
        if is_between(my_player,0,1000):
            team_no_002 = player_get_team_no(my_player)
            if team_no_002 < 2:
                kill_count_003 = player_get_kill_count(my_player)
                death_count_004 = player_get_death_count(my_player)
                var005 = kill_count_003 * 1000
                var005 -= death_count_004
                var006 = 1
                max_players = get_max_players()
                var008 = max_players
                for player_id_009 in range(0, var008):
                    if player_is_active(player_id_009):
                        team_no_010 = player_get_team_no(player_id_009)
                        if team_no_010 in team_no_010_list1:
                            kill_count_003 = player_get_kill_count(player_id_009)
                            death_count_004 = player_get_death_count(player_id_009)
                            var011 = kill_count_003 * 1000
                            var011 -= death_count_004
                            if var011 > var005:
                                var006 = 0
                                var008 = 0
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            unlock_achievement(68)
        #end
    #end
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
trigger5.codeBlock = code
multiplayer_dm.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
trigger6.codeBlock = code
multiplayer_dm.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        if True:
                            player_slot_007 = player_get_slot(player_id_002,24)
                            if player_slot_007 == 1:
                                var006 = 1
                                player_set_slot(player_id_002,24,0)
                            else:
                                if agent_id_005 < 0:
                                    var006 = 1
                                elif not agent_is_alive(agent_id_005):
                                    agent_time_since_removed_008 = agent_get_time_elapsed_since_removed(agent_id_005)
                                    if agent_time_since_removed_008 > _g_multiplayer_respawn_period:
                                        var006 = 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            troop_inv_slot_009 = troop_get_inventory_slot(troop_id_004,8)
            if troop_inv_slot_009 >= 0:
                var010 = 1
            else:
                var010 = 0
            #end
        #end
        multiplayer_find_spawn_point(team_no_003,0,var010)
        player_spawn_new_agent(player_id_002,reg0)
    #end
trigger7.codeBlock = code
multiplayer_dm.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger8.codeBlock = code
multiplayer_dm.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            random_x_002 = store_random_in_range(0,var001)
            random_x_002 -= _g_multiplayer_num_bots_required_team_1
            if random_x_002 < 0:
                team_id_003 = 0
                _g_multiplayer_num_bots_required_team_1 -= 1
            else:
                team_id_003 = 1
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
        team_faction_004 = team_get_faction(team_id_003)
        var005 = 0
        for trp_006 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_007 = store_faction_of_troop(trp_006)
            if troop_faction_007 == team_faction_004:
                var005 += 1
            #end
        #end
        random_x_008 = store_random_in_range(0,var005)
        var009 = trp.swadian_crossbowman_multiplayer
        for trp_006 in range(trp.swadian_crossbowman_multiplayer_ai, var009):
            troop_faction_007 = store_faction_of_troop(trp_006)
            if troop_faction_007 == team_faction_004:
                random_x_008 -= 1
                if random_x_008 < 0:
                    var009 = 0
                    troop_id_010 = trp_006
                #end
            #end
        #end
        troop_inv_slot_011 = troop_get_inventory_slot(troop_id_010,8)
        if troop_inv_slot_011 >= 0:
            var012 = 1
        else:
            var012 = 0
        #end
        multiplayer_find_spawn_point(team_id_003,0,var012)
        cur_scene_013 = store_current_scene()
        modify_visitors_at_site(cur_scene_013)
        add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_003,-1)
        _g_multiplayer_ready_for_spawning_agent = 0
    #end
trigger9.codeBlock = code
multiplayer_dm.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if multiplayer_is_server():
        var001 = 0
        if True:
            m_timer_a_002 = store_mission_timer_a()
            var003 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_002 > var003:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger10.codeBlock = code
multiplayer_dm.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
    #end
trigger11.codeBlock = code
multiplayer_dm.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger12.codeBlock = code
multiplayer_dm.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart_deathmatch) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger13.codeBlock = code
multiplayer_dm.add_trigger(trigger13)


multiplayer_tdm = MissionTemplate("multiplayer_tdm", description="You lead your men to battle.")
multiplayer_tdm.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_tdm.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_tdm.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_tdm.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
trigger2.codeBlock = code
multiplayer_tdm.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger3.codeBlock = code
multiplayer_tdm.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 1
    multiplayer_server_before_mission_start_common()
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger4.codeBlock = code
multiplayer_tdm.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
    _g_multiplayer_ready_for_spawning_agent = 1
trigger5.codeBlock = code
multiplayer_tdm.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    if True:
        my_player = multiplayer_get_my_player()
        if is_between(my_player,0,1000):
            team_no_002 = player_get_team_no(my_player)
            if team_no_002 < 2:
                team_score_003 = team_get_score(0)
                team_score_004 = team_get_score(1)
                var005 = 0
                if team_no_002 == 0 and team_score_003 > team_score_004:
                    var005 = 1
                elif team_no_002 == 1 and team_score_004 > team_score_003:
                    var005 = 1
                #end
            #end
        #end
        if var005 == 1:
            unlock_achievement(67)
        #end
    #end
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger6.codeBlock = code
multiplayer_tdm.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if var002 >= 0 and agent_is_human(var001) and agent_is_human(var002):
        agent_team_no_003 = agent_get_team(var002)
        if agent_team_no_003 <= 1:
            agent_team_no_004 = agent_get_team(var001)
            if agent_team_no_003 != agent_team_no_004:
                team_score_005 = team_get_score(agent_team_no_003)
                team_score_005 += 1
                team_set_score(agent_team_no_003,team_score_005)
            #end
        #end
    #end
trigger7.codeBlock = code
multiplayer_tdm.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        if True:
                            player_slot_007 = player_get_slot(player_id_002,24)
                            if player_slot_007 == 1:
                                var006 = 1
                                player_set_slot(player_id_002,24,0)
                            else:
                                if agent_id_005 < 0:
                                    var006 = 1
                                elif not agent_is_alive(agent_id_005):
                                    agent_time_since_removed_008 = agent_get_time_elapsed_since_removed(agent_id_005)
                                    if agent_time_since_removed_008 > _g_multiplayer_respawn_period:
                                        var006 = 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            troop_inv_slot_009 = troop_get_inventory_slot(troop_id_004,8)
            if troop_inv_slot_009 >= 0:
                var010 = 1
            else:
                var010 = 0
            #end
        #end
        multiplayer_find_spawn_point(team_no_003,1,var010)
        player_spawn_new_agent(player_id_002,reg0)
    #end
trigger8.codeBlock = code
multiplayer_tdm.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger9.codeBlock = code
multiplayer_tdm.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger10.codeBlock = code
multiplayer_tdm.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger11.codeBlock = code
multiplayer_tdm.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if multiplayer_is_server():
        check_team_balance()
trigger12.codeBlock = code
multiplayer_tdm.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger13.codeBlock = code
multiplayer_tdm.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger14.codeBlock = code
multiplayer_tdm.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger15.codeBlock = code
multiplayer_tdm.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_team_score_display)
trigger16.codeBlock = code
multiplayer_tdm.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger17.codeBlock = code
multiplayer_tdm.add_trigger(trigger17)


multiplayer_hq = MissionTemplate("multiplayer_hq", description="You lead your men to battle.")
multiplayer_hq.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_hq.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_hq.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_hq.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
trigger2.codeBlock = code
multiplayer_hq.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger3.codeBlock = code
multiplayer_hq.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 5
    multiplayer_server_before_mission_start_common()
    var001 = _g_multiplayer_game_max_points * 10000
    _g_score_team_1 = var001
    _g_score_team_2 = var001
    for slot_no_002 in range(146, 156):
        troop_set_slot(trp.multiplayer_data,slot_no_002,-1)
    #end
    if multiplayer_is_server():
        for slot_no_002 in range(176, 186):
            troop_set_slot(trp.multiplayer_data,slot_no_002,-1)
        #end
    #end
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    if multiplayer_is_server():
        team_set_score(0,_g_multiplayer_game_max_points)
        team_set_score(1,_g_multiplayer_game_max_points)
    #end
trigger4.codeBlock = code
multiplayer_hq.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    determine_team_flags(0)
    determine_team_flags(1)
    set_spawn_effector_scene_prop_kind(0,_team_1_flag_scene_prop)
    set_spawn_effector_scene_prop_kind(1,_team_2_flag_scene_prop)
    if multiplayer_is_server():
        _g_multiplayer_ready_for_spawning_agent = 1
        _g_number_of_flags = 0
        pos1 = entry_point_get_position(64)
        pos3 = entry_point_get_position(64)
        set_spawn_position(3)
        spawn_scene_prop(spr.headquarters_pole_code_only,0)
        set_spawn_position(3)
        spawn_scene_prop(_team_1_flag_scene_prop,0)
        set_spawn_position(3)
        spawn_scene_prop(_team_2_flag_scene_prop,0)
        set_spawn_position(3)
        spawn_scene_prop(spr.headquarters_flag_gray_code_only,0)
        slot_no_001 = 146 + _g_number_of_flags
        troop_set_slot(trp.multiplayer_data,slot_no_001,1)
        _g_number_of_flags += 1
        pos2 = entry_point_get_position(65)
        pos3 = entry_point_get_position(65)
        set_spawn_position(3)
        spawn_scene_prop(spr.headquarters_pole_code_only,0)
        set_spawn_position(3)
        spawn_scene_prop(_team_1_flag_scene_prop,0)
        set_spawn_position(3)
        spawn_scene_prop(_team_2_flag_scene_prop,0)
        set_spawn_position(3)
        spawn_scene_prop(spr.headquarters_flag_gray_code_only,0)
        slot_no_001 = 146 + _g_number_of_flags
        troop_set_slot(trp.multiplayer_data,slot_no_001,2)
        _g_number_of_flags += 1
        scp_num_instances_002 = scene_prop_get_num_instances(spr.headquarters_flag_red)
        scp_num_instances_003 = scene_prop_get_num_instances(spr.headquarters_flag_blue)
        scp_num_instances_004 = scene_prop_get_num_instances(spr.headquarters_flag_gray)
        var005 = spr.headquarters_flag_gray
        var005 += 1
        for var006 in range(spr.headquarters_flag_red, var005):
            if var006 == spr.headquarters_flag_red:
                var007 = scp_num_instances_002
            elif var006 == spr.headquarters_flag_blue:
                var007 = scp_num_instances_003
            elif var006 == spr.headquarters_flag_gray:
                var007 = scp_num_instances_004
            #end
            if var007 > 0:
                for var008 in range(0, var007):
                    scp_instance_009 = scene_prop_get_instance(var006,var008)
                    pos0 = prop_instance_get_position(scp_instance_009)
                    set_spawn_position(0)
                    spawn_scene_prop(spr.headquarters_pole_code_only,0)
                    for var010 in range(spr.headquarters_flag_red, var005):
                        set_spawn_position(0)
                        if var010 == spr.headquarters_flag_red:
                            spawn_scene_prop(_team_1_flag_scene_prop)
                        elif var010 == spr.headquarters_flag_blue:
                            spawn_scene_prop(_team_2_flag_scene_prop)
                        elif var010 == spr.headquarters_flag_gray:
                            spawn_scene_prop(spr.headquarters_flag_gray_code_only)
                        #end
                    #end
                #end
                slot_no_001 = 146 + _g_number_of_flags
                if var006 == spr.headquarters_flag_red:
                    troop_set_slot(trp.multiplayer_data,slot_no_001,1)
                elif var006 == spr.headquarters_flag_blue:
                    troop_set_slot(trp.multiplayer_data,slot_no_001,2)
                elif var006 == spr.headquarters_flag_gray:
                    troop_set_slot(trp.multiplayer_data,slot_no_001,0)
                #end
                _g_number_of_flags += 1
            #end
        #end
        _g_number_of_initial_team_1_flags = 0
        _g_number_of_initial_team_2_flags = 0
        for var011 in range(0, _g_number_of_flags):
            slot_no_001 = 146 + var011
            troop_slot_012 = troop_get_slot(trp.multiplayer_data,slot_no_001)
            if var011 == 0:
                pos0 = entry_point_get_position(64)
                scp_instance_009 = scene_prop_get_instance(_team_1_flag_scene_prop,var011)
                _g_base_flag_team_1 = scp_instance_009
            elif var011 == 1:
                pos0 = entry_point_get_position(65)
                scp_instance_009 = scene_prop_get_instance(_team_2_flag_scene_prop,var011)
                _g_base_flag_team_2 = scp_instance_009
            else:
                var013 = 2
                scp_num_instances_014 = scene_prop_get_num_instances(spr.headquarters_flag_red)
                var015 = var013 + scp_num_instances_014
                scp_num_instances_016 = scene_prop_get_num_instances(spr.headquarters_flag_blue)
                var017 = var015 + scp_num_instances_016
                scp_num_instances_018 = scene_prop_get_num_instances(spr.headquarters_flag_gray)
                if var011 >= var013 and scp_num_instances_014 > 0:
                    var019 = var011 - var013
                    scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_red,var019)
                elif var011 >= var015 and scp_num_instances_016 > 0:
                    var019 = var011 - var015
                    scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_blue,var019)
                elif var011 >= var017 and scp_num_instances_018 > 0:
                    var019 = var011 - var017
                    scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_gray,var019)
                #end
                pos0 = prop_instance_get_position(scp_instance_009)
            #end
            scp_instance_020 = scene_prop_get_instance(spr.headquarters_pole_code_only,var011)
            prop_instance_set_position(scp_instance_020,0)
            position_move_z(0,900)
            if troop_slot_012 == 0:
                scp_instance_009 = scene_prop_get_instance(_team_1_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                scp_instance_009 = scene_prop_get_instance(_team_2_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_gray_code_only,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,1)
            elif troop_slot_012 == 1:
                scp_instance_009 = scene_prop_get_instance(_team_1_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,1)
                scp_instance_009 = scene_prop_get_instance(_team_2_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_gray_code_only,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                _g_number_of_initial_team_1_flags += 1
            else:
                scp_instance_009 = scene_prop_get_instance(_team_1_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                scp_instance_009 = scene_prop_get_instance(_team_2_flag_scene_prop,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,1)
                scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_gray_code_only,var011)
                prop_instance_set_position(scp_instance_009,0)
                scene_prop_set_visibility(scp_instance_009,0)
                _g_number_of_initial_team_2_flags += 1
            #end
        #end
    else:
        scp_num_instances_002 = scene_prop_get_num_instances(spr.headquarters_flag_red)
        scp_num_instances_003 = scene_prop_get_num_instances(spr.headquarters_flag_blue)
        scp_num_instances_004 = scene_prop_get_num_instances(spr.headquarters_flag_gray)
        _g_number_of_flags = 2
        _g_number_of_flags += scp_num_instances_002
        _g_number_of_flags += scp_num_instances_003
        _g_number_of_flags += scp_num_instances_004
    #end
    for var019 in range(0, scp_num_instances_002):
        scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_red,var019)
        scene_prop_set_visibility(scp_instance_009,0)
    #end
    for var019 in range(0, scp_num_instances_003):
        scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_blue,var019)
        scene_prop_set_visibility(scp_instance_009,0)
    #end
    for var019 in range(0, scp_num_instances_004):
        scp_instance_009 = scene_prop_get_instance(spr.headquarters_flag_gray,var019)
        scene_prop_set_visibility(scp_instance_009,0)
    #end
    for var019 in range(0, _g_number_of_flags):
        slot_no_021 = 166 + var019
        troop_set_slot(trp.multiplayer_data,slot_no_021,0)
    #end
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
trigger5.codeBlock = code
multiplayer_hq.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    if True:
        my_player = multiplayer_get_my_player()
        if is_between(my_player,0,1000):
            team_no_002 = player_get_team_no(my_player)
            if team_no_002 < 2:
                get_headquarters_scores()
                var003 = reg0
                var004 = reg1
                var005 = 0
                if team_no_002 == 0 and var003 > var004:
                    var005 = 1
                elif team_no_002 == 1 and var004 > var003:
                    var005 = 1
                #end
            #end
        #end
        if var005 == 1:
            unlock_achievement(61)
        #end
    #end
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger6.codeBlock = code
multiplayer_hq.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if multiplayer_is_server() and var002 >= 0 and agent_is_human(var001) and agent_is_human(var002):
        agent_team_no_003 = agent_get_team(var002)
        if agent_team_no_003 <= 1:
            agent_team_no_004 = agent_get_team(var001)
            if agent_team_no_003 != agent_team_no_004:
                team_score_005 = team_get_score(agent_team_no_004)
                if agent_team_no_003 == 0:
                    _g_score_team_2 += -10000
                else:
                    _g_score_team_1 += -10000
                #end
            #end
        #end
        team_score_005 -= 1
        max_players = get_max_players()
        team_set_score(agent_team_no_004,team_score_005)
        for player_id_007 in range(1, max_players):
            if player_is_active(player_id_007):
                multiplayer_send_2_int_to_player(player_id_007,72,agent_team_no_004,team_score_005)
            #end
        #end
    #end
trigger7.codeBlock = code
multiplayer_hq.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for var001 in range(0, _g_number_of_flags):
            slot_no_002 = 166 + var001
            troop_slot_003 = troop_get_slot(trp.multiplayer_data,slot_no_002)
            troop_slot_003 += 1
            troop_set_slot(trp.multiplayer_data,slot_no_002,troop_slot_003)
            slot_no_004 = 176 + var001
            troop_slot_005 = troop_get_slot(trp.multiplayer_data,slot_no_004)
            var006 = store_mod(troop_slot_005,100)
            if troop_slot_005 >= 100 and var006 < 25:
                troop_slot_005 += 1
                troop_set_slot(trp.multiplayer_data,slot_no_004,troop_slot_005)
            #end
        #end
    #end
trigger8.codeBlock = code
multiplayer_hq.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for var001 in range(0, _g_number_of_flags):
            slot_no_002 = 156 + var001
            troop_slot_003 = troop_get_slot(trp.multiplayer_data,slot_no_002)
            var004 = troop_slot_003 / 100
            var005 = store_mod(troop_slot_003,100)
            var006 = 0
            var007 = 0
            scp_instance_008 = scene_prop_get_instance(spr.headquarters_pole_code_only,var001)
            pos0 = prop_instance_get_position(scp_instance_008)
            max_players = get_max_players()
            for player_id_010 in range(0, max_players):
                if player_is_active(player_id_010):
                    agent_id_011 = player_get_agent_id(player_id_010)
                    if agent_id_011 >= 0 and agent_is_alive(agent_id_011):
                        agent_team_no_012 = agent_get_team(agent_id_011)
                        pos1 = agent_get_position(agent_id_011)
                        sq_distance_013 = get_sq_distance_between_positions(0,1)
                        sq_distance_014 = get_sq_distance_between_position_heights(0,1)
                        sq_distance_013 += sq_distance_014
                        if sq_distance_013 < 1600:
                            if agent_team_no_012 == 0:
                                var006 += 1
                            elif agent_team_no_012 == 1:
                                var007 += 1
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var004 == var006 or var005 != var007:
            slot_no_015 = 146 + var001
            troop_slot_016 = troop_get_slot(trp.multiplayer_data,slot_no_015)
            slot_no_017 = 176 + var001
            troop_slot_018 = troop_get_slot(trp.multiplayer_data,slot_no_017)
            var019 = store_mod(troop_slot_018,100)
            var020 = troop_slot_018 / 100
            if True:
                var021 = 0
                if troop_slot_016 != 1 and var004 == 0 and var006 > 0 and var007 == 0:
                    var022 = 1
                    var021 = 1
                elif troop_slot_016 != 2 and var005 == 0 and var006 == 0 and var007 > 0:
                    var022 = 2
                    var021 = 1
                #end
                if var021 == 1:
                    var023 = var022 * 100
                    troop_set_slot(trp.multiplayer_data,slot_no_017,var023)
                    if var020 == var022 or var019 >= 25:
                        var024 = var022 * 100
                        var024 += var001
                        show_multiplayer_message(10,var024)
                        for player_id_010 in range(1, max_players):
                            if player_is_active(player_id_010):
                                multiplayer_send_2_int_to_player(player_id_010,68,10,var024)
                            #end
                        #end
                    #end
                #end
            #end
            if True:
                troop_slot_003 = var006 * 100
                troop_slot_003 += var007
                troop_set_slot(trp.multiplayer_data,slot_no_002,troop_slot_003)
                set_num_agents_around_flag(var001,troop_slot_003)
                max_players = get_max_players()
                for player_id_010 in range(1, max_players):
                    if player_is_active(player_id_010):
                        multiplayer_send_2_int_to_player(player_id_010,73,var001,troop_slot_003)
                    #end
                #end
            #end
        #end
    #end
    for var001 in range(0, _g_number_of_flags):
        var025 = -1
        scp_instance_008 = scene_prop_get_instance(spr.headquarters_pole_code_only,var001)
        pos0 = prop_instance_get_position(scp_instance_008)
        slot_no_015 = 146 + var001
        troop_slot_016 = troop_get_slot(trp.multiplayer_data,slot_no_015)
        if True:
            if True:
                scp_instance_026 = scene_prop_get_instance(_team_1_flag_scene_prop,var001)
                scp_visibility_027 = scene_prop_get_visibility(scp_instance_026)
                var028 = 1
                if scp_visibility_027 == 0:
                    scp_instance_026 = scene_prop_get_instance(_team_2_flag_scene_prop,var001)
                    scp_visibility_027 = scene_prop_get_visibility(scp_instance_026)
                    var028 = 2
                    if scp_visibility_027 == 0:
                        scp_instance_026 = scene_prop_get_instance(spr.headquarters_flag_gray_code_only,var001)
                        scp_visibility_027 = scene_prop_get_visibility(scp_instance_026)
                        var028 = 0
                    #end
                #end
            #end
            pos1 = prop_instance_get_position(scp_instance_026)
            if True:
                sq_distance_013 = get_sq_distance_between_positions(0,1)
                if sq_distance_013 < 400:
                    slot_no_029 = 156 + var001
                    troop_slot_030 = troop_get_slot(trp.multiplayer_data,slot_no_029)
                    var006 = troop_slot_030 / 100
                    var007 = store_mod(troop_slot_030,100)
                    if var006 > 0 and var007 == 0:
                        var025 = 0
                        var031 = 1
                    elif var006 == 0 and var007 > 0:
                        var025 = 0
                        var031 = 2
                    elif var006 == 0 and var007 == 0 and var028 != 0:
                        var025 = 0
                        var031 = 0
                    #end
                #end
            elif troop_slot_016 != var028:
                sq_distance_013 = get_sq_distance_between_positions(0,1)
                if sq_distance_013 >= 8100:
                    slot_no_029 = 156 + var001
                    troop_slot_030 = troop_get_slot(trp.multiplayer_data,slot_no_029)
                    var006 = troop_slot_030 / 100
                    var007 = store_mod(troop_slot_030,100)
                    if var028 == 1:
                        var025 = 1
                        var031 = 1
                    elif var028 == 2:
                        var025 = 2
                        var031 = 2
                    #end
                #end
            #end
        #end
        if var025 >= 0 and var025 == troop_slot_016 or var028 != var031:
            if troop_slot_016 != 0 and var025 == 0:
                if troop_slot_016 == 1:
                    var032 = 2
                elif troop_slot_016 == 2:
                    var032 = 1
                #end
                var024 = var032 * 100
                var024 += var001
                show_multiplayer_message(8,var024)
                max_players = get_max_players()
                for player_id_010 in range(1, max_players):
                    if player_is_active(player_id_010):
                        multiplayer_send_2_int_to_player(player_id_010,68,8,var024)
                    #end
                #end
            #end
            if troop_slot_016 != var025 and var025 != 0:
                var024 = var025 * 100
                var024 += var001
                show_multiplayer_message(9,var024)
                max_players = get_max_players()
                for player_id_010 in range(1, max_players):
                    if player_is_active(player_id_010):
                        multiplayer_send_2_int_to_player(player_id_010,68,9,var024)
                    #end
                #end
            #end
            set_num_agents_around_flag(var001,troop_slot_030)
            var033 = 0
            max_players = get_max_players()
            for player_id_010 in range(1, max_players):
                if player_is_active(player_id_010):
                    multiplayer_send_2_int_to_player(player_id_010,73,var001,troop_slot_030)
                    var033 += 1
                #end
            #end
            var034 = var025 * 100
            var034 += var031
            change_flag_owner(var001,var034)
            for player_id_010 in range(1, max_players):
                if player_is_active(player_id_010):
                    multiplayer_send_2_int_to_player(player_id_010,75,var001,var034)
                #end
            #end
            if var025 != 0:
                if var025 == 1:
                    var035 = var006
                else:
                    var035 = var007
                #end
                slot_no_036 = 166 + var001
                troop_slot_037 = troop_get_slot(trp.multiplayer_data,slot_no_036)
                troop_set_slot(trp.multiplayer_data,slot_no_036,0)
                val_min(troop_slot_037,360)
                scp_instance_038 = scene_prop_get_instance(_team_1_flag_scene_prop,var001)
                scp_instance_039 = scene_prop_get_instance(_team_2_flag_scene_prop,var001)
                if _g_base_flag_team_1 == scp_instance_038 or _g_base_flag_team_2 == scp_instance_039:
                    var040 = 2
                else:
                    var040 = 1
                #end
                if var035 <= 1:
                    var041 = 3
                elif var035 == 2:
                    var041 = 2
                elif var035 <= 6:
                    var041 = 1
                else:
                    var041 = 0
                #end
                var042 = troop_slot_037 * var033
                var042 *= var040
                var042 /= 2
                if var035 > 0:
                    var043 = var042 / var035
                #end
                max_players = get_max_players()
                for player_id_010 in range(0, max_players):
                    if player_is_active(player_id_010):
                        agent_id_011 = player_get_agent_id(player_id_010)
                        if agent_id_011 >= 0:
                            agent_team_no_012 = agent_get_team(agent_id_011)
                            agent_team_no_012 += 1
                            if agent_team_no_012 == var025:
                                pos1 = agent_get_position(agent_id_011)
                                pos0 = prop_instance_get_position(scp_instance_008)
                                sq_distance_013 = get_sq_distance_between_positions(0,1)
                                sq_distance_014 = get_sq_distance_between_position_heights(0,1)
                                sq_distance_013 += sq_distance_014
                                if sq_distance_013 < 1600:
                                    score_044 = player_get_score(player_id_010)
                                    score_044 += var041
                                    player_set_score(player_id_010,score_044)
                                    gold_045 = player_get_gold(player_id_010)
                                    gold_045 += var043
                                    player_set_gold(player_id_010,gold_045,15000)
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
    #end
trigger9.codeBlock = code
multiplayer_hq.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if multiplayer_is_server():
        var001 = 0
        var002 = 0
        var003 = 0
        var004 = 0
        for var005 in range(0, _g_number_of_flags):
            slot_no_006 = 146 + var005
            troop_slot_007 = troop_get_slot(trp.multiplayer_data,slot_no_006)
            scp_instance_008 = scene_prop_get_instance(_team_1_flag_scene_prop,var005)
            scp_instance_009 = scene_prop_get_instance(_team_2_flag_scene_prop,var005)
            if _g_base_flag_team_1 == scp_instance_008 or _g_base_flag_team_2 == scp_instance_009:
                var010 = 2
            else:
                var010 = 1
            #end
        #end
        if troop_slot_007 == 1:
            var001 += var010
            var003 += var010
        elif troop_slot_007 == 2:
            var002 += var010
            var003 += var010
        else:
            var004 += var010
        #end
    #end
    var011 = var003 + var004
    var012 = var001 - var002
    var013 = var012 * 2
    var014 = _g_number_of_initial_team_1_flags - _g_number_of_initial_team_2_flags
    var015 = 0
    max_players = get_max_players()
    for player_id_017 in range(0, max_players):
        if player_is_active(player_id_017):
            var015 += 1
            max_players = 0
        #end
    #end
    if var013 >= var014:
        var018 = var013 - var014
        var019 = var018 * 125
        var019 += 500
        var020 = 250000 / var019
        if var003 < var011:
            var020 *= var003
            var020 /= var011
            var019 *= var003
            var019 /= var011
        #end
        find_number_of_agents_constant()
        var019 *= reg0
        var019 /= 100
        var020 *= reg0
        var020 /= 100
        var019 *= _g_multiplayer_point_gained_from_flags
        var019 /= 100
        var020 *= _g_multiplayer_point_gained_from_flags
        var020 /= 100
        if var015 >= 1:
            _g_score_team_2 -= var019
            if var002 >= 1:
                _g_score_team_1 -= var020
            else:
                _g_score_team_2 -= var020
            #end
        #end
    else:
        var018 = var014 - var013
        var019 = var018 * 125
        var019 += 500
        var020 = 250000 / var019
        if var003 < var011:
            var020 *= var003
            var020 /= var011
            var019 *= var003
            var019 /= var011
        #end
        find_number_of_agents_constant()
        var019 *= reg0
        var019 /= 100
        var020 *= reg0
        var020 /= 100
        var019 *= _g_multiplayer_point_gained_from_flags
        var019 /= 100
        var020 *= _g_multiplayer_point_gained_from_flags
        var020 /= 100
        if var015 >= 1:
            if var001 >= 1:
                _g_score_team_2 -= var020
            else:
                _g_score_team_1 -= var020
            #end
            _g_score_team_1 -= var019
        #end
    #end
    team_score_021 = team_get_score(0)
    if True:
        var022 = _g_score_team_1 / 10000
        if var022 != team_score_021:
            max_players = get_max_players()
            team_set_score(0,var022)
            for player_id_017 in range(1, max_players):
                if player_is_active(player_id_017):
                    multiplayer_send_2_int_to_player(player_id_017,72,0,var022)
                #end
            #end
        #end
    #end
    team_score_024 = team_get_score(1)
    if True:
        var025 = _g_score_team_2 / 10000
        if var025 != team_score_024:
            max_players = get_max_players()
            team_set_score(1,var025)
            for player_id_017 in range(1, max_players):
                if player_is_active(player_id_017):
                    multiplayer_send_2_int_to_player(player_id_017,72,1,var025)
                #end
            #end
        #end
    #end
trigger10.codeBlock = code
multiplayer_hq.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        if True:
                            player_slot_007 = player_get_slot(player_id_002,24)
                            if player_slot_007 == 1:
                                var006 = 1
                                player_set_slot(player_id_002,24,0)
                            else:
                                if agent_id_005 < 0:
                                    var006 = 1
                                elif not agent_is_alive(agent_id_005):
                                    agent_time_since_removed_008 = agent_get_time_elapsed_since_removed(agent_id_005)
                                    if agent_time_since_removed_008 > _g_multiplayer_respawn_period:
                                        var006 = 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            troop_inv_slot_009 = troop_get_inventory_slot(troop_id_004,8)
            if troop_inv_slot_009 >= 0:
                var010 = 1
            else:
                var010 = 0
            #end
        #end
        multiplayer_find_spawn_point(team_no_003,0,var010)
        player_spawn_new_agent(player_id_002,reg0)
    #end
trigger11.codeBlock = code
multiplayer_hq.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger12.codeBlock = code
multiplayer_hq.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger13.codeBlock = code
multiplayer_hq.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger14.codeBlock = code
multiplayer_hq.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    if multiplayer_is_server():
        check_team_balance()
trigger15.codeBlock = code
multiplayer_hq.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger16.codeBlock = code
multiplayer_hq.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger17.codeBlock = code
multiplayer_hq.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger18.codeBlock = code
multiplayer_hq.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_team_score_display)
trigger19.codeBlock = code
multiplayer_hq.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger20.codeBlock = code
multiplayer_hq.add_trigger(trigger20)


multiplayer_cf = MissionTemplate("multiplayer_cf", description="You lead your men to battle.")
multiplayer_cf.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr63)
# spawn record 64
sr64 = SpawnRecord(entry_no=64, number_of_troops=1)
sr64.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr64.add_spawn_flag(SpawnFlag.TEAM_0)
sr64.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr64)
# spawn record 65
sr65 = SpawnRecord(entry_no=65, number_of_troops=1)
sr65.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr65.add_spawn_flag(SpawnFlag.TEAM_1)
sr65.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_cf.addSpawnRecord(sr65)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_cf.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_cf.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
trigger2.codeBlock = code
multiplayer_cf.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger3.codeBlock = code
multiplayer_cf.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    cur_scene_001_list1 = [
    scn.random_multi_steppe_large,
    scn.random_multi_steppe_medium,
    scn.random_multi_plain_large,
    scn.random_multi_plain_medium,
    ]
    if multiplayer_is_server():
        cur_scene_001 = store_current_scene()
        if cur_scene_001 in cur_scene_001_list1:
            pos0 = entry_point_get_position(0)
            entry_point_set_position(64,0)
            pos1 = entry_point_get_position(32)
            entry_point_set_position(65,1)
        #end
    #end
    _g_multiplayer_game_type = 4
    multiplayer_server_before_mission_start_common()
    _flag_1_at_ground_timer = 0
    _flag_2_at_ground_timer = 0
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger4.codeBlock = code
multiplayer_cf.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    determine_team_flags(0)
    determine_team_flags(1)
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    if multiplayer_is_server():
        _g_multiplayer_ready_for_spawning_agent = 1
        pos0 = entry_point_get_position(64)
        set_spawn_position(0)
        spawn_scene_prop(_team_1_flag_scene_prop,0)
        pos0 = entry_point_get_position(65)
        set_spawn_position(0)
        spawn_scene_prop(_team_2_flag_scene_prop,0)
    #end
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
trigger5.codeBlock = code
multiplayer_cf.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger6.codeBlock = code
multiplayer_cf.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if agent_is_human(var001):
        agent_attached_scene_prop_003 = agent_get_attached_scene_prop(var001)
        if True:
            if multiplayer_is_server() and agent_attached_scene_prop_003 >= 0:
                my_player = multiplayer_get_my_player()
                max_players = get_max_players()
                set_attached_scene_prop(var001,-1)
                agent_set_horse_speed_factor(var001,100)
                for player_id_006 in range(1, max_players):
                    if player_is_active(player_id_006) and my_player != player_id_006:
                        multiplayer_send_2_int_to_player(player_id_006,70,var001,-1)
                    #end
                #end
                pos0 = prop_instance_get_position(agent_attached_scene_prop_003)
                position_set_z_to_ground_level(0)
                prop_instance_set_position(agent_attached_scene_prop_003,0)
                agent_team_no_007 = agent_get_team(var001)
                if agent_team_no_007 == 0:
                    team_id_008 = 1
                else:
                    team_id_008 = 0
                #end
                team_set_slot(team_id_008,0,2)
                my_player = multiplayer_get_my_player()
                max_players = get_max_players()
                set_team_flag_situation(team_id_008,2)
                for player_id_006 in range(1, max_players):
                    if player_is_active(player_id_006) and my_player != player_id_006:
                        multiplayer_send_2_int_to_player(player_id_006,71,team_id_008,2)
                    #end
                #end
            #end
        #end
    #end
trigger7.codeBlock = code
multiplayer_cf.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for var001 in range(0, 2):
            if team_slot_eq(var001,0,2):
                team_id_002 = -1
                if var001 == 0:
                    _flag_1_at_ground_timer += 1
                    if _flag_1_at_ground_timer >= 60:
                        team_id_002 = 0
                    else:
                        _flag_2_at_ground_timer += 1
                        if _flag_2_at_ground_timer >= 60:
                            team_id_002 = 1
                        #end
                    #end
                #end
            #end
            if team_id_002 >= 0:
                if team_id_002 == 0:
                    _flag_1_at_ground_timer = 0
                elif team_id_002 == 1:
                    _flag_2_at_ground_timer = 0
                #end
                team_set_slot(team_id_002,0,0)
                set_team_flag_situation(team_id_002,0)
                my_player = multiplayer_get_my_player()
                max_players = get_max_players()
                for player_id_005 in range(1, max_players):
                    if player_is_active(player_id_005) and my_player != player_id_005:
                        multiplayer_send_2_int_to_player(player_id_005,71,team_id_002,0)
                    #end
                #end
                scp_instance_006 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
                scp_instance_007 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
                var008 = scp_instance_006
                var009 = 64
                var010 = scp_instance_007
                var011 = 65
                if team_id_002 == 0:
                    pos5 = entry_point_get_position(var009)
                    prop_instance_set_position(var008,5)
                else:
                    pos5 = entry_point_get_position(var011)
                    prop_instance_set_position(var010,5)
                #end
                var012 = team_id_002 * -1
                var012 -= 1
                show_multiplayer_message(5,var012)
                for player_id_005 in range(0, max_players):
                    if player_is_active(player_id_005) and my_player != player_id_005:
                        multiplayer_send_2_int_to_player(player_id_005,68,5,var012)
                    #end
                #end
            #end
        else:
            if var001 == 0:
                _flag_1_at_ground_timer = 0
            else:
                _flag_2_at_ground_timer = 0
            #end
        #end
    #end
trigger8.codeBlock = code
multiplayer_cf.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        if True:
                            player_slot_007 = player_get_slot(player_id_002,24)
                            if player_slot_007 == 1:
                                var006 = 1
                                player_set_slot(player_id_002,24,0)
                            else:
                                if agent_id_005 < 0:
                                    var006 = 1
                                elif not agent_is_alive(agent_id_005):
                                    agent_time_since_removed_008 = agent_get_time_elapsed_since_removed(agent_id_005)
                                    if agent_time_since_removed_008 > _g_multiplayer_respawn_period:
                                        var006 = 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            troop_inv_slot_009 = troop_get_inventory_slot(troop_id_004,8)
            if troop_inv_slot_009 >= 0:
                var010 = 1
            else:
                var010 = 0
            #end
        #end
        multiplayer_find_spawn_point(team_no_003,0,var010)
        player_spawn_new_agent(player_id_002,reg0)
    #end
trigger9.codeBlock = code
multiplayer_cf.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger10.codeBlock = code
multiplayer_cf.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger11.codeBlock = code
multiplayer_cf.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger12.codeBlock = code
multiplayer_cf.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    if multiplayer_is_server():
        scp_instance_001 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
        pos1 = prop_instance_get_position(scp_instance_001)
        scp_instance_002 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
        pos2 = prop_instance_get_position(scp_instance_002)
        my_player = multiplayer_get_my_player()
        max_players = get_max_players()
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent) and agent_is_alive(cur_agent) and not agent_is_non_player(cur_agent):
                agent_horse_006 = agent_get_horse(cur_agent)
                if agent_horse_006 == -1:
                    agent_attached_scene_prop_007 = agent_get_attached_scene_prop(cur_agent)
                    agent_team_no_008 = agent_get_team(cur_agent)
                    if agent_team_no_008 == 0:
                        team_id_009 = 1
                    else:
                        team_id_009 = 0
                    #end
                #end
            #end
        #end
        if agent_team_no_008 == 0:
            var010 = scp_instance_001
            var011 = 64
        else:
            var010 = scp_instance_002
            var011 = 65
        #end
        pos3 = agent_get_position(cur_agent)
        pos4 = prop_instance_get_position(var010)
        distance_012 = get_distance_between_positions(3,4)
        team_slot_013 = team_get_slot(agent_team_no_008,0)
        if team_slot_013 == 2 and distance_012 < 100:
            team_set_slot(agent_team_no_008,0,0)
            set_team_flag_situation(agent_team_no_008,0)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,71,agent_team_no_008,0)
                #end
            #end
            pos5 = entry_point_get_position(var011)
            prop_instance_set_position(var010,5)
            if multiplayer_is_server() and not agent_is_non_player(cur_agent):
                agent_player_id_015 = agent_get_player_id(cur_agent)
                score_016 = player_get_score(agent_player_id_015)
                score_016 += 1
                player_set_score(agent_player_id_015,score_016)
            #end
            show_multiplayer_message(5,cur_agent)
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,68,5,cur_agent)
                #end
            #end
        #end
        if agent_attached_scene_prop_007 != -1:
            if agent_team_no_008 == 0:
                var017 = scp_instance_002
                var018 = 65
            else:
                var017 = scp_instance_001
                var018 = 64
            #end
            if agent_attached_scene_prop_007 == var017 and team_slot_013 == 0 and distance_012 < 100:
                team_score_019 = team_get_score(agent_team_no_008)
                team_score_019 += 1
                team_set_score(agent_team_no_008,team_score_019)
                if multiplayer_is_server() and not agent_is_non_player(cur_agent):
                    agent_player_id_015 = agent_get_player_id(cur_agent)
                    score_016 = player_get_score(agent_player_id_015)
                    score_016 += _g_multiplayer_point_gained_from_capturing_flag
                    player_set_score(agent_player_id_015,score_016)
                #end
            #end
            team_set_score(agent_team_no_008,team_score_019)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,72,agent_team_no_008,team_score_019)
                #end
            #end
            agent_set_attached_scene_prop(cur_agent,-1)
            team_set_slot(team_id_009,0,0)
            set_attached_scene_prop(cur_agent,-1)
            agent_set_horse_speed_factor(cur_agent,100)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,70,cur_agent,-1)
                #end
            #end
            set_team_flag_situation(team_id_009,0)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,71,team_id_009,0)
                #end
            #end
            pos5 = entry_point_get_position(var018)
            prop_instance_set_position(var017,5)
            show_multiplayer_message(4,cur_agent)
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,68,4,cur_agent)
                #end
            #end
        #end
        if agent_attached_scene_prop_007 == -1:
            pos3 = agent_get_position(cur_agent)
            agent_team_no_008 = agent_get_team(cur_agent)
            if agent_team_no_008 == 0:
                distance_012 = get_distance_between_positions(2,3)
                var017 = scp_instance_002
            else:
                distance_012 = get_distance_between_positions(1,3)
                var017 = scp_instance_001
            #end
        #end
        if distance_012 <= 100 and not team_slot_eq(team_id_009,0,1):
            agent_set_attached_scene_prop(cur_agent,var017)
            agent_set_attached_scene_prop_x(cur_agent,20)
            agent_set_attached_scene_prop_z(cur_agent,50)
            if agent_team_no_008 == 0:
                _flag_1_at_ground_timer = 0
            elif agent_team_no_008 == 1:
                _flag_2_at_ground_timer = 0
            #end
            team_set_slot(team_id_009,0,1)
            set_attached_scene_prop(cur_agent,var017)
            agent_set_horse_speed_factor(cur_agent,75)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,70,cur_agent,var017)
                #end
            #end
            set_team_flag_situation(team_id_009,1)
            for player_id_014 in range(1, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,71,team_id_009,1)
                #end
            #end
            show_multiplayer_message(6,cur_agent)
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_2_int_to_player(player_id_014,68,6,cur_agent)
                #end
            #end
        #end
    #end
trigger13.codeBlock = code
multiplayer_cf.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    if multiplayer_is_server():
        check_team_balance()
trigger14.codeBlock = code
multiplayer_cf.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger15.codeBlock = code
multiplayer_cf.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger16.codeBlock = code
multiplayer_cf.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger17.codeBlock = code
multiplayer_cf.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_team_score_display)
    start_presentation(prsnt.multiplayer_flag_projection_display)
trigger18.codeBlock = code
multiplayer_cf.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger19.codeBlock = code
multiplayer_cf.add_trigger(trigger19)


multiplayer_sg = MissionTemplate("multiplayer_sg", description="You lead your men to battle.")
multiplayer_sg.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_sg.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code():
    if multiplayer_is_server():
        set_fixed_point_multiplier(100)
        for var001 in range(0, 2):
            if var001 == 0:
                var002 = spr.belfry_a
            else:
                var002 = spr.belfry_b
            #end
        #end
        scp_num_instances_003 = scene_prop_get_num_instances(var002)
        for var004 in range(0, scp_num_instances_003):
            scp_instance_005 = scene_prop_get_instance(var002,var004)
            pos1 = prop_instance_get_position(scp_instance_005)
            pos11 = prop_instance_get_starting_position(scp_instance_005)
            var006 = 11 + var004
            if var001 == 1:
                scp_num_instances_007 = scene_prop_get_num_instances(spr.belfry_a)
                var006 += scp_num_instances_007
            #end
            var006 *= 10
            var008 = var006 + 10
            for var009 in range(var006, var008):
                if entry_point_is_auto_generated(var009):
                    var008 = var009
                #end
            #end
            var010 = var008
            var008 -= 1
            reg0 = var008
            if not entry_point_is_auto_generated(var008):
                if True:
                    sq_distance_011 = get_sq_distance_between_positions(1,11)
                    if sq_distance_011 >= 4:
                        var012 = -1
                        var013 = -1
                        for var009 in range(var006, var010):
                            pos4 = entry_point_get_position(var009)
                            sq_distance_014 = get_sq_distance_between_positions(11,4)
                            if sq_distance_014 < sq_distance_011 and sq_distance_014 > var012:
                                var012 = sq_distance_014
                                var013 = var009
                            #end
                        #end
                    #end
                #end
                if var013 >= 0:
                    pos5 = entry_point_get_position(var013)
                else:
                    copy_position(5,11)
                #end
                distance_015 = get_distance_between_positions(1,5)
                if var001 == 0:
                    scp_instance_016 = scene_prop_get_instance(spr.belfry_platform_a,var004)
                    scp_instance_017 = scene_prop_get_instance(spr.belfry_platform_b,var004)
                else:
                    scp_instance_016 = scene_prop_get_instance(spr.belfry_b_platform_a,var004)
                #end
                var018 = var004 * 3
                if var002 == spr.belfry_b:
                    scp_num_instances_007 = scene_prop_get_num_instances(spr.belfry_a)
                    var019 = scp_num_instances_007 * 3
                    var018 += var019
                #end
                scp_instance_020 = scene_prop_get_instance(spr.belfry_wheel,var018)
                var018 += 1
                scp_instance_021 = scene_prop_get_instance(spr.belfry_wheel,var018)
                var018 += 1
                scp_instance_022 = scene_prop_get_instance(spr.belfry_wheel,var018)
                init_position(17)
                position_move_y(17,-225)
                position_transform_position_to_parent(18,1,17)
                position_move_y(17,-225)
                position_transform_position_to_parent(19,1,17)
                var023 = 0
                max_players = get_max_players()
                for player_id_025 in range(0, max_players):
                    if player_is_active(player_id_025):
                        agent_id_026 = player_get_agent_id(player_id_025)
                        if agent_id_026 >= 0:
                            agent_team_no_027 = agent_get_team(agent_id_026)
                            if agent_team_no_027 == 1:
                                agent_horse_028 = agent_get_horse(agent_id_026)
                                if agent_horse_028 == -1:
                                    pos2 = agent_get_position(agent_id_026)
                                    sq_distance_029 = get_sq_distance_between_positions_in_meters(18,2)
                                    if sq_distance_029 < 36 and not scene_prop_has_agent_on_it(scp_instance_005,agent_id_026) and not scene_prop_has_agent_on_it(scp_instance_016,agent_id_026) and var001 == 1 or not scene_prop_has_agent_on_it(scp_instance_017,agent_id_026) and not scene_prop_has_agent_on_it(scp_instance_020,agent_id_026) and not scene_prop_has_agent_on_it(scp_instance_021,agent_id_026) and not scene_prop_has_agent_on_it(scp_instance_022,agent_id_026) and not position_is_behind_position(2,19) and position_is_behind_position(2,1):
                                        var023 += 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
                val_min(var023,16)
                if True:
                    scene_prop_slot_030 = scene_prop_get_slot(scp_instance_005,3)
                    scene_prop_slot_031 = scene_prop_get_slot(scp_instance_005,4)
                    if scene_prop_slot_030 == var023 or scene_prop_slot_031 != var013:
                        if scene_prop_slot_031 == var013:
                            prop_instance_is_animating(var032,scp_instance_005)
                            if var032 == 1:
                                var033 = _g_last_number_of_agents_around_belfry * 100
                                var033 = store_sqrt(var033)
                                val_min(var033,300)
                                var034 = distance_015
                                var034 *= var033
                                var034 /= 100
                                var034 *= 4
                            #end
                        #end
                    #end
                    if var013 >= 0:
                        init_position(9)
                        position_set_y(9,-500)
                        position_set_x(9,-300)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_035 = position_get_distance_to_terrain(10)
                        init_position(9)
                        position_set_y(9,-500)
                        position_set_x(9,300)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_036 = position_get_distance_to_terrain(10)
                        var037 = distance_to_terrain_035 + distance_to_terrain_036
                        var037 *= 100
                        var038 = var037 / 24
                        init_position(20)
                        position_rotate_x_floating(20,var038)
                        position_transform_position_to_parent(23,5,20)
                        init_position(9)
                        position_set_x(9,-300)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_039 = position_get_distance_to_terrain(10)
                        init_position(9)
                        position_set_x(9,300)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_040 = position_get_distance_to_terrain(10)
                        distance_to_terrain_035 = distance_to_terrain_039 - distance_to_terrain_040
                        init_position(9)
                        position_set_x(9,-300)
                        position_set_y(9,-500)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_039 = position_get_distance_to_terrain(10)
                        init_position(9)
                        position_set_x(9,300)
                        position_set_y(9,-500)
                        position_transform_position_to_parent(10,5,9)
                        distance_to_terrain_040 = position_get_distance_to_terrain(10)
                        distance_to_terrain_036 = distance_to_terrain_039 - distance_to_terrain_040
                        var037 = distance_to_terrain_035 + distance_to_terrain_036
                        var037 *= 100
                        var038 = var037 / 24
                        var038 *= -1
                        init_position(20)
                        position_rotate_y_floating(20,var038)
                        position_transform_position_to_parent(22,23,20)
                    else:
                        copy_position(22,5)
                    #end
                    if var023 >= 1:
                        var033 = var023 * 100
                        var033 = store_sqrt(var033)
                        val_min(var033,300)
                        distance_015 *= 100
                        distance_015 *= 3
                        distance_015 /= var033
                        pos6 = prop_instance_get_position(scp_instance_016)
                        position_transform_position_to_local(7,1,6)
                        position_transform_position_to_parent(8,22,7)
                        prop_instance_animate_to_position(scp_instance_016,8,distance_015)
                        if var001 == 0:
                            pos6 = prop_instance_get_position(scp_instance_017)
                            position_transform_position_to_local(7,1,6)
                            position_transform_position_to_parent(8,22,7)
                            prop_instance_animate_to_position(scp_instance_017,8,distance_015)
                        #end
                        var041 = distance_015 * -25
                        _g_last_number_of_agents_around_belfry = var023
                        pos13 = prop_instance_get_position(scp_instance_020)
                        pos20 = prop_instance_get_position(scp_instance_005)
                        position_transform_position_to_local(7,20,13)
                        position_transform_position_to_parent(21,22,7)
                        prop_instance_rotate_to_position(scp_instance_020,21,distance_015,var041)
                        pos13 = prop_instance_get_position(scp_instance_021)
                        pos20 = prop_instance_get_position(scp_instance_005)
                        position_transform_position_to_local(7,20,13)
                        position_transform_position_to_parent(21,22,7)
                        prop_instance_rotate_to_position(scp_instance_021,21,distance_015,var041)
                        pos13 = prop_instance_get_position(scp_instance_022)
                        pos20 = prop_instance_get_position(scp_instance_005)
                        position_transform_position_to_local(7,20,13)
                        position_transform_position_to_parent(21,22,7)
                        prop_instance_rotate_to_position(scp_instance_022,21,distance_015,var041)
                        prop_instance_animate_to_position(scp_instance_005,22,distance_015)
                    else:
                        prop_instance_is_animating(var032,scp_instance_005)
                        if var032 == 1:
                            prop_instance_stop_animating(scp_instance_016)
                            if var001 == 0:
                                prop_instance_stop_animating(scp_instance_017)
                            #end
                        #end
                        prop_instance_stop_animating(scp_instance_020)
                        prop_instance_stop_animating(scp_instance_021)
                        prop_instance_stop_animating(scp_instance_022)
                        prop_instance_stop_animating(scp_instance_005)
                    #end
                    scene_prop_set_slot(scp_instance_005,3,var023)
                    scene_prop_set_slot(scp_instance_005,4,var013)
                #end
            elif sq_distance_011 <= 4 and scene_prop_slot_eq(scp_instance_005,5,0):
                scene_prop_set_slot(scp_instance_005,5,1)
                if var001 == 0:
                    scp_instance_016 = scene_prop_get_instance(spr.belfry_platform_a,var004)
                else:
                    scp_instance_016 = scene_prop_get_instance(spr.belfry_b_platform_a,var004)
                #end
                pos0 = prop_instance_get_starting_position(scp_instance_016)
                prop_instance_animate_to_position(scp_instance_016,0,400)
            #end
        #end
    #end
trigger0.codeBlock = code
multiplayer_sg.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger1.codeBlock = code
multiplayer_sg.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger2.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger2.codeBlock = code
multiplayer_sg.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(player_id_001):
    multiplayer_server_player_joined_common(player_id_001)
    if multiplayer_is_server() and player_is_active(player_id_001) or player_id_001 == 0:
        m_timer_a_002 = store_mission_timer_a()
        m_timer_a_002 -= _g_round_start_time
        if m_timer_a_002 < 25:
            var003 = 0
        elif m_timer_a_002 < 60:
            var003 = 1
        elif m_timer_a_002 < 105:
            var003 = 2
        elif m_timer_a_002 < 160:
            var003 = 3
        else:
            var003 = _g_multiplayer_number_of_respawn_count
        #end
        player_set_slot(player_id_001,39,var003)
        multiplayer_send_int_to_player(player_id_001,89,var003)
    #end
trigger3.codeBlock = code
multiplayer_sg.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 6
    multiplayer_server_before_mission_start_common()
    if multiplayer_is_server():
        for slot_no_001 in range(176, 186):
            troop_set_slot(trp.multiplayer_data,slot_no_001,-1)
        #end
        _g_my_spawn_count = 0
    else:
        _g_my_spawn_count = 0
    #end
    _g_waiting_for_confirmation_to_terminate = 0
    _g_round_ended = 0
    if multiplayer_is_server():
        _g_round_start_time = 0
    #end
    _my_team_at_start_of_round = -1
    _g_flag_is_not_ready = 0
    multiplayer_initialize_belfry_wheel_rotations()
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger4.codeBlock = code
multiplayer_sg.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    determine_team_flags(0)
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
    _g_number_of_flags = 0
    if multiplayer_is_server():
        _g_multiplayer_ready_for_spawning_agent = 1
        pos1 = entry_point_get_position(66)
        set_spawn_position(1)
        spawn_scene_prop(spr.headquarters_pole_code_only,0)
        position_move_z(1,900)
        set_spawn_position(1)
        spawn_scene_prop(_team_1_flag_scene_prop,0)
        slot_no_001 = 146 + _g_number_of_flags
        troop_set_slot(trp.multiplayer_data,slot_no_001,1)
    #end
    _g_number_of_flags += 1
    if multiplayer_is_server():
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_a)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_a,var003)
            scene_prop_set_slot(scp_instance_004,5,1)
        #end
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_b)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_b,var003)
            scene_prop_set_slot(scp_instance_004,5,1)
        #end
        move_belfries_to_their_first_entry_point(spr.belfry_a)
        move_belfries_to_their_first_entry_point(spr.belfry_b)
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_a)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_a,var003)
            scene_prop_set_slot(scp_instance_004,3,0)
            scene_prop_set_slot(scp_instance_004,4,0)
        #end
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_b)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_b,var003)
            scene_prop_set_slot(scp_instance_004,3,0)
            scene_prop_set_slot(scp_instance_004,4,0)
        #end
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_a)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_a,var003)
            scene_prop_set_slot(scp_instance_004,5,0)
        #end
        scp_num_instances_002 = scene_prop_get_num_instances(spr.belfry_b)
        for var003 in range(0, scp_num_instances_002):
            scp_instance_004 = scene_prop_get_instance(spr.belfry_b,var003)
            scene_prop_set_slot(scp_instance_004,5,0)
        #end
    #end
trigger5.codeBlock = code
multiplayer_sg.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_003 = player_get_agent_id(my_player)
            if agent_id_003 == var001 and agent_id_003 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_003)
            #end
        #end
    #end
    if not multiplayer_is_server():
        if _g_round_ended == 1:
            _g_round_ended = 0
            _g_my_spawn_count = 0
            initialize_all_scene_prop_slots()
            multiplayer_initialize_belfry_wheel_rotations()
            initialize_objects_clients()
        #end
    #end
    if True:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_003 = player_get_agent_id(my_player)
            if agent_id_003 == var001:
                _g_my_spawn_count += 1
                if _g_my_spawn_count >= _g_multiplayer_number_of_respawn_count and _g_multiplayer_number_of_respawn_count > 0:
                    my_player = multiplayer_get_my_player()
                    team_no_004 = player_get_team_no(my_player)
                    if team_no_004 == 0:
                        _g_my_spawn_count = 999
                    #end
                #end
            #end
        #end
    #end
trigger6.codeBlock = code
multiplayer_sg.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_004 = player_get_agent_id(my_player)
            if agent_id_004 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_004)
            #end
        #end
    #end
    if multiplayer_is_server() and agent_is_human(var001) and not agent_is_non_player(var001):
        agent_player_id_005 = agent_get_player_id(var001)
        player_set_slot(agent_player_id_005,0,0)
    #end
trigger7.codeBlock = code
multiplayer_sg.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger8.codeBlock = code
multiplayer_sg.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server() and _g_round_ended == 0:
        for var001 in range(0, _g_number_of_flags):
            slot_no_002 = 156 + var001
            troop_slot_003 = troop_get_slot(trp.multiplayer_data,slot_no_002)
            var004 = troop_slot_003 / 100
            var005 = store_mod(troop_slot_003,100)
            var006 = 0
            var007 = 0
            scp_instance_008 = scene_prop_get_instance(spr.headquarters_pole_code_only,var001)
            pos0 = prop_instance_get_position(scp_instance_008)
            max_players = get_max_players()
            for player_id_010 in range(0, max_players):
                if player_is_active(player_id_010):
                    agent_id_011 = player_get_agent_id(player_id_010)
                    if agent_id_011 >= 0 and agent_is_alive(agent_id_011):
                        agent_team_no_012 = agent_get_team(agent_id_011)
                        pos1 = agent_get_position(agent_id_011)
                        sq_distance_013 = get_sq_distance_between_positions(0,1)
                        sq_distance_014 = get_sq_distance_between_position_heights(0,1)
                        sq_distance_013 += sq_distance_014
                        if sq_distance_013 < 1600:
                            if agent_team_no_012 == 0:
                                var006 += 1
                            elif agent_team_no_012 == 1:
                                var007 += 1
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var004 == var006 or var005 != var007:
            slot_no_015 = 176 + var001
            troop_slot_016 = troop_get_slot(trp.multiplayer_data,slot_no_015)
            var017 = store_mod(troop_slot_016,100)
            var018 = troop_slot_016 / 100
            if var005 == 0 and var007 > 0 and var006 == 0:
                var019 = 2
                var020 = var019 * 100
                troop_set_slot(trp.multiplayer_data,slot_no_015,var020)
                if var018 == var019 or var017 >= 25:
                    var021 = var019 * 100
                    var021 += var001
                #end
            #end
            if True:
                troop_slot_003 = var006 * 100
                troop_slot_003 += var007
                troop_set_slot(trp.multiplayer_data,slot_no_002,troop_slot_003)
                max_players = get_max_players()
                set_num_agents_around_flag(var001,troop_slot_003)
                for player_id_010 in range(1, max_players):
                    if player_is_active(player_id_010):
                        multiplayer_send_2_int_to_player(player_id_010,73,var001,troop_slot_003)
                    #end
                #end
            #end
        #end
    #end
    for var001 in range(0, _g_number_of_flags):
        if _g_round_ended == 0 and _g_flag_is_not_ready == 0:
            scp_instance_008 = scene_prop_get_instance(spr.headquarters_pole_code_only,var001)
            pos0 = prop_instance_get_position(scp_instance_008)
            if True:
                scp_instance_022 = scene_prop_get_instance(_team_1_flag_scene_prop,var001)
                pos1 = prop_instance_get_position(scp_instance_022)
                if True:
                    sq_distance_013 = get_sq_distance_between_positions(0,1)
                    if sq_distance_013 < 400:
                        prop_instance_is_animating(var023,scp_instance_022)
                        if var023 == 1:
                            _g_winner_team = 1
                            prop_instance_stop_animating(scp_instance_022)
                            max_players = get_max_players()
                            draw_this_round(_g_winner_team)
                            for player_id_010 in range(1, max_players):
                                if player_is_active(player_id_010):
                                    multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
                                #end
                            #end
                        #end
                    #end
                #end
                _g_flag_is_not_ready = 1
            #end
        #end
    #end
trigger9.codeBlock = code
multiplayer_sg.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    var001 = _g_multiplayer_num_bots_team_1
    var002 = _g_multiplayer_num_bots_team_2
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    if var001 == 0 or var002 == 0:
        m_timer_a_006 = store_mission_timer_a()
        m_timer_a_006 -= _g_round_start_time
        if m_timer_a_006 <= 2:
            _g_round_start_time = store_mission_timer_a()
        #end
    #end
trigger10.codeBlock = code
multiplayer_sg.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_flag_is_not_ready == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 >= _g_multiplayer_round_max_seconds:
            var002 = m_timer_a_001 - _g_round_start_time
trigger11.conditionBlock = condition

def code():
    m_timer_a_001 = 0
    slot_no_002 = 156 + m_timer_a_001
    troop_slot_003 = troop_get_slot(trp.multiplayer_data,slot_no_002)
    var004 = store_mod(troop_slot_003,100)
    if var004 == 0:
        _g_round_finish_time = store_mission_timer_a()
        _g_round_ended = 1
        _g_flag_is_not_ready = 1
        _g_winner_team = 0
        max_players = get_max_players()
        draw_this_round(_g_winner_team)
        for player_id_006 in range(1, max_players):
            if player_is_active(player_id_006):
                multiplayer_send_int_to_player(player_id_006,69,_g_winner_team)
            #end
        #end
    #end
trigger11.codeBlock = code
multiplayer_sg.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for var001 in range(0, _g_number_of_flags):
            slot_no_002 = 176 + var001
            troop_slot_003 = troop_get_slot(trp.multiplayer_data,slot_no_002)
            var004 = store_mod(troop_slot_003,100)
            if troop_slot_003 >= 100 and var004 < 25:
                troop_slot_003 += 1
                troop_set_slot(trp.multiplayer_data,slot_no_002,troop_slot_003)
            #end
        #end
    #end
trigger12.codeBlock = code
multiplayer_sg.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger13.conditionBlock = condition

def code():
    var001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = var001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
            #end
        #end
    #end
    if var007 > 0:
        if _g_team_balance_next_round == 0:
            _g_team_balance_next_round = 1
            show_multiplayer_message(3,0)
            max_players = get_max_players()
            for player_id_009 in range(1, max_players):
                if player_is_active(player_id_009):
                    multiplayer_send_int_to_player(player_id_009,68,3)
                #end
            #end
            warn_player_about_auto_team_balance()
        #end
    #end
trigger13.codeBlock = code
multiplayer_sg.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(1.000000, 0.000000, 3.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 1:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= _g_multiplayer_respawn_period:
            m_timer_a_001 -= _g_round_finish_time
trigger14.conditionBlock = condition

def code():
    team_no_005_list1 = [
    1,
    0,
    ]
    m_timer_a_001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                m_timer_a_001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = m_timer_a_001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
                var009 = 1
                team_no_010 = 0
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
                var009 = 0
                team_no_010 = 1
            #end
        #end
    #end
    if var007 > 0:
        if True:
            for var011 in range(0, var007):
                var012 = 0
                player_id_013 = -1
                max_players = get_max_players()
                for player_id_014 in range(0, max_players):
                    if player_is_active(player_id_014):
                        team_no_005 = player_get_team_no(player_id_014)
                        if team_no_005 == var009:
                            player_slot_015 = player_get_slot(player_id_014,21)
                            if player_slot_015 > var012:
                                var012 = player_slot_015
                                player_id_013 = player_id_014
                            #end
                        #end
                    #end
                #end
                if player_id_013 >= 0:
                    if True:
                        agent_id_016 = player_get_agent_id(player_id_013)
                        if agent_id_016 >= 0 and agent_is_alive(agent_id_016):
                            kill_count_017 = player_get_kill_count(player_id_013)
                            kill_count_017 += 1
                            player_set_kill_count(player_id_013,kill_count_017)
                            death_count_018 = player_get_death_count(player_id_013)
                            death_count_018 -= 1
                            player_set_death_count(player_id_013,death_count_018)
                            score_019 = player_get_score(player_id_013)
                            score_019 += 1
                            player_set_score(player_id_013,score_019)
                            for player_id_014 in range(1, max_players):
                                if player_is_active(player_id_014):
                                    multiplayer_send_4_int_to_player(player_id_014,86,player_id_013,score_019,kill_count_017,death_count_018)
                                #end
                            #end
                        #end
                        player_slot_020 = player_get_value_of_original_items(player_id_013)
                        gold_021 = player_get_gold(player_id_013)
                        gold_021 += player_slot_020
                        player_set_gold(player_id_013,gold_021,15000)
                    #end
                    player_set_troop_id(player_id_013,-1)
                    player_set_team_no(player_id_013,team_no_010)
                    multiplayer_send_message_to_player(player_id_013,79)
                #end
            #end
            show_multiplayer_message(2,0)
            my_player = multiplayer_get_my_player()
            max_players = get_max_players()
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_int_to_player(player_id_014,68,2)
                #end
            #end
            _g_team_balance_next_round = 0
        #end
    #end
    _g_team_balance_next_round = 0
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            player_set_slot(player_id_014,0,0)
            player_set_slot(player_id_014,25,0)
            agent_id_023 = player_get_agent_id(player_id_014)
            if agent_id_023 >= 0 and agent_is_alive(agent_id_023):
                player_save_picked_up_items_for_next_spawn(player_id_014)
                player_slot_020 = player_get_value_of_original_items(player_id_014)
                player_set_slot(player_id_014,1,player_slot_020)
            #end
        #end
    #end
    var024 = 500
    var024 *= _g_multiplayer_round_earnings_multiplier
    var024 /= 100
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            gold_021 = player_get_gold(player_id_014)
            team_no_005 = player_get_team_no(player_id_014)
            if team_no_005 in team_no_005_list1:
                gold_021 += var024
            #end
        #end
        if True:
            player_slot_020 = player_get_slot(player_id_014,1)
            var025 = gold_021 + player_slot_020
            var026 = _g_multiplayer_initial_gold_multiplier * 10
            if var025 < var026:
                var027 = var026 - var025
                gold_021 += var027
            #end
        #end
        player_set_gold(player_id_014,gold_021,15000)
    #end
    _my_team_at_start_of_round = -1
    multiplayer_clear_scene()
    _g_my_spawn_count = 0
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            player_set_slot(player_id_014,39,0)
        #end
    #end
    initialize_objects()
    multiplayer_initialize_belfry_wheel_rotations()
    multiplayer_close_gate_if_it_is_open()
    multiplayer_move_moveable_objects_initial_positions()
    move_belfries_to_their_first_entry_point(spr.belfry_a)
    move_belfries_to_their_first_entry_point(spr.belfry_b)
    scp_num_instances_028 = scene_prop_get_num_instances(spr.belfry_a)
    for var029 in range(0, scp_num_instances_028):
        scp_instance_030 = scene_prop_get_instance(spr.belfry_a,var029)
        scene_prop_set_slot(scp_instance_030,3,0)
        scene_prop_set_slot(scp_instance_030,4,0)
    #end
    scp_num_instances_028 = scene_prop_get_num_instances(spr.belfry_a)
    for var029 in range(0, scp_num_instances_028):
        scp_instance_030 = scene_prop_get_instance(spr.belfry_a,var029)
        scene_prop_set_slot(scp_instance_030,5,0)
    #end
    scp_num_instances_028 = scene_prop_get_num_instances(spr.belfry_b)
    for var029 in range(0, scp_num_instances_028):
        scp_instance_030 = scene_prop_get_instance(spr.belfry_b,var029)
        scene_prop_set_slot(scp_instance_030,3,0)
        scene_prop_set_slot(scp_instance_030,4,0)
    #end
    scp_num_instances_028 = scene_prop_get_num_instances(spr.belfry_b)
    for var029 in range(0, scp_num_instances_028):
        scp_instance_030 = scene_prop_get_instance(spr.belfry_b,var029)
        scene_prop_set_slot(scp_instance_030,5,0)
    #end
    for var031 in range(0, _g_number_of_flags):
        scp_instance_032 = scene_prop_get_instance(spr.headquarters_pole_code_only,var031)
        pos1 = prop_instance_get_position(scp_instance_032)
        position_move_z(1,900)
        scp_instance_033 = scene_prop_get_instance(_team_1_flag_scene_prop,var031)
        prop_instance_stop_animating(scp_instance_033)
        prop_instance_set_position(scp_instance_033,1)
    #end
    _g_round_ended = 0
    _g_round_start_time = store_mission_timer_a()
    initialize_all_scene_prop_slots()
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            multiplayer_send_int_to_player(player_id_014,78,-9999)
        #end
    #end
    _g_flag_is_not_ready = 0
trigger14.codeBlock = code
multiplayer_sg.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002) and player_slot_eq(player_id_002,0,0):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        var007 = 0
                        var008 = 0
                        if True:
                            var009 = 0
                            max_players = get_max_players()
                            for player_id_010 in range(0, max_players):
                                if player_is_active(player_id_010):
                                    team_no_011 = player_get_team_no(player_id_010)
                                    if team_no_011 == 0:
                                        var007 += 1
                                    elif team_no_011 == 1:
                                        var008 += 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
                var009 += 1
            #end
            m_timer_a_012 = store_mission_timer_a()
            m_timer_a_012 -= _g_round_start_time
            if _g_round_ended == 0:
                if agent_id_005 < 0:
                    if team_no_003 == 0:
                        player_slot_013 = player_get_slot(player_id_002,28)
                        m_timer_a_014 = store_mission_timer_a()
                        agent_time_since_removed_015 = m_timer_a_014 - player_slot_013
                        var016 = _g_multiplayer_respawn_period
                        var016 += 27
                        if agent_time_since_removed_015 < var016:
                            m_timer_a_012 = m_timer_a_014 - _g_round_start_time
                            if m_timer_a_012 >= 30 and var009 > 2:
                                var017 = var007 * var008
                                if var017 != 0:
                                    var006 = 0
                                else:
                                    var006 = 1
                                #end
                            #end
                        #end
                    #end
                #end
            else:
                agent_time_since_removed_015 = agent_get_time_elapsed_since_removed(agent_id_005)
                var016 = _g_multiplayer_respawn_period
                if team_no_003 == 0:
                    var016 += 27
                #end
                if agent_time_since_removed_015 > var016 or player_slot_eq(player_id_002,25,0):
                    var006 = 1
                #end
            #end
        #end
        player_slot_018 = player_get_slot(player_id_002,39)
        if _g_multiplayer_number_of_respawn_count > 0:
            if var006 == 1 and team_no_003 == 0 and player_slot_018 >= _g_multiplayer_number_of_respawn_count:
                var006 = 0
            elif var006 == 1 and team_no_003 == 1 and player_slot_018 >= 999:
                var006 = 0
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            player_slot_018 = player_get_slot(player_id_002,39)
            player_slot_018 += 1
            player_set_slot(player_id_002,39,player_slot_018)
            if player_slot_018 >= _g_multiplayer_number_of_respawn_count and _g_multiplayer_number_of_respawn_count > 0 and team_no_003 == 0:
                player_slot_018 = 999
                player_set_slot(player_id_002,39,player_slot_018)
            #end
        #end
        var019 = 0
        item_id_020 = player_get_item_id(player_id_002,8)
        if is_between(item_id_020,itm.sumpter_horse,itm.arrows) or item_id_020 == itm.warhorse_sarranid or item_id_020 == itm.warhorse_steppe:
            var019 = 1
        #end
        if m_timer_a_012 < 20:
            if team_no_003 == 0:
                multiplayer_find_spawn_point(team_no_003,1,var019)
                entry_point_021 = reg0
            elif team_no_003 == 1:
                entry_point_021 = 32
            #end
        else:
            multiplayer_find_spawn_point(team_no_003,0,var019)
            entry_point_021 = reg0
        #end
        player_spawn_new_agent(player_id_002,entry_point_021)
        player_set_slot(player_id_002,0,1)
        player_set_slot(player_id_002,25,1)
    #end
trigger15.codeBlock = code
multiplayer_sg.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger16.codeBlock = code
multiplayer_sg.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger17.codeBlock = code
multiplayer_sg.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger18.codeBlock = code
multiplayer_sg.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger19.codeBlock = code
multiplayer_sg.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger20.codeBlock = code
multiplayer_sg.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger21.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger21.codeBlock = code
multiplayer_sg.add_trigger(trigger21)
# trigger 22
trigger22 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger22.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_round_time_counter)
    start_presentation(prsnt.multiplayer_team_score_display)
trigger22.codeBlock = code
multiplayer_sg.add_trigger(trigger22)
# trigger 23
trigger23 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger23.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger23.codeBlock = code
multiplayer_sg.add_trigger(trigger23)


multiplayer_bt = MissionTemplate("multiplayer_bt", description="You lead your men to battle.")
multiplayer_bt.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_1)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_1)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_1)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_1)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_1)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_1)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_1)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_1)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_0)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_0)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_0)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_0)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_0)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_0)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_0)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_0)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_bt.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_bt.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_bt.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger2.codeBlock = code
multiplayer_bt.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 2
    multiplayer_server_before_mission_start_common()
    _g_waiting_for_confirmation_to_terminate = 0
    _g_round_ended = 0
    _g_battle_death_mode_started = 0
    _g_reduced_waiting_seconds = 0
    if multiplayer_is_server():
        _server_mission_timer_while_player_joined = 0
        _g_round_start_time = 0
    #end
    _my_team_at_start_of_round = -1
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger3.codeBlock = code
multiplayer_bt.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    determine_team_flags(0)
    determine_team_flags(1)
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    if multiplayer_is_server():
        _g_multiplayer_ready_for_spawning_agent = 1
        pos0 = entry_point_get_position(67)
        position_set_z_to_ground_level(0)
        position_move_z(0,-2000)
        position_move_x(0,100)
        set_spawn_position(0)
        spawn_scene_prop(spr.headquarters_pole_code_only,0)
        position_move_x(0,-200)
        set_spawn_position(0)
        spawn_scene_prop(spr.headquarters_pole_code_only,0)
        scp_instance_001 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
        pos0 = prop_instance_get_position(scp_instance_001)
        spawn_scene_prop(_team_1_flag_scene_prop,0)
        position_move_z(0,100)
        prop_instance_set_position(reg0,0)
        scp_instance_002 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
        pos0 = prop_instance_get_position(scp_instance_002)
        spawn_scene_prop(_team_2_flag_scene_prop,0)
        position_move_z(0,100)
        prop_instance_set_position(reg0,0)
        _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1
        _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2
    #end
    initialize_all_scene_prop_slots()
    multiplayer_initialize_belfry_wheel_rotations()
    multiplayer_move_moveable_objects_initial_positions()
trigger4.codeBlock = code
multiplayer_bt.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code(agent_id_001):
    multiplayer_server_on_agent_spawn_common(agent_id_001)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_003 = player_get_agent_id(my_player)
            if agent_id_003 == agent_id_001 and agent_id_003 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_003)
            #end
        #end
    #end
    agent_set_slot(agent_id_001,26,-1)
    if multiplayer_is_server() and not agent_is_human(agent_id_001):
        agent_rider_004 = agent_get_rider(agent_id_001)
        if agent_is_active(agent_rider_004) and not agent_is_non_player(agent_rider_004):
            agent_player_id_005 = agent_get_player_id(agent_rider_004)
            if not player_item_slot_is_picked_up(agent_player_id_005,8):
                agent_set_slot(agent_rider_004,26,agent_id_001)
            #end
        #end
    #end
    calculate_new_death_waiting_time_at_death_mod()
    if not multiplayer_is_server():
        if _g_round_ended == 1:
            _g_round_ended = 0
            initialize_all_scene_prop_slots()
            multiplayer_initialize_belfry_wheel_rotations()
            initialize_objects_clients()
            if _g_team_balance_next_round == 1:
                _g_team_balance_next_round = 0
            #end
        #end
    #end
trigger5.codeBlock = code
multiplayer_bt.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_004 = player_get_agent_id(my_player)
            if agent_id_004 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_004)
            #end
        #end
    #end
    if agent_is_human(var001):
        var005 = 0
        var006 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent):
                if agent_is_alive(cur_agent):
                    agent_team_no_008 = agent_get_team(cur_agent)
                    if agent_team_no_008 == 0:
                        var005 += 1
                    elif agent_team_no_008 == 1:
                        var006 += 1
                    #end
                #end
            #end
        #end
        if _g_round_ended == 0:
            if var005 == 0 or var006 == 0:
                _g_winner_team = -1
                reg0 = _g_multiplayer_respawn_period
                if var005 == 0:
                    if var006 != 0:
                        team_score_009 = team_get_score(1)
                        team_score_009 += 1
                        team_set_score(1,team_score_009)
                        _g_winner_team = 1
                    #end
                    show_multiplayer_message(12,_g_winner_team)
                    check_achievement_last_man_standing(_g_winner_team)
                else:
                    if var005 != 0:
                        team_score_010 = team_get_score(0)
                        team_score_010 += 1
                        team_set_score(0,team_score_010)
                        _g_winner_team = 0
                    #end
                    show_multiplayer_message(12,_g_winner_team)
                    check_achievement_last_man_standing(_g_winner_team)
                #end
                _g_round_finish_time = store_mission_timer_a()
                _g_round_ended = 1
            #end
        #end
    #end
    if multiplayer_is_server() and agent_is_human(var001) and not agent_is_non_player(var001) and var001 >= 0:
        agent_player_id_011 = agent_get_player_id(var001)
        if agent_player_id_011 >= 0:
            set_fixed_point_multiplier(100)
            agent_player_id_011 = agent_get_player_id(var001)
            pos0 = agent_get_position(var001)
            pos_x_012 = position_get_x(0)
            pos_y_013 = position_get_y(0)
            pos_z_014 = position_get_z(0)
            player_set_slot(agent_player_id_011,29,pos_x_012)
            player_set_slot(agent_player_id_011,30,pos_y_013)
            player_set_slot(agent_player_id_011,31,pos_z_014)
        #end
    #end
trigger6.codeBlock = code
multiplayer_bt.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger7.codeBlock = code
multiplayer_bt.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        var002 = m_timer_a_001 - _g_round_start_time
        if var002 >= _g_multiplayer_round_max_seconds:
            var003 = 0
            if _g_battle_death_mode_started == 2:
                scp_instance_004 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
                scp_instance_005 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
                scp_instance_006 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
                scp_instance_007 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
                pos1 = prop_instance_get_position(scp_instance_004)
                pos2 = prop_instance_get_position(scp_instance_005)
                pos3 = prop_instance_get_position(scp_instance_006)
                pos4 = prop_instance_get_position(scp_instance_007)
                distance_008 = get_distance_between_positions(1,3)
                distance_009 = get_distance_between_positions(2,4)
                var010 = distance_008 + 50
                var011 = distance_009 + 50
                if distance_008 <= var011:
                    prop_instance_is_animating(var012,scp_instance_006)
                    if var012 == 1:
                        prop_instance_get_animation_target_position(pos5,scp_instance_006)
                        pos_z_013 = position_get_z(5)
                        pos_z_014 = position_get_z(3)
                        if pos_z_013 >= pos_z_014:
                            var003 = 1
                        #end
                    #end
                #end
            #end
        #end
        if distance_009 <= var010:
            prop_instance_is_animating(var012,scp_instance_007)
            if var012 == 1:
                prop_instance_get_animation_target_position(pos5,scp_instance_007)
                pos_z_013 = position_get_z(5)
                pos_z_015 = position_get_z(4)
                if pos_z_013 >= pos_z_015:
                    var003 = 1
                #end
            #end
        #end
        if var003 == 0:
            pass
        #end
    #end
trigger8.conditionBlock = condition

def code():
    _g_round_finish_time = store_mission_timer_a()
    _g_round_ended = 1
    _g_winner_team = -1
    if _g_battle_death_mode_started == 2:
        m_timer_a_001 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
        scp_instance_002 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
        scp_instance_003 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
        scp_instance_004 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
        pos1 = prop_instance_get_position(m_timer_a_001)
        pos2 = prop_instance_get_position(scp_instance_002)
        pos3 = prop_instance_get_position(scp_instance_003)
        pos4 = prop_instance_get_position(scp_instance_004)
        scp_instance_005 = get_distance_between_positions(1,3)
        scp_instance_006 = get_distance_between_positions(2,4)
        if scp_instance_005 >= scp_instance_006:
            scp_instance_007 = scp_instance_005 - scp_instance_006
            if scp_instance_007 >= 50:
                _g_winner_team = 0
            else:
                scp_instance_007 = scp_instance_006 - scp_instance_005
                if scp_instance_007 >= 50:
                    _g_winner_team = 1
                #end
            #end
        #end
    #end
    distance_008 = multiplayer_get_my_player()
    draw_this_round(_g_winner_team)
    distance_009 = get_max_players()
    for player_id_010 in range(1, distance_009):
        if player_is_active(player_id_010) and player_id_010 != distance_008:
            multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
        #end
    #end
trigger8.codeBlock = code
multiplayer_bt.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger9.conditionBlock = condition

def code():
    var001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = var001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
            #end
        #end
    #end
    if var007 > 0:
        if _g_team_balance_next_round == 0:
            _g_team_balance_next_round = 1
            show_multiplayer_message(3,0)
            max_players = get_max_players()
            for player_id_009 in range(1, max_players):
                if player_is_active(player_id_009):
                    multiplayer_send_int_to_player(player_id_009,68,3)
                #end
            #end
            warn_player_about_auto_team_balance()
        #end
    #end
trigger9.codeBlock = code
multiplayer_bt.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 0:
        m_timer_a_001 = store_mission_timer_a()
        m_timer_a_001 -= _g_round_start_time
        if m_timer_a_001 >= _g_multiplayer_round_max_seconds_div_2:
            _g_multiplayer_round_max_seconds_div_2 = _g_multiplayer_round_max_seconds / 2
trigger10.conditionBlock = condition

def code():
    calculate_new_death_waiting_time_at_death_mod()
    _g_battle_death_mode_started = 1
trigger10.codeBlock = code
multiplayer_bt.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 1:
        m_timer_a_001 = store_mission_timer_a()
        m_timer_a_001 -= _g_death_mode_part_1_start_time
        var002 = _g_battle_waiting_seconds + _g_reduced_waiting_seconds
        if m_timer_a_001 >= var002:
            m_timer_a_003 = store_mission_timer_a()
            var004 = m_timer_a_003 - _g_round_start_time
            if var004 < var005:
                var005 = _g_multiplayer_round_max_seconds - 15
trigger11.conditionBlock = condition

def code():
    _g_battle_death_mode_started = 2
    start_death_mode()
    m_timer_a_001 = get_max_players()
    for player_id_002 in range(1, m_timer_a_001):
        if player_is_active(player_id_002):
            multiplayer_send_int_to_player(player_id_002,80,0)
        #end
    #end
    m_timer_a_003 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
    scp_instance_004 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
    scp_instance_005 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
    scp_instance_006 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
    _g_random_entry_point = store_random_in_range(0,3)
    _g_random_entry_point += 67
    pos0 = entry_point_get_position(_g_random_entry_point)
    position_set_z_to_ground_level(0)
    position_move_x(0,100)
    prop_instance_set_position(m_timer_a_003,0)
    position_move_x(0,-200)
    prop_instance_set_position(scp_instance_004,0)
    pos0 = prop_instance_get_position(m_timer_a_003)
    position_move_z(0,100)
    prop_instance_set_position(scp_instance_005,0)
    pos0 = prop_instance_get_position(scp_instance_004)
    position_move_z(0,100)
    prop_instance_set_position(scp_instance_006,0)
    start_presentation(prsnt.multiplayer_flag_projection_display_bt)
trigger11.codeBlock = code
multiplayer_bt.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 1:
        m_timer_a_001 = store_mission_timer_a()
        m_timer_a_001 -= _g_death_mode_part_1_start_time
        var002 = _g_battle_waiting_seconds + _g_reduced_waiting_seconds
        if m_timer_a_001 >= var002:
            var002 -= 20
trigger12.conditionBlock = condition

def code():
    m_timer_a_001 = 0
    for cur_agent in __all_agents__:
        if m_timer_a_001 == 0 and agent_is_human(cur_agent):
            for cur_agent in __all_agents__:
                if agent_is_human(cur_agent) and False:
                    agent_team_no_004 = agent_get_team(cur_agent)
                    agent_team_no_005 = agent_get_team(cur_agent)
                    if agent_team_no_004 != agent_team_no_005:
                        pos1 = agent_get_position(cur_agent)
                        pos2 = agent_get_position(cur_agent)
                        sq_distance_006 = get_sq_distance_between_positions_in_meters(1,2)
                        if sq_distance_006 <= 49:
                            m_timer_a_001 = 1
                        #end
                    #end
                #end
            #end
        #end
    #end
    if m_timer_a_001 == 1:
        _g_reduced_waiting_seconds += 3
    #end
trigger12.codeBlock = code
multiplayer_bt.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 1:
        m_timer_a_001 = store_mission_timer_a()
        var002 = m_timer_a_001 - _g_round_start_time
        var003 = _g_multiplayer_round_max_seconds - 66
        if var002 >= var003:
            m_timer_a_001 = store_mission_timer_a()
            var002 = m_timer_a_001 - _g_round_start_time
            if var002 <= var004:
                var004 = _g_multiplayer_round_max_seconds - 24
trigger13.conditionBlock = condition

def code():
    _g_reduced_waiting_seconds += 1
trigger13.codeBlock = code
multiplayer_bt.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 2:
        pass
trigger14.conditionBlock = condition

def code():
    var008_list2 = [
    -1,
    0,
    ]
    var007_list2 = [
    -1,
    0,
    ]
    var008_list1 = [
    1,
    0,
    ]
    var007_list1 = [
    1,
    0,
    ]
    set_fixed_point_multiplier(100)
    scp_instance_001 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
    scp_instance_002 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
    scp_instance_003 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
    scp_instance_004 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
    pos1 = prop_instance_get_position(scp_instance_001)
    pos2 = prop_instance_get_position(scp_instance_002)
    pos3 = prop_instance_get_position(scp_instance_003)
    pos4 = prop_instance_get_position(scp_instance_004)
    copy_position(7,1)
    position_move_z(7,100)
    copy_position(8,2)
    position_move_z(8,100)
    distance_005 = get_distance_between_positions(1,3)
    distance_006 = get_distance_between_positions(2,4)
    var007 = 0
    var008 = 0
    max_players = get_max_players()
    for player_id_010 in range(0, max_players):
        if player_is_active(player_id_010):
            agent_id_011 = player_get_agent_id(player_id_010)
            if agent_id_011 >= 0 and agent_is_human(agent_id_011) and agent_is_alive(agent_id_011):
                agent_team_no_012 = agent_get_team(agent_id_011)
                pos0 = agent_get_position(agent_id_011)
                agent_horse_013 = agent_get_horse(agent_id_011)
                if agent_horse_013 == -1:
                    if agent_team_no_012 == 0:
                        if True:
                            sq_distance_014 = get_sq_distance_between_positions(0,1)
                            if sq_distance_014 < 1600:
                                if var007 in var007_list1:
                                    var007 = 1
                                else:
                                    var007 = -2
                                #end
                            #end
                        #end
                    #end
                #end
            #end
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,2)
                if sq_distance_014 < 1600:
                    if var008 == 0:
                        var008 = -1
                    elif var008 == 1:
                        var008 = -2
                    #end
                #end
            #end
        elif agent_team_no_012 == 1:
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,2)
                if sq_distance_014 < 1600:
                    if var008 in var008_list1:
                        var008 = 1
                    else:
                        var008 = -2
                    #end
                #end
            #end
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,1)
                if sq_distance_014 < 1600:
                    if var007 == 0:
                        var007 = -1
                    elif var007 == 1:
                        var007 = -2
                    #end
                #end
            #end
        #end
    #end
    if distance_005 >= 800:
        _g_winner_team = 0
        max_players = get_max_players()
        draw_this_round(_g_winner_team)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
            #end
        #end
        team_score_015 = team_get_score(0)
        team_set_score(0,team_score_015)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_2_int_to_player(player_id_010,72,0,team_score_015)
            #end
        #end
        _g_round_finish_time = store_mission_timer_a()
        _g_round_ended = 1
    elif distance_006 >= 800:
        _g_winner_team = 1
        max_players = get_max_players()
        draw_this_round(_g_winner_team)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
            #end
        #end
        team_score_016 = team_get_score(1)
        team_set_score(1,team_score_016)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_2_int_to_player(player_id_010,72,1,team_score_016)
            #end
        #end
        show_multiplayer_message(12,0)
        check_achievement_last_man_standing(_g_winner_team)
        _g_round_finish_time = store_mission_timer_a()
        _g_round_ended = 1
    #end
    if _g_round_ended == 0:
        pos_z_017 = position_get_z(3)
        prop_instance_is_animating(var018,scp_instance_003)
        if var007 == -2 and var018 == 1:
            prop_instance_stop_animating(scp_instance_003)
        elif var007 in var007_list2:
            prop_instance_get_animation_target_position(pos9,scp_instance_003)
            pos_z_019 = position_get_z(9)
            if var018 == 0 or pos_z_019 > pos_z_017:
                distance_020 = get_distance_between_positions(3,7)
                if distance_020 > 0:
                    distance_020 *= 16
                    prop_instance_animate_to_position(scp_instance_003,7,distance_020)
                elif var007 == 1:
                    prop_instance_get_animation_target_position(pos9,scp_instance_003)
                    pos_z_019 = position_get_z(9)
                    if var018 == 0 or pos_z_019 < pos_z_017:
                        copy_position(5,1)
                        position_move_z(5,800)
                        distance_020 = get_distance_between_positions(3,5)
                        if distance_020 > 0:
                            distance_020 *= 8
                            prop_instance_animate_to_position(scp_instance_003,5,distance_020)
                        #end
                    #end
                #end
            #end
        #end
        pos_z_021 = position_get_z(4)
        prop_instance_is_animating(var018,scp_instance_004)
        if var008 == -2 and var018 == 1:
            prop_instance_stop_animating(scp_instance_004)
        elif var008 in var008_list2:
            prop_instance_get_animation_target_position(pos9,scp_instance_004)
            pos_z_022 = position_get_z(9)
            if var018 == 0 or pos_z_022 > pos_z_021:
                distance_023 = get_distance_between_positions(4,8)
                if distance_023 > 0:
                    distance_023 *= 16
                    prop_instance_animate_to_position(scp_instance_004,8,distance_023)
                elif var008 == 1:
                    prop_instance_get_animation_target_position(pos9,scp_instance_004)
                    pos_z_022 = position_get_z(9)
                    if var018 == 0 or pos_z_022 < pos_z_021:
                        copy_position(6,2)
                        position_move_z(6,800)
                        distance_023 = get_distance_between_positions(4,6)
                        if distance_023 > 0:
                            distance_023 *= 8
                            prop_instance_animate_to_position(scp_instance_004,6,distance_023)
                        #end
                    #end
                #end
            #end
        #end
    #end
trigger14.codeBlock = code
multiplayer_bt.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(1.000000, 0.000000, 3.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 1:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= _g_multiplayer_respawn_period:
            m_timer_a_001 -= _g_round_finish_time
trigger15.conditionBlock = condition

def code():
    team_no_005_list1 = [
    1,
    0,
    ]
    m_timer_a_001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                m_timer_a_001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = m_timer_a_001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
                var009 = 1
                team_no_010 = 0
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
                var009 = 0
                team_no_010 = 1
            #end
        #end
    #end
    if var007 > 0:
        if True:
            for var011 in range(0, var007):
                var012 = 0
                player_id_013 = -1
                max_players = get_max_players()
                for player_id_014 in range(0, max_players):
                    if player_is_active(player_id_014):
                        team_no_005 = player_get_team_no(player_id_014)
                        if team_no_005 == var009:
                            player_slot_015 = player_get_slot(player_id_014,21)
                            if player_slot_015 > var012:
                                var012 = player_slot_015
                                player_id_013 = player_id_014
                            #end
                        #end
                    #end
                #end
                if player_id_013 >= 0:
                    if True:
                        agent_id_016 = player_get_agent_id(player_id_013)
                        if agent_id_016 >= 0 and agent_is_alive(agent_id_016):
                            kill_count_017 = player_get_kill_count(player_id_013)
                            kill_count_017 += 1
                            player_set_kill_count(player_id_013,kill_count_017)
                            death_count_018 = player_get_death_count(player_id_013)
                            death_count_018 -= 1
                            player_set_death_count(player_id_013,death_count_018)
                            score_019 = player_get_score(player_id_013)
                            score_019 += 1
                            player_set_score(player_id_013,score_019)
                            for player_id_014 in range(1, max_players):
                                if player_is_active(player_id_014):
                                    multiplayer_send_4_int_to_player(player_id_014,86,player_id_013,score_019,kill_count_017,death_count_018)
                                #end
                            #end
                        #end
                        player_slot_020 = player_get_value_of_original_items(player_id_013)
                        gold_021 = player_get_gold(player_id_013)
                        gold_021 += player_slot_020
                        player_set_gold(player_id_013,gold_021,15000)
                    #end
                    player_set_troop_id(player_id_013,-1)
                    player_set_team_no(player_id_013,team_no_010)
                    multiplayer_send_message_to_player(player_id_013,79)
                #end
            #end
            show_multiplayer_message(2,0)
            my_player = multiplayer_get_my_player()
            max_players = get_max_players()
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_int_to_player(player_id_014,68,2)
                #end
            #end
            _g_team_balance_next_round = 0
        #end
    #end
    _g_team_balance_next_round = 0
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_id_014 != -1 and player_is_active(player_id_014):
            agent_id_023 = player_get_agent_id(player_id_014)
            if agent_id_023 >= 0 and agent_is_alive(agent_id_023):
                player_save_picked_up_items_for_next_spawn(player_id_014)
                reg0 = 0
                troop_id_024 = player_get_troop_id(player_id_014)
                player_get_value_of_original_items(player_id_014,agent_id_023,troop_id_024)
                player_slot_020 = reg0
                player_set_slot(player_id_014,1,player_slot_020)
            #end
        #end
    #end
    var025 = 500
    var025 *= _g_multiplayer_round_earnings_multiplier
    var025 /= 100
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014) and player_slot_eq(player_id_014,0,1):
            gold_021 = player_get_gold(player_id_014)
            team_no_005 = player_get_team_no(player_id_014)
            if team_no_005 in team_no_005_list1:
                gold_021 += var025
            #end
        #end
        if True:
            player_slot_020 = player_get_slot(player_id_014,1)
            var026 = gold_021 + player_slot_020
            var027 = _g_multiplayer_initial_gold_multiplier * 10
            if var026 < var027:
                var028 = var027 - var026
                gold_021 += var028
            #end
        #end
        player_set_gold(player_id_014,gold_021,15000)
    #end
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            player_set_slot(player_id_014,0,0)
        #end
    #end
    _my_team_at_start_of_round = -1
    multiplayer_clear_scene()
    multiplayer_initialize_belfry_wheel_rotations()
    if _g_battle_death_mode_started == 2:
        move_death_mode_flags_down()
    #end
    _g_battle_death_mode_started = 0
    _g_reduced_waiting_seconds = 0
    multiplayer_close_gate_if_it_is_open()
    multiplayer_move_moveable_objects_initial_positions()
    _g_round_ended = 0
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2
    _g_round_start_time = store_mission_timer_a()
    initialize_all_scene_prop_slots()
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            multiplayer_send_int_to_player(player_id_014,78,-9999)
        #end
    #end
trigger15.codeBlock = code
multiplayer_bt.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    var001 = _g_multiplayer_num_bots_team_1
    var002 = _g_multiplayer_num_bots_team_2
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    if var001 == 0 or var002 == 0:
        m_timer_a_006 = store_mission_timer_a()
        m_timer_a_006 -= _g_round_start_time
        if m_timer_a_006 <= 2:
            _g_round_start_time = store_mission_timer_a()
        #end
    #end
trigger16.codeBlock = code
multiplayer_bt.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                if player_slot_eq(player_id_002,0,0):
                    team_no_003 = player_get_team_no(player_id_002)
                    if team_no_003 < 2:
                        troop_id_004 = player_get_troop_id(player_id_002)
                        if troop_id_004 >= 0:
                            var005 = 0
                            var006 = 0
                            var007 = 0
                            if True:
                                var008 = 0
                                max_players = get_max_players()
                                for player_id_009 in range(0, max_players):
                                    if player_is_active(player_id_009):
                                        var008 += 1
                                        team_no_010 = player_get_team_no(player_id_009)
                                        if team_no_010 == 0:
                                            var006 += 1
                                        elif team_no_010 == 1:
                                            var007 += 1
                                        #end
                                    #end
                                #end
                            #end
                        #end
                    #end
                    var011 = var006 * var007
                    m_timer_a_012 = store_mission_timer_a()
                    m_timer_a_012 -= _g_round_start_time
                    if m_timer_a_012 >= 30 or var008 > 2 or var011 == 0 and _g_round_ended == 0:
                        var005 = 1
                    #end
                #end
                if var005 == 1:
                    if team_no_003 == 0:
                        entry_point_013 = 0
                    elif team_no_003 == 1:
                        entry_point_013 = 32
                    #end
                #end
                multiplayer_buy_agent_equipment(player_id_002)
                player_spawn_new_agent(player_id_002,entry_point_013)
                player_set_slot(player_id_002,0,1)
            elif _g_multiplayer_player_respawn_as_bot == 1:
                agent_id_014 = player_get_agent_id(player_id_002)
                if agent_id_014 >= 0 and not agent_is_alive(agent_id_014):
                    agent_time_since_removed_015 = agent_get_time_elapsed_since_removed(agent_id_014)
                    if agent_time_since_removed_015 > _g_multiplayer_respawn_period:
                        team_no_003 = player_get_team_no(player_id_002)
                        var016 = 0
                        for cur_agent in __all_agents__:
                            if var016 == 0 and agent_is_alive(cur_agent) and agent_is_human(cur_agent) and agent_is_non_player(cur_agent):
                                agent_team_no_018 = agent_get_team(cur_agent)
                                if agent_team_no_018 == team_no_003:
                                    var016 = 1
                                #end
                            #end
                        #end
                    #end
                #end
                if var016 == 1:
                    find_most_suitable_bot_to_control(player_id_002)
                    player_control_agent(player_id_002,reg0)
                    player_slot_019 = player_get_slot(player_id_002,0)
                    player_slot_019 += 1
                    player_set_slot(player_id_002,0,player_slot_019)
                #end
            #end # Johandros changed this code
        #end
    #end
trigger17.codeBlock = code
multiplayer_bt.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger18.codeBlock = code
multiplayer_bt.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger19.codeBlock = code
multiplayer_bt.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger20.codeBlock = code
multiplayer_bt.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger21.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger21.codeBlock = code
multiplayer_bt.add_trigger(trigger21)
# trigger 22
trigger22 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger22.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger22.codeBlock = code
multiplayer_bt.add_trigger(trigger22)
# trigger 23
trigger23 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger23.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_round_time_counter)
    start_presentation(prsnt.multiplayer_team_score_display)
    if _g_battle_death_mode_started == 2:
        start_presentation(prsnt.multiplayer_flag_projection_display_bt)
    #end
trigger23.codeBlock = code
multiplayer_bt.add_trigger(trigger23)
# trigger 24
trigger24 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger24.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger24.codeBlock = code
multiplayer_bt.add_trigger(trigger24)


multiplayer_fd = MissionTemplate("multiplayer_fd", description="You lead your men to battle.")
multiplayer_fd.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_1)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_1)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_1)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_1)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_1)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_1)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_1)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_1)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_1)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_1)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_1)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_1)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_1)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_1)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_spawn_flag(SpawnFlag.NO_AUTO_RESET)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_0)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_0)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_0)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_0)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_0)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_0)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_0)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_0)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_fd.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_fd.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_fd.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger2.codeBlock = code
multiplayer_fd.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 3
    multiplayer_server_before_mission_start_common()
    _g_waiting_for_confirmation_to_terminate = 0
    _g_round_ended = 0
    _g_reduced_waiting_seconds = 0
    if multiplayer_is_server():
        _g_round_start_time = 0
    #end
    _my_team_at_start_of_round = -1
    multiplayer_init_mission_variables()
    multiplayer_remove_headquarters_flags()
trigger3.codeBlock = code
multiplayer_fd.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    determine_team_flags(0)
    determine_team_flags(1)
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_initialize_belfry_wheel_rotations()
    multiplayer_move_moveable_objects_initial_positions()
    _g_destructible_target_1 = spr.catapult_destructible
    _g_destructible_target_2 = spr.trebuchet_destructible
    scp_num_instances_001 = scene_prop_get_num_instances(_g_destructible_target_1)
    for var002 in range(0, scp_num_instances_001):
        scp_instance_003 = scene_prop_get_instance(_g_destructible_target_1,var002)
        if scp_instance_003 >= 0:
            scene_prop_set_team(scp_instance_003,0)
        #end
    #end
    scp_num_instances_004 = scene_prop_get_num_instances(_g_destructible_target_2)
    for var005 in range(0, scp_num_instances_004):
        scp_instance_006 = scene_prop_get_instance(_g_destructible_target_2,var005)
        if scp_instance_006 >= 0:
            scene_prop_set_team(scp_instance_006,0)
        #end
    #end
    if True:
        scp_num_instances_007 = scene_prop_get_num_instances(spr.catapult_destructible)
        if scp_num_instances_007 >= 1:
            scp_instance_008 = scene_prop_get_instance(spr.catapult_destructible,0)
            _g_defender_team = scene_prop_get_team(scp_instance_008)
        else:
            scp_num_instances_009 = scene_prop_get_num_instances(spr.trebuchet_destructible)
            if scp_num_instances_009 >= 1:
                scp_instance_010 = scene_prop_get_instance(spr.trebuchet_destructible,0)
                _g_defender_team = scene_prop_get_team(scp_instance_010)
            #end
        #end
    #end
    _g_number_of_targets_destroyed = 0
    if True:
        _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1
        _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2
    #end
    start_presentation(prsnt.multiplayer_destructible_targets_display)
    _g_multiplayer_ready_for_spawning_agent = 1
trigger4.codeBlock = code
multiplayer_fd.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_003 = player_get_agent_id(my_player)
            if agent_id_003 == var001 and agent_id_003 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_003)
            #end
        #end
    #end
    if not multiplayer_is_server():
        if _g_round_ended == 1:
            _g_round_ended = 0
            initialize_all_scene_prop_slots()
            multiplayer_initialize_belfry_wheel_rotations()
            initialize_objects_clients()
            start_presentation(prsnt.multiplayer_destructible_targets_display)
            if _g_team_balance_next_round == 1:
                _g_team_balance_next_round = 0
            #end
        #end
    #end
trigger5.codeBlock = code
multiplayer_fd.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    if _my_team_at_start_of_round < 0:
        my_player = multiplayer_get_my_player()
        if my_player >= 0:
            agent_id_004 = player_get_agent_id(my_player)
            if agent_id_004 >= 0:
                _my_team_at_start_of_round = agent_get_team(agent_id_004)
            #end
        #end
    #end
    if agent_is_human(var001):
        var005 = 0
        var006 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent):
                if agent_is_alive(cur_agent):
                    agent_team_no_008 = agent_get_team(cur_agent)
                    if agent_team_no_008 == 0:
                        var005 += 1
                    elif agent_team_no_008 == 1:
                        var006 += 1
                    #end
                #end
            #end
        #end
        if _g_round_ended == 0:
            if var005 == 0 or var006 == 0:
                _g_winner_team = -1
                reg0 = _g_multiplayer_respawn_period
                if var005 == 0:
                    if var006 != 0:
                        _g_winner_team = 1
                    #end
                    if _g_winner_team == -1:
                        pass
                    elif _g_defender_team == 1:
                        if not multiplayer_is_server():
                            calculate_number_of_targets_destroyed()
                        #end
                        var009 = 2 - _g_number_of_targets_destroyed
                        show_multiplayer_message(16,var009)
                    else:
                        show_multiplayer_message(17,0)
                    #end
                else:
                    if var005 != 0:
                        _g_winner_team = 0
                    #end
                    if _g_winner_team == -1:
                        pass
                    elif _g_defender_team == 0:
                        if not multiplayer_is_server():
                            calculate_number_of_targets_destroyed()
                        #end
                        var009 = 2 - _g_number_of_targets_destroyed
                        show_multiplayer_message(16,var009)
                    else:
                        show_multiplayer_message(17,0)
                    #end
                #end
                _g_round_finish_time = store_mission_timer_a()
                _g_round_ended = 1
                if multiplayer_is_server() and _g_winner_team >= 0 and _g_winner_team < 2 and _g_winner_team != -1:
                    team_score_010 = team_get_score(_g_winner_team)
                    var011 = 2 - _g_number_of_targets_destroyed
                    team_score_010 += var011
                    team_set_score(_g_winner_team,team_score_010)
                    max_players = get_max_players()
                    for player_id_013 in range(1, max_players):
                        if player_is_active(player_id_013):
                            multiplayer_send_2_int_to_player(player_id_013,72,_g_winner_team,team_score_010)
                        #end
                    #end
                #end
                if _g_defender_team != _g_winner_team and _g_winner_team != -1:
                    _g_number_of_targets_destroyed = 2
                #end
            #end
        #end
    #end
    if multiplayer_is_server() and agent_is_human(var001) and not agent_is_non_player(var001) and var001 >= 0:
        agent_player_id_014 = agent_get_player_id(var001)
        if agent_player_id_014 >= 0:
            set_fixed_point_multiplier(100)
            agent_player_id_014 = agent_get_player_id(var001)
            pos0 = agent_get_position(var001)
            pos_x_015 = position_get_x(0)
            pos_y_016 = position_get_y(0)
            pos_z_017 = position_get_z(0)
            player_set_slot(agent_player_id_014,29,pos_x_015)
            player_set_slot(agent_player_id_014,30,pos_y_016)
            player_set_slot(agent_player_id_014,31,pos_z_017)
        #end
    #end
trigger6.codeBlock = code
multiplayer_fd.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart)
trigger7.codeBlock = code
multiplayer_fd.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_number_of_targets_destroyed == 2:
        pass
trigger8.conditionBlock = condition

def code():
    _g_round_finish_time = store_mission_timer_a()
    _g_round_ended = 1
    my_player = multiplayer_get_my_player()
    draw_this_round(-9)
    max_players = get_max_players()
    for player_id_003 in range(1, max_players):
        if player_is_active(player_id_003) and player_id_003 != my_player:
            multiplayer_send_int_to_player(player_id_003,69,-9)
        #end
    #end
trigger8.codeBlock = code
multiplayer_fd.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 >= _g_multiplayer_round_max_seconds:
            var002 = m_timer_a_001 - _g_round_start_time
trigger9.conditionBlock = condition

def code():
    _g_round_finish_time = store_mission_timer_a()
    _g_round_ended = 1
    _g_winner_team = -9
    m_timer_a_001 = multiplayer_get_my_player()
    var002 = 2 - _g_number_of_targets_destroyed
    show_multiplayer_message(16,var002)
    max_players = get_max_players()
    for player_id_004 in range(1, max_players):
        if player_is_active(player_id_004):
            multiplayer_send_2_int_to_player(player_id_004,68,16,var002)
        #end
    #end
    draw_this_round(_g_winner_team)
    max_players = get_max_players()
    for player_id_004 in range(1, max_players):
        if player_is_active(player_id_004) and player_id_004 != m_timer_a_001:
            multiplayer_send_int_to_player(player_id_004,69,_g_winner_team)
        #end
    #end
    if multiplayer_is_server():
        _g_winner_team = _g_defender_team
        team_score_005 = team_get_score(_g_winner_team)
        var006 = 2 - _g_number_of_targets_destroyed
        team_score_005 += var006
        team_set_score(_g_winner_team,team_score_005)
        for player_id_004 in range(1, max_players):
            if player_is_active(player_id_004):
                multiplayer_send_2_int_to_player(player_id_004,72,_g_winner_team,team_score_005)
            #end
        #end
    #end
trigger9.codeBlock = code
multiplayer_fd.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(10.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger10.conditionBlock = condition

def code():
    var001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = var001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
            #end
        #end
    #end
    if var007 > 0:
        if _g_team_balance_next_round == 0:
            _g_team_balance_next_round = 1
            show_multiplayer_message(3,0)
            max_players = get_max_players()
            for player_id_009 in range(1, max_players):
                if player_is_active(player_id_009):
                    multiplayer_send_int_to_player(player_id_009,68,3)
                #end
            #end
            warn_player_about_auto_team_balance()
        #end
    #end
trigger10.codeBlock = code
multiplayer_fd.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 0 and _g_battle_death_mode_started == 2:
        pass
trigger11.conditionBlock = condition

def code():
    var008_list2 = [
    -1,
    0,
    ]
    var007_list2 = [
    -1,
    0,
    ]
    set_fixed_point_multiplier(100)
    scp_instance_001 = scene_prop_get_instance(spr.headquarters_pole_code_only,0)
    scp_instance_002 = scene_prop_get_instance(spr.headquarters_pole_code_only,1)
    scp_instance_003 = scene_prop_get_instance(_team_1_flag_scene_prop,0)
    scp_instance_004 = scene_prop_get_instance(_team_2_flag_scene_prop,0)
    pos1 = prop_instance_get_position(scp_instance_001)
    pos2 = prop_instance_get_position(scp_instance_002)
    pos3 = prop_instance_get_position(scp_instance_003)
    pos4 = prop_instance_get_position(scp_instance_004)
    copy_position(7,1)
    position_move_z(7,100)
    copy_position(8,2)
    position_move_z(8,100)
    distance_005 = get_distance_between_positions(1,3)
    distance_006 = get_distance_between_positions(2,4)
    var007 = 0
    var008 = 0
    max_players = get_max_players()
    for player_id_010 in range(0, max_players):
        if player_is_active(player_id_010):
            agent_id_011 = player_get_agent_id(player_id_010)
            if agent_id_011 >= 0 and agent_is_human(agent_id_011) and agent_is_alive(agent_id_011):
                agent_team_no_012 = agent_get_team(agent_id_011)
                pos0 = agent_get_position(agent_id_011)
                agent_horse_013 = agent_get_horse(agent_id_011)
                if agent_horse_013 == -1:
                    if agent_team_no_012 == 0:
                        if True:
                            sq_distance_014 = get_sq_distance_between_positions(0,1)
                            if sq_distance_014 < 1600:
                                if var007 == 0:
                                    var007 = 1
                                elif var007 == -1:
                                    var007 = -2
                                #end
                            #end
                        #end
                    #end
                #end
            #end
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,2)
                if sq_distance_014 < 1600:
                    if var008 == 0:
                        var008 = -1
                    elif var008 == 1:
                        var008 = -2
                    #end
                #end
            #end
        elif agent_team_no_012 == 1:
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,2)
                if sq_distance_014 < 1600:
                    if var008 == 0:
                        var008 = 1
                    else:
                        var008 = -2
                    #end
                #end
            #end
            if True:
                sq_distance_014 = get_sq_distance_between_positions(0,1)
                if sq_distance_014 < 1600:
                    if var007 == 0:
                        var007 = -1
                    elif var007 == 1:
                        var007 = -2
                    #end
                #end
            #end
        #end
    #end
    if distance_005 >= 800:
        _g_winner_team = 0
        max_players = get_max_players()
        draw_this_round(_g_winner_team)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
            #end
        #end
        team_score_015 = team_get_score(0)
        team_set_score(0,team_score_015)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_2_int_to_player(player_id_010,72,0,team_score_015)
            #end
        #end
        _g_round_finish_time = store_mission_timer_a()
        _g_round_ended = 1
    elif distance_006 >= 800:
        _g_winner_team = 1
        max_players = get_max_players()
        draw_this_round(_g_winner_team)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_int_to_player(player_id_010,69,_g_winner_team)
            #end
        #end
        team_score_016 = team_get_score(1)
        team_set_score(1,team_score_016)
        for player_id_010 in range(1, max_players):
            if player_is_active(player_id_010):
                multiplayer_send_2_int_to_player(player_id_010,72,1,team_score_016)
            #end
        #end
        show_multiplayer_message(12,0)
        check_achievement_last_man_standing(_g_winner_team)
        _g_round_finish_time = store_mission_timer_a()
        _g_round_ended = 1
    #end
    if _g_round_ended == 0:
        pos_z_017 = position_get_z(3)
        prop_instance_is_animating(var018,scp_instance_003)
        if var007 == -2 and var018 == 1:
            prop_instance_stop_animating(scp_instance_003)
        elif var007 in var007_list2:
            prop_instance_get_animation_target_position(pos9,scp_instance_003)
            pos_z_019 = position_get_z(9)
            if var018 == 0 or pos_z_019 > pos_z_017:
                distance_020 = get_distance_between_positions(3,7)
                if distance_020 > 0:
                    distance_020 *= 16
                    prop_instance_animate_to_position(scp_instance_003,7,distance_020)
                elif var007 == 1:
                    prop_instance_get_animation_target_position(pos9,scp_instance_003)
                    pos_z_019 = position_get_z(9)
                    if var018 == 0 or pos_z_019 < pos_z_017:
                        copy_position(5,1)
                        position_move_z(5,800)
                        distance_020 = get_distance_between_positions(3,5)
                        if distance_020 > 0:
                            distance_020 *= 8
                            prop_instance_animate_to_position(scp_instance_003,5,distance_020)
                        #end
                    #end
                #end
            #end
        #end
        pos_z_021 = position_get_z(4)
        prop_instance_is_animating(var018,scp_instance_004)
        if var008 == -2 and var018 == 1:
            prop_instance_stop_animating(scp_instance_004)
        elif var008 in var008_list2:
            prop_instance_get_animation_target_position(pos9,scp_instance_004)
            pos_z_022 = position_get_z(9)
            if var018 == 0 or pos_z_022 > pos_z_021:
                distance_023 = get_distance_between_positions(4,8)
                if distance_023 > 0:
                    distance_023 *= 16
                    prop_instance_animate_to_position(scp_instance_004,8,distance_023)
                elif var008 == 1:
                    prop_instance_get_animation_target_position(pos9,scp_instance_004)
                    pos_z_022 = position_get_z(9)
                    if var018 == 0 or pos_z_022 < pos_z_021:
                        copy_position(6,2)
                        position_move_z(6,800)
                        distance_023 = get_distance_between_positions(4,6)
                        if distance_023 > 0:
                            distance_023 *= 8
                            prop_instance_animate_to_position(scp_instance_004,6,distance_023)
                        #end
                    #end
                #end
            #end
        #end
    #end
trigger11.codeBlock = code
multiplayer_fd.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(1.000000, 0.000000, 3.000000)
def condition():
    if multiplayer_is_server() and _g_round_ended == 1:
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= _g_multiplayer_respawn_period:
            m_timer_a_001 -= _g_round_finish_time
trigger12.conditionBlock = condition

def code():
    m_timer_a_001 = 0
    var002 = 0
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                m_timer_a_001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    var006 = m_timer_a_001 - var002
    var007 = 0
    if True:
        if True:
            var008 = _g_multiplayer_auto_team_balance_limit * -1
            if var006 <= var008:
                var007 = var006 / -2
                var009 = 1
                team_no_010 = 0
            elif var006 >= _g_multiplayer_auto_team_balance_limit:
                var007 = var006 / 2
                var009 = 0
                team_no_010 = 1
            #end
        #end
    #end
    if var007 > 0:
        if True:
            for var011 in range(0, var007):
                var012 = 0
                player_id_013 = -1
                max_players = get_max_players()
                for player_id_014 in range(0, max_players):
                    if player_is_active(player_id_014):
                        team_no_005 = player_get_team_no(player_id_014)
                        if team_no_005 == var009:
                            player_slot_015 = player_get_slot(player_id_014,21)
                            if player_slot_015 > var012:
                                var012 = player_slot_015
                                player_id_013 = player_id_014
                            #end
                        #end
                    #end
                #end
                if player_id_013 >= 0:
                    if True:
                        agent_id_016 = player_get_agent_id(player_id_013)
                        if agent_id_016 >= 0 and agent_is_alive(agent_id_016):
                            kill_count_017 = player_get_kill_count(player_id_013)
                            kill_count_017 += 1
                            player_set_kill_count(player_id_013,kill_count_017)
                            death_count_018 = player_get_death_count(player_id_013)
                            death_count_018 -= 1
                            player_set_death_count(player_id_013,death_count_018)
                            score_019 = player_get_score(player_id_013)
                            score_019 += 1
                            player_set_score(player_id_013,score_019)
                            for player_id_014 in range(1, max_players):
                                if player_is_active(player_id_014):
                                    multiplayer_send_4_int_to_player(player_id_014,86,player_id_013,score_019,kill_count_017,death_count_018)
                                #end
                            #end
                        #end
                        player_slot_020 = player_get_value_of_original_items(player_id_013)
                        gold_021 = player_get_gold(player_id_013)
                        gold_021 += player_slot_020
                        player_set_gold(player_id_013,gold_021,15000)
                    #end
                    player_set_troop_id(player_id_013,-1)
                    player_set_team_no(player_id_013,team_no_010)
                    multiplayer_send_message_to_player(player_id_013,79)
                #end
            #end
            show_multiplayer_message(2,0)
            my_player = multiplayer_get_my_player()
            max_players = get_max_players()
            for player_id_014 in range(0, max_players):
                if player_is_active(player_id_014) and my_player != player_id_014:
                    multiplayer_send_int_to_player(player_id_014,68,2)
                #end
            #end
            _g_team_balance_next_round = 0
        #end
    #end
    _g_team_balance_next_round = 0
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            agent_id_023 = player_get_agent_id(player_id_014)
            if agent_id_023 >= 0 and agent_is_alive(agent_id_023):
                player_save_picked_up_items_for_next_spawn(player_id_014)
                player_slot_020 = player_get_value_of_original_items(player_id_014)
                player_set_slot(player_id_014,1,player_slot_020)
            #end
        #end
    #end
    var024 = 500
    var024 *= _g_multiplayer_round_earnings_multiplier
    var024 /= 100
    var025 = 2 - _g_number_of_targets_destroyed
    var026 = var025 * 100
    var027 = _g_number_of_targets_destroyed * 100
    var026 += 100
    var027 -= 100
    max_players = get_max_players()
    var026 *= _g_multiplayer_round_earnings_multiplier
    var026 /= 100
    var027 *= _g_multiplayer_round_earnings_multiplier
    var027 /= 100
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014) and player_slot_eq(player_id_014,0,1):
            gold_021 = player_get_gold(player_id_014)
            team_no_005 = player_get_team_no(player_id_014)
            gold_021 += var024
            if team_no_005 == _g_defender_team:
                gold_021 += var026
            else:
                gold_021 += var027
            #end
        #end
        if True:
            player_slot_020 = player_get_slot(player_id_014,1)
            var028 = gold_021 + player_slot_020
            var029 = _g_multiplayer_initial_gold_multiplier * 10
            if var028 < var029:
                var030 = var029 - var028
                gold_021 += var030
            #end
        #end
        player_set_gold(player_id_014,gold_021,15000)
    #end
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            player_set_slot(player_id_014,0,0)
        #end
    #end
    _my_team_at_start_of_round = -1
    multiplayer_clear_scene()
    max_players = get_max_players()
    for player_id_014 in range(1, max_players):
        if player_is_active(player_id_014):
            player_set_slot(player_id_014,32,0)
            player_set_slot(player_id_014,33,0)
        #end
    #end
    multiplayer_initialize_belfry_wheel_rotations()
    multiplayer_close_gate_if_it_is_open()
    multiplayer_move_moveable_objects_initial_positions()
    _g_round_ended = 0
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2
    start_presentation(prsnt.multiplayer_destructible_targets_display)
    initialize_objects()
    _g_round_start_time = store_mission_timer_a()
    initialize_all_scene_prop_slots()
    max_players = get_max_players()
    for player_id_014 in range(0, max_players):
        if player_is_active(player_id_014):
            multiplayer_send_int_to_player(player_id_014,78,-9999)
        #end
    #end
trigger12.codeBlock = code
multiplayer_fd.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    var001 = _g_multiplayer_num_bots_team_1
    var002 = _g_multiplayer_num_bots_team_2
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            team_no_005 = player_get_team_no(player_id_004)
            if team_no_005 == 0:
                var001 += 1
            elif team_no_005 == 1:
                var002 += 1
            #end
        #end
    #end
    if var001 == 0 or var002 == 0:
        m_timer_a_006 = store_mission_timer_a()
        m_timer_a_006 -= _g_round_start_time
        if m_timer_a_006 <= 2:
            _g_round_start_time = store_mission_timer_a()
        #end
    #end
trigger13.codeBlock = code
multiplayer_fd.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                if player_slot_eq(player_id_002,0,0):
                    team_no_003 = player_get_team_no(player_id_002)
                    if team_no_003 < 2:
                        troop_id_004 = player_get_troop_id(player_id_002)
                        if troop_id_004 >= 0:
                            var005 = 0
                            var006 = 0
                            var007 = 0
                            if True:
                                var008 = 0
                                max_players = get_max_players()
                                for player_id_009 in range(0, max_players):
                                    if player_is_active(player_id_009):
                                        var008 += 1
                                        team_no_010 = player_get_team_no(player_id_009)
                                        if team_no_010 == 0:
                                            var006 += 1
                                        elif team_no_010 == 1:
                                            var007 += 1
                                        #end
                                    #end
                                #end
                            #end
                        #end
                    #end
                    var011 = var006 * var007
                    m_timer_a_012 = store_mission_timer_a()
                    m_timer_a_012 -= _g_round_start_time
                    if m_timer_a_012 >= 30 or var008 > 2 or var011 == 0 and _g_round_ended == 0:
                        var005 = 1
                    #end
                #end
                if var005 == 1:
                    if team_no_003 == 0:
                        entry_point_013 = 0
                    elif team_no_003 == 1:
                        entry_point_013 = 32
                    #end
                #end
                multiplayer_buy_agent_equipment(player_id_002)
                player_spawn_new_agent(player_id_002,entry_point_013)
                player_set_slot(player_id_002,0,1)
            elif _g_multiplayer_player_respawn_as_bot == 1:
                agent_id_014 = player_get_agent_id(player_id_002)
                if agent_id_014 >= 0 and not agent_is_alive(agent_id_014):
                    agent_time_since_removed_015 = agent_get_time_elapsed_since_removed(agent_id_014)
                    if agent_time_since_removed_015 > _g_multiplayer_respawn_period:
                        team_no_003 = player_get_team_no(player_id_002)
                        var016 = 0
                        for cur_agent in __all_agents__:
                            if var016 == 0 and agent_is_alive(cur_agent) and agent_is_human(cur_agent) and agent_is_non_player(cur_agent):
                                agent_team_no_018 = agent_get_team(cur_agent)
                                if agent_team_no_018 == team_no_003:
                                    var016 = 1
                                #end
                            #end
                        #end
                    #end
                #end
                if var016 == 1:
                    find_most_suitable_bot_to_control(player_id_002)
                    player_control_agent(player_id_002,reg0)
                    player_slot_019 = player_get_slot(player_id_002,0)
                    player_slot_019 += 1
                    player_set_slot(player_id_002,0,player_slot_019)
                #end
            #end # Johandros changed this code
        #end
    #end
trigger14.codeBlock = code
multiplayer_fd.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list2 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list1 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                team_score_002 = team_get_score(0)
                team_score_003 = team_get_score(1)
                var004 = team_score_002 + team_score_003
                if var004 == 0:
                    m_timer_a_005 = store_mission_timer_a()
                    m_timer_a_005 -= _g_round_start_time
                    if m_timer_a_005 < 20:
                        var006 = 0
                    else:
                        var006 = 1
                    #end
                #end
            #end
        #end
        if var006 == 1:
            random_x_007 = store_random_in_range(0,var001)
            random_x_007 -= _g_multiplayer_num_bots_required_team_1
            if random_x_007 < 0:
                team_id_008 = 0
            else:
                team_id_008 = 1
            #end
        #end
        if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
            m_timer_a_005 = store_mission_timer_a()
            m_timer_a_005 -= _g_round_start_time
            if m_timer_a_005 <= 20:
                var009 = 0
            else:
                var009 = 1
            #end
        else:
            var009 = 1
        #end
        multiplayer_find_bot_troop_and_group_for_spawn(team_id_008,var009)
        troop_id_010 = reg0
        group_no_011 = reg1
        team_faction_012 = team_get_faction(team_id_008)
        var013 = 0
        for trp_014 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_015 = store_faction_of_troop(trp_014)
            if troop_faction_015 == team_faction_012:
                var013 += 1
            #end
        #end
        var016 = 0
        max_players = get_max_players()
        for player_id_018 in range(0, max_players):
            if player_is_active(player_id_018):
                team_no_019 = player_get_team_no(player_id_018)
                if team_id_008 == team_no_019:
                    var020 = 0
                    var021 = 35 + var013
                    for var022 in range(35, var021):
                        if player_slot_ge(player_id_018,var022,1):
                            var020 = 1
                            var021 = 0
                        #end
                    #end
                #end
            #end
            if var020 >= 1:
                var016 += 1
            #end
        #end
        if group_no_011 >= 0 or var016 == 0:
            troop_inv_slot_023 = troop_get_inventory_slot(troop_id_010,8)
            if troop_inv_slot_023 >= 0:
                var024 = 1
            else:
                var024 = 0
            #end
            if _g_multiplayer_game_type == 6:
                m_timer_a_005 = store_mission_timer_a()
                m_timer_a_005 -= _g_round_start_time
                if m_timer_a_005 < 20:
                    if team_id_008 == 0:
                        multiplayer_find_spawn_point(team_id_008,1,var024)
                    else:
                        reg0 = 32
                    #end
                else:
                    multiplayer_find_spawn_point(team_id_008,0,var024)
                #end
            elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
                if team_id_008 == 0:
                    reg0 = 0
                else:
                    reg0 = 32
                #end
            else:
                multiplayer_find_spawn_point(team_id_008,0,var024)
            #end
            cur_scene_025 = store_current_scene()
            modify_visitors_at_site(cur_scene_025)
            add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_008,group_no_011)
            _g_multiplayer_ready_for_spawning_agent = 0
            if team_id_008 == 0:
                _g_multiplayer_num_bots_required_team_1 -= 1
            elif team_id_008 == 1:
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
    #end
trigger15.codeBlock = code
multiplayer_fd.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_group_002 = agent_get_group(cur_agent)
                if not player_is_active(agent_group_002):
                    multiplayer_change_leader_of_bot(cur_agent)
                else:
                    team_no_003 = player_get_team_no(agent_group_002)
                    agent_team_no_004 = agent_get_team(cur_agent)
                    if team_no_003 != agent_team_no_004:
                        multiplayer_change_leader_of_bot(cur_agent)
                    #end
                #end
            #end
        #end
    #end
trigger16.codeBlock = code
multiplayer_fd.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger17.codeBlock = code
multiplayer_fd.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger18.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart)
    #end
trigger18.codeBlock = code
multiplayer_fd.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger19.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger19.codeBlock = code
multiplayer_fd.add_trigger(trigger19)
# trigger 20
trigger20 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger20.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_round_time_counter)
    start_presentation(prsnt.multiplayer_team_score_display)
trigger20.codeBlock = code
multiplayer_fd.add_trigger(trigger20)
# trigger 21
trigger21 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger21.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger21.codeBlock = code
multiplayer_fd.add_trigger(trigger21)


multiplayer_ccoop = MissionTemplate("multiplayer_ccoop", description="You lead your men to battle.")
multiplayer_ccoop.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr63)
# spawn record 64
sr64 = SpawnRecord(entry_no=64, number_of_troops=1)
sr64.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr64.add_spawn_flag(SpawnFlag.TEAM_1)
sr64.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr64)
# spawn record 65
sr65 = SpawnRecord(entry_no=65, number_of_troops=1)
sr65.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr65.add_spawn_flag(SpawnFlag.TEAM_1)
sr65.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr65)
# spawn record 66
sr66 = SpawnRecord(entry_no=66, number_of_troops=1)
sr66.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr66.add_spawn_flag(SpawnFlag.TEAM_1)
sr66.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr66)
# spawn record 67
sr67 = SpawnRecord(entry_no=67, number_of_troops=1)
sr67.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr67.add_spawn_flag(SpawnFlag.TEAM_1)
sr67.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr67)
# spawn record 68
sr68 = SpawnRecord(entry_no=68, number_of_troops=1)
sr68.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr68.add_spawn_flag(SpawnFlag.TEAM_1)
sr68.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr68)
# spawn record 69
sr69 = SpawnRecord(entry_no=69, number_of_troops=1)
sr69.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr69.add_spawn_flag(SpawnFlag.TEAM_1)
sr69.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr69)
# spawn record 70
sr70 = SpawnRecord(entry_no=70, number_of_troops=1)
sr70.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr70.add_spawn_flag(SpawnFlag.TEAM_1)
sr70.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr70)
# spawn record 71
sr71 = SpawnRecord(entry_no=71, number_of_troops=1)
sr71.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr71.add_spawn_flag(SpawnFlag.TEAM_1)
sr71.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr71)
# spawn record 72
sr72 = SpawnRecord(entry_no=72, number_of_troops=1)
sr72.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr72.add_spawn_flag(SpawnFlag.TEAM_1)
sr72.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr72)
# spawn record 73
sr73 = SpawnRecord(entry_no=73, number_of_troops=1)
sr73.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr73.add_spawn_flag(SpawnFlag.TEAM_1)
sr73.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr73)
# spawn record 74
sr74 = SpawnRecord(entry_no=74, number_of_troops=1)
sr74.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr74.add_spawn_flag(SpawnFlag.TEAM_1)
sr74.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr74)
# spawn record 75
sr75 = SpawnRecord(entry_no=75, number_of_troops=1)
sr75.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr75.add_spawn_flag(SpawnFlag.TEAM_1)
sr75.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr75)
# spawn record 76
sr76 = SpawnRecord(entry_no=76, number_of_troops=1)
sr76.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr76.add_spawn_flag(SpawnFlag.TEAM_1)
sr76.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr76)
# spawn record 77
sr77 = SpawnRecord(entry_no=77, number_of_troops=1)
sr77.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr77.add_spawn_flag(SpawnFlag.TEAM_1)
sr77.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr77)
# spawn record 78
sr78 = SpawnRecord(entry_no=78, number_of_troops=1)
sr78.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr78.add_spawn_flag(SpawnFlag.TEAM_1)
sr78.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr78)
# spawn record 79
sr79 = SpawnRecord(entry_no=79, number_of_troops=1)
sr79.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr79.add_spawn_flag(SpawnFlag.TEAM_1)
sr79.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr79)
# spawn record 80
sr80 = SpawnRecord(entry_no=80, number_of_troops=1)
sr80.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr80.add_spawn_flag(SpawnFlag.TEAM_1)
sr80.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr80)
# spawn record 81
sr81 = SpawnRecord(entry_no=81, number_of_troops=1)
sr81.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr81.add_spawn_flag(SpawnFlag.TEAM_1)
sr81.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr81)
# spawn record 82
sr82 = SpawnRecord(entry_no=82, number_of_troops=1)
sr82.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr82.add_spawn_flag(SpawnFlag.TEAM_1)
sr82.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr82)
# spawn record 83
sr83 = SpawnRecord(entry_no=83, number_of_troops=1)
sr83.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr83.add_spawn_flag(SpawnFlag.TEAM_1)
sr83.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr83)
# spawn record 84
sr84 = SpawnRecord(entry_no=84, number_of_troops=1)
sr84.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr84.add_spawn_flag(SpawnFlag.TEAM_1)
sr84.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr84)
# spawn record 85
sr85 = SpawnRecord(entry_no=85, number_of_troops=1)
sr85.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr85.add_spawn_flag(SpawnFlag.TEAM_1)
sr85.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr85)
# spawn record 86
sr86 = SpawnRecord(entry_no=86, number_of_troops=1)
sr86.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr86.add_spawn_flag(SpawnFlag.TEAM_1)
sr86.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr86)
# spawn record 87
sr87 = SpawnRecord(entry_no=87, number_of_troops=1)
sr87.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr87.add_spawn_flag(SpawnFlag.TEAM_1)
sr87.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_ccoop.addSpawnRecord(sr87)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
multiplayer_ccoop.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger1.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger1.codeBlock = code
multiplayer_ccoop.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
    agent_team_no_002 = agent_get_team(var001)
    if multiplayer_is_server() and agent_team_no_002 == 1:
        if _g_multiplayer_ccoop_difficulty == 0:
            var003 = 50
            var004 = 50
            agent_set_max_hit_points(var001,var003)
            agent_set_damage_modifier(var001,var004)
        elif _g_mp_coop_king_waves >= 1:
            var003 = _g_mp_coop_king_waves * 35
            var003 += 100
            var004 = _g_mp_coop_king_waves * 25
            var004 += 100
            agent_set_max_hit_points(var001,var003)
            agent_set_damage_modifier(var001,var004)
        #end
    #end
    if multiplayer_is_server() and agent_team_no_002 == 0 and agent_is_active(var001) and agent_is_alive(var001) and agent_is_non_player(var001):
        agent_group_005 = agent_get_group(var001)
        if player_is_active(agent_group_005):
            troop_id_006 = agent_get_troop_id(var001)
            if True:
                troop_slot_007 = troop_get_slot(troop_id_006,155)
                if troop_slot_007 > 0:
                    troop_add_item(troop_id_006,troop_slot_007)
                #end
            #end
        #end
        if cf_multiplayer_upgrade_companion_equipment(var001):
            troop_type_008 = troop_get_type(troop_id_006)
            if troop_type_008 == 0:
                var009 = snd.ccoop_nobleman_taunt
                var009 += 20
                random_x_010 = store_random_in_range(snd.ccoop_spawn_companion_0,var009)
                if random_x_010 < snd.ccoop_nobleman_taunt:
                    pos60 = agent_get_position(var001)
                    multiplayer_server_play_sound_at_position(random_x_010)
                #end
            #end
        #end
    #end
    if multiplayer_is_server() and agent_team_no_002 == 0 and agent_is_active(var001) and agent_is_alive(var001) and agent_is_human(var001) and not agent_is_non_player(var001):
        agent_player_id_011 = agent_get_player_id(var001)
        player_set_slot(agent_player_id_011,42,1)
        multiplayer_send_2_int_to_player(agent_player_id_011,48,1,1)
    #end
trigger2.codeBlock = code
multiplayer_ccoop.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code(player_id_001):
    multiplayer_server_player_joined_common(player_id_001)
    player_set_slot(player_id_001,24,-1)
    player_set_slot(player_id_001,42,0)
    multiplayer_send_2_int_to_player(player_id_001,48,1,0)
    multiplayer_ccoop_send_troop_data_to_client(player_id_001)
    if _g_multiplayer_ccoop_game_started > 0:
        if _g_multiplayer_ccoop_enemy_respawn_secs <= 45:
            multiplayer_send_3_int_to_player(player_id_001,48,3,_g_multiplayer_ccoop_enemy_respawn_secs,_g_multiplayer_ccoop_wave_no)
        else:
            multiplayer_send_3_int_to_player(player_id_001,48,4,_g_multiplayer_ccoop_enemy_respawn_secs,_g_multiplayer_ccoop_wave_no)
        #end
    #end
    if multiplayer_is_server():
        for slot_no_002 in range(47, 49):
            player_set_slot(player_id_001,slot_no_002,0)
        #end
        for slot_no_002 in range(50, 60):
            player_set_slot(player_id_001,slot_no_002,0)
        #end
    #end
trigger3.codeBlock = code
multiplayer_ccoop.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 8
    cur_scene_001 = store_current_scene()
    _g_ccoop_disallow_horses = scene_get_slot(cur_scene_001,1)
    if _g_ccoop_disallow_horses == 1:
        for var002 in range(0, 100):
            mission_tpl_entry_set_override_flags(mt.multiplayer_ccoop,var002,256)
        #end
    else:
        for var002 in range(0, 100):
            mission_tpl_entry_set_override_flags(mt.multiplayer_ccoop,var002,0)
        #end
    #end
    multiplayer_server_before_mission_start_common()
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger4.codeBlock = code
multiplayer_ccoop.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
    _g_presentation_obj_coop_companion_0 = store_random_in_range(trp.npc1_1,trp.npc1_2)
    _g_presentation_obj_coop_companion_1 = store_random_in_range(trp.npc1_1,trp.npc1_2)
    if _g_presentation_obj_coop_companion_1 == _g_presentation_obj_coop_companion_0:
        _g_presentation_obj_coop_companion_1 += 1
    #end
    if _g_presentation_obj_coop_companion_1 >= trp.npc1_2:
        _g_presentation_obj_coop_companion_1 = trp.npc1_1
    #end
    var001 = _g_presentation_obj_coop_companion_0 - trp.npc1_1
    var001 += trp.npc1_1
    _g_presentation_obj_coop_companion_class_0 = var001
    var001 = _g_presentation_obj_coop_companion_1 - trp.npc1_1
    var001 += trp.npc1_1
    _g_presentation_obj_coop_companion_class_1 = var001
    for trp_002 in range(trp.knight_1_1, trp.kingdom_1_pretender):
        troop_set_slot(trp_002,155,0)
    #end
    for trp_002 in range(trp.quick_battle_troop_1, trp.quick_battle_troops_end):
        troop_set_slot(trp_002,155,0)
    #end
    _g_mp_coop_lord_waves = 0
    _g_mp_coop_king_waves = 0
    _g_mp_coop_last_king_wave = 0
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_004 in range(0, max_players):
            if player_is_active(player_id_004):
                for slot_no_005 in range(47, 49):
                    player_set_slot(player_id_004,slot_no_005,0)
                    multiplayer_send_3_int_to_player(player_id_004,48,13,slot_no_005,0)
                #end
            #end
            for slot_no_005 in range(50, 60):
                player_set_slot(player_id_004,slot_no_005,0)
            #end
        #end
    #end
    if multiplayer_is_server():
        _g_multiplayer_ccoop_spawn_prison_cart_counter = 0
        _g_multiplayer_ccoop_spawn_player_and_squad_counter = 0
        _g_multiplayer_ccoop_spawn_alive_player_squad_and_minus_one_first_spawn_slots_and_minus_one_first_spawn_slots = -1
    #end
    _g_multiplayer_ccoop_wave_no = 0
    _g_multiplayer_ccoop_game_started = 0
    _g_multiplayer_ccoop_enable_count_down = 0
    _g_multiplayer_ccoop_change_map = 0
    _g_round_ended = 0
    multiplayer_ccoop_destroy_prison_cart()
    max_players = get_max_players()
    for player_id_004 in range(0, max_players):
        if player_is_active(player_id_004):
            player_set_slot(player_id_004,42,0)
            multiplayer_send_2_int_to_player(player_id_004,48,1,0)
        #end
    #end
trigger5.codeBlock = code
multiplayer_ccoop.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    _g_multiplayer_ccoop_enable_count_down = 0
    _g_multiplayer_ccoop_enemy_respawn_secs = 100000
    _g_multiplayer_ccoop_game_started = 0
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
trigger6.codeBlock = code
multiplayer_ccoop.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(-29.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code(var001):
    if cf_multiplayer_event_team_change(var001):
        pass
trigger7.codeBlock = code
multiplayer_ccoop.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code(var001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(var001,var002)
    agent_team_no_003 = agent_get_team(var001)
    if multiplayer_is_server() and agent_is_non_player(var001):
        agent_group_004 = agent_get_group(var001)
        if player_is_active(agent_group_004):
            troop_id_005 = agent_get_troop_id(var001)
            for slot_no_006 in range(43, 45):
                player_slot_007 = player_get_slot(agent_group_004,slot_no_006)
                if troop_id_005 == player_slot_007:
                    slot_no_006 -= 43
                    slot_no_006 += 47
                    player_slot_008 = player_get_slot(agent_group_004,slot_no_006)
                    player_slot_008 -= 1
                    val_max(player_slot_008,0)
                    player_set_slot(agent_group_004,slot_no_006,player_slot_008)
                    multiplayer_send_3_int_to_player(agent_group_004,48,13,slot_no_006,player_slot_008)
                #end
            #end
        #end
    #end
    troop_id_009 = agent_get_troop_id(var001)
    if troop_id_009 != -1 and troop_id_009 == _g_ccoop_king_troop:
        _g_mp_coop_last_king_wave = _g_multiplayer_ccoop_wave_no
        _g_mp_coop_king_waves += 1
    #end
    if multiplayer_is_server():
        if True:
            if agent_team_no_003 == 1:
                random_x_010 = store_random_in_range(0,15)
            else:
                random_x_010 = 0
            #end
            if random_x_010 == 14 or is_between(troop_id_009,trp.knight_1_1,trp.kingdom_1_pretender) or is_between(troop_id_009,trp.kingdom_1_lord,trp.knight_1_1) or is_between(troop_id_009,trp.quick_battle_troop_1,trp.quick_battle_troops_end):
                pos0 = agent_get_position(var001)
                set_spawn_position(0)
                spawn_scene_prop(spr.multiplayer_coop_item_drop)
                scp_instance_011 = scene_prop_get_instance(spr.prison_cart,0)
                var012 = 1
                for slot_no_006 in range(7, 17):
                    if var012 == 1:
                        scene_prop_slot_013 = scene_prop_get_slot(scp_instance_011,slot_no_006)
                        if scene_prop_slot_013 == 0:
                            scene_prop_set_slot(scp_instance_011,slot_no_006,reg0)
                            var012 = 0
                        #end
                    #end
                #end
            #end
            if var012 == 1:
                scene_prop_slot_014 = scene_prop_get_slot(scp_instance_011,7)
                pos1 = prop_instance_get_position(scene_prop_slot_014)
                position_move_z(1,-2000)
                prop_instance_set_position(scene_prop_slot_014,1)
                for slot_no_006 in range(7, 17):
                    slot_no_015 = slot_no_006 + 1
                    if slot_no_015 == 17:
                        scene_prop_slot_016 = reg0
                    else:
                        scene_prop_slot_016 = scene_prop_get_slot(scp_instance_011,slot_no_015)
                    #end
                    scene_prop_set_slot(scp_instance_011,slot_no_006,scene_prop_slot_016)
                #end
                max_players = get_max_players()
                for player_id_018 in range(0, max_players):
                    if player_is_active(player_id_018):
                        for slot_no_006 in range(50, 60):
                            if player_slot_eq(player_id_018,slot_no_006,scene_prop_slot_014):
                                player_set_slot(player_id_018,slot_no_006,0)
                                multiplayer_send_2_int_to_player(player_id_018,121,slot_no_006,0)
                            #end
                        #end
                    #end
                #end
            #end
        #end
    #end
    if var002 >= 0 and agent_is_human(var001) and agent_is_human(var002):
        agent_team_no_019 = agent_get_team(var002)
        if agent_team_no_019 <= 1:
            team_score_020 = team_get_score(agent_team_no_019)
            if agent_team_no_019 != agent_team_no_003:
                team_score_020 += 1
                team_set_score(agent_team_no_019,team_score_020)
            #end
        #end
    #end
    if multiplayer_is_server() and agent_team_no_003 == 1:
        var021 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_team_no_023 = agent_get_team(cur_agent)
                if agent_team_no_023 == 1:
                    var021 += 1
                #end
            #end
            if var021 > 0:
                pass
            #end
        #end
        if var021 == 0:
            if agent_is_human(var001):
                play_sound(snd.team_scored_a_point)
            #end
        #end
        if _g_multiplayer_ccoop_difficulty != 2 and _g_multiplayer_ccoop_wave_no == _g_mp_coop_last_king_wave:
            _g_multiplayer_ccoop_change_map = 10
            set_cheer_at_no_enemy(1)
            max_players = get_max_players()
            team_faction_024 = team_get_faction(1)
            s0 = str_store_faction_name(team_faction_024)
            var025 = gstr.ccoop_easy
            var025 += _g_multiplayer_ccoop_difficulty
            s1 = str_store_string(var025)
            if is_between(team_faction_024,fac.player_supporters_faction,fac.kingdoms_end):
                reg1 = 0
            else:
                reg1 = 1
            #end
            s2 = str_store_string(gstr.ccoop_s0_enemy_defeated_s1)
            for player_id_018 in range(0, max_players):
                if player_is_active(player_id_018):
                    multiplayer_send_int_to_player(player_id_018,123,var025)
                #end
            #end
        else:
            _g_multiplayer_ccoop_enemy_respawn_secs = 32
            for cur_agent in __all_agents__:
                if agent_is_alive(cur_agent) and agent_is_human(cur_agent):
                    agent_set_hit_points(cur_agent,100)
                    agent_refill_wielded_shield_hit_points(cur_agent)
                    agent_refill_ammo(cur_agent)
                    if agent_is_non_player(cur_agent):
                        agent_group_026 = agent_get_group(cur_agent)
                        if agent_group_026 > -1 and player_is_active(agent_group_026):
                            troop_id_027 = agent_get_troop_id(cur_agent)
                            for slot_no_006 in range(43, 45):
                                player_slot_007 = player_get_slot(agent_group_026,slot_no_006)
                                if troop_id_027 == player_slot_007:
                                    slot_no_006 -= 43
                                    slot_no_006 += 47
                                    player_slot_008 = player_get_slot(agent_group_026,slot_no_006)
                                    player_slot_008 += 1
                                    val_min(player_slot_008,3)
                                    player_set_slot(agent_group_026,slot_no_006,player_slot_008)
                                    multiplayer_send_3_int_to_player(agent_group_026,48,13,slot_no_006,player_slot_008)
                                    if call_script(script.cf_multiplayer_upgrade_companion_equipment,cur_agent):
                                        pass
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
                if True:
                    agent_horse_028 = agent_get_horse(cur_agent)
                    if agent_horse_028 > -1 and agent_is_alive(agent_horse_028):
                        agent_set_hit_points(agent_horse_028,100)
                    #end
                #end
            #end
            if _g_multiplayer_ccoop_difficulty == 2 and _g_multiplayer_ccoop_wave_no == _g_mp_coop_last_king_wave:
                _g_multiplayer_ccoop_enemy_respawn_secs += 10
                max_players = get_max_players()
                team_faction_024 = team_get_faction(1)
                s0 = str_store_faction_name(team_faction_024)
                reg0 = _g_mp_coop_king_waves
                if is_between(team_faction_024,fac.player_supporters_faction,fac.kingdoms_end):
                    reg1 = 0
                else:
                    reg1 = 1
                #end
                s2 = str_store_string(gstr.ccoop_s0_enemy_defeated_endless_reg0)
                for player_id_018 in range(0, max_players):
                    if player_is_active(player_id_018):
                        multiplayer_send_string_to_player(player_id_018,123,-1)
                    #end
                #end
            #end
        #end
    elif multiplayer_is_server() and agent_team_no_003 == 0:
        var021 = 0
        for cur_agent in __all_agents__:
            if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                agent_team_no_023 = agent_get_team(cur_agent)
                if agent_team_no_023 == 0:
                    var021 += 1
                #end
            #end
            if var021 > 0:
                pass
            #end
        #end
        if var021 == 0:
            _g_multiplayer_ccoop_change_map = 5
            set_cheer_at_no_enemy(1)
        elif not multiplayer_is_server() and agent_team_no_003 == 1 and agent_is_human(var001):
            var021 = 0
            for cur_agent in __all_agents__:
                if agent_is_human(cur_agent) and agent_is_alive(cur_agent):
                    agent_team_no_023 = agent_get_team(cur_agent)
                    if agent_team_no_023 == 1:
                        var021 += 1
                    #end
                #end
            #end
            if var021 > 0:
                pass
            #end
        #end
        if var021 == 0:
            play_sound(snd.team_scored_a_point)
        #end
    #end
trigger8.codeBlock = code
multiplayer_ccoop.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    set_cheer_at_no_enemy(0)
trigger9.codeBlock = code
multiplayer_ccoop.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if _g_multiplayer_ccoop_enable_count_down > 0:
        pass
trigger10.conditionBlock = condition

def code():
    if _g_multiplayer_ccoop_change_map > 0:
        if _g_multiplayer_ccoop_change_map == 4:
            multiplayer_ccoop_destroy_prison_cart()
        #end
        _g_multiplayer_ccoop_change_map -= 1
        if _g_multiplayer_ccoop_change_map == 0:
            _g_multiplayer_ccoop_enable_count_down = 0
            _g_round_ended = 1
        elif _g_multiplayer_ccoop_enemy_respawn_secs > 0:
            _g_multiplayer_ccoop_enemy_respawn_secs -= 1
            if _g_multiplayer_ccoop_enemy_respawn_secs > 59:
                var001 = store_mod(_g_multiplayer_ccoop_enemy_respawn_secs,60)
                if var001 == 0:
                    reg0 = _g_multiplayer_ccoop_enemy_respawn_secs / 60
                    if not multiplayer_is_dedicated_server():
                        print(gstr.next_wave_in_reg0_mins,4292764416)
                    #end
                #end
            #end
        #end
        if _g_multiplayer_ccoop_enemy_respawn_secs == 30 and multiplayer_is_server():
            multiplayer_ccoop_give_round_bonus_gold()
            _g_multiplayer_ccoop_wave_no += 1
            multiplayer_ccoop_destroy_prison_cart()
            multiplayer_ccoop_start_player_and_squad_respawn_period(1)
            max_players = get_max_players()
            var003 = _g_multiplayer_ccoop_enemy_respawn_secs - 1
            for player_id_004 in range(1, max_players):
                if player_is_active(player_id_004):
                    multiplayer_send_3_int_to_player(player_id_004,48,3,var003,_g_multiplayer_ccoop_wave_no)
                #end
            #end
            multiplayer_ccoop_prepare_spawn_wave()
            _g_multiplayer_ccoop_next_wave_start_time = store_mission_timer_a()
            _g_multiplayer_ccoop_next_wave_start_time += _g_multiplayer_ccoop_enemy_respawn_secs
            start_presentation(prsnt.multiplayer_ccoop_next_wave_time_counter)
            start_presentation(prsnt.multiplayer_flag_projection_display_ccoop_wave)
        elif _g_multiplayer_ccoop_enemy_respawn_secs < 1 and multiplayer_is_server():
            multiplayer_ccoop_calculate_round_duration()
            multiplayer_ccoop_spawn_wave(1000)
        #end
    #end
trigger10.codeBlock = code
multiplayer_ccoop.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger11.conditionBlock = condition

def code():
    max_players = get_max_players()
    if _g_multiplayer_ccoop_move_prison_cart > 0:
        m_timer_a_002 = store_mission_timer_a()
        var003 = _g_multiplayer_ccoop_move_prison_cart - m_timer_a_002
        if var003 <= 0:
            display_debug_message("@{!}sending prisoner cart 6 feet underground!")
            set_fixed_point_multiplier(100)
            scp_instance_004 = scene_prop_get_instance(spr.prison_cart,0)
            scp_instance_005 = scene_prop_get_instance(spr.prison_cart_door_left,0)
            scp_instance_006 = scene_prop_get_instance(spr.prison_cart_door_right,0)
            pos1 = prop_instance_get_position(scp_instance_004)
            position_set_z(1,-4000)
            prop_instance_set_position(scp_instance_004,1)
            prop_instance_set_position(scp_instance_005,1)
            prop_instance_set_position(scp_instance_006,1)
            _g_multiplayer_ccoop_move_prison_cart = 0
        #end
    elif _g_prison_cart_point > 0:
        scp_instance_005 = scene_prop_get_instance(spr.prison_cart_door_left,0)
        scp_hit_points_007 = scene_prop_get_hit_points(scp_instance_005)
        scp_instance_006 = scene_prop_get_instance(spr.prison_cart_door_right,0)
        scp_hit_points_008 = scene_prop_get_hit_points(scp_instance_006)
        if scp_hit_points_007 >= 1 or scp_hit_points_008 < 1:
            multiplayer_ccoop_destroy_prison_cart()
            multiplayer_ccoop_start_player_and_squad_respawn_period(0)
        #end
        var009 = 0
        for player_id_010 in range(0, max_players):
            if var009 == 0 and player_is_active(player_id_010):
                team_no_011 = player_get_team_no(player_id_010)
                if team_no_011 == 0:
                    agent_id_012 = player_get_agent_id(player_id_010)
                    if agent_id_012 >= 0:
                        if not agent_is_alive(agent_id_012):
                            var009 = 1
                        #end
                    #end
                #end
            else:
                var009 = 1
            #end
        #end
        if var009 == 0:
            multiplayer_ccoop_destroy_prison_cart()
        #end
    else:
        var009 = 0
        for player_id_010 in range(0, max_players):
            if var009 == 0 and player_is_active(player_id_010):
                team_no_011 = player_get_team_no(player_id_010)
                if team_no_011 == 0:
                    agent_id_012 = player_get_agent_id(player_id_010)
                    if agent_id_012 >= 0 and not agent_is_alive(agent_id_012):
                        var009 = 1
                    #end
                #end
            #end
        #end
        if var009 == 1 and _g_multiplayer_ccoop_spawn_alive_player_squad_and_minus_one_first_spawn_slots_and_minus_one_first_spawn_slots == 1 and _g_multiplayer_ccoop_spawn_player_and_squad_counter <= 0 and _g_multiplayer_ccoop_spawn_prison_cart_counter == 0:
            _g_multiplayer_ccoop_spawn_prison_cart_counter = 5
            display_debug_message("@{!}spawn prison cart 5 secs initiated!")
        #end
        if _g_multiplayer_ccoop_spawn_prison_cart_counter > 0:
            _g_multiplayer_ccoop_spawn_prison_cart_counter -= 1
            display_debug_message("@{!}spawn prison cart!")
            if _g_multiplayer_ccoop_spawn_prison_cart_counter == 0:
                multiplayer_ccoop_spawn_prison_cart()
            #end
        #end
    #end
    if multiplayer_is_server() and _g_multiplayer_ccoop_spawn_player_and_squad_counter > 0:
        _g_multiplayer_ccoop_spawn_player_and_squad_counter -= 1
        if _g_multiplayer_ccoop_spawn_player_and_squad_counter < 25:
            max_players = get_max_players()
            for player_id_010 in range(0, max_players):
                if player_is_active(player_id_010):
                    team_no_011 = player_get_team_no(player_id_010)
                    if team_no_011 < 2:
                        agent_id_012 = player_get_agent_id(player_id_010)
                        if agent_id_012 >= 0 or not agent_is_alive(agent_id_012):
                            if True:
                                player_slot_013 = player_get_slot(player_id_010,24)
                                if player_slot_013 == 1:
                                    multiplayer_ccoop_spawn_player_and_bots(player_id_010)
                                    if reg0 == 1:
                                        player_set_slot(player_id_010,24,0)
                                    #end
                                #end
                            #end
                        #end
                    #end
                else:
                    reg0 = _g_multiplayer_ccoop_spawn_alive_player_squad_and_minus_one_first_spawn_slots_and_minus_one_first_spawn_slots
                    display_debug_message("@{!}g multiplayer ccoop spawn alive player squad: {reg0}")
                    if _g_multiplayer_ccoop_spawn_alive_player_squad_and_minus_one_first_spawn_slots_and_minus_one_first_spawn_slots == 1 and not player_is_busy_with_menus(player_id_010):
                        troop_id_014 = player_get_troop_id(player_id_010)
                        if troop_id_014 >= 0:
                            multiplayer_spawn_player_bot_squad_at_point(player_id_010,0,reg0)
                            multiplayer_upgrade_player_equipment(player_id_010)
                            for cur_agent in __all_agents__:
                                if agent_is_active(cur_agent) and agent_is_alive(cur_agent) and agent_is_non_player(cur_agent):
                                    agent_group_016 = agent_get_group(cur_agent)
                                    if agent_group_016 == player_id_010 and call_script(script.cf_multiplayer_upgrade_companion_equipment,cur_agent):
                                        pass
                                    #end
                                #end
                            #end
                        #end
                    #end
                    multiplayer_get_spawn_point_close_to_player(player_id_010)
                #end
            #end
        #end
    #end
trigger11.codeBlock = code
multiplayer_ccoop.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if _g_multiplayer_ccoop_game_started == 0 and multiplayer_is_server():
        pass
trigger12.conditionBlock = condition

def code():
    var001 = 0
    max_players = get_max_players()
    for player_id_003 in range(0, max_players):
        if player_is_active(player_id_003):
            multiplayer_ccoop_spawn_player_and_bots(player_id_003)
            if var001 == 0 and reg0 > 0:
                var001 = 1
            #end
        #end
    #end
    if var001 >= 1:
        _g_multiplayer_ccoop_game_started = 1
        _g_multiplayer_ccoop_enemy_respawn_secs = 31
        _g_multiplayer_ccoop_enable_count_down = 1
        multiplayer_ccoop_start_player_and_squad_respawn_period(1)
    #end
trigger12.codeBlock = code
multiplayer_ccoop.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    _g_multiplayer_game_type_list1 = [
    3,
    2,
    ]
    _g_multiplayer_game_type_list2 = [
    6,
    3,
    2,
    ]
    if multiplayer_is_server():
        var001 = 0
        if _g_multiplayer_game_type == 8:
            if _g_round_ended == 1:
                var001 = 1
            #end
        #end
    elif _g_multiplayer_game_type in _g_multiplayer_game_type_list2:
        if _g_round_ended == 1:
            m_timer_a_002 = store_mission_timer_a()
            m_timer_a_002 -= _g_round_finish_time
            var003 = _g_multiplayer_respawn_period - 1
            if m_timer_a_002 >= var003:
                m_timer_a_004 = store_mission_timer_a()
                if _g_multiplayer_game_type in _g_multiplayer_game_type_list1:
                    var005 = 90
                else:
                    var005 = 120
                #end
            #end
            var006 = _g_multiplayer_game_max_minutes * 60
            var007 = var006 - var005
            if m_timer_a_004 > var007:
                var001 = 1
            #end
        #end
        if var001 == 1:
            pass
        elif _g_multiplayer_game_type != 2 and _g_multiplayer_game_type != 3 and _g_multiplayer_game_type != 6 and _g_multiplayer_game_type != 5:
            m_timer_a_004 = store_mission_timer_a()
            var006 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_004 > var006:
                var001 = 1
            else:
                team_score_008 = team_get_score(0)
                team_score_009 = team_get_score(1)
                if _g_multiplayer_game_type != 5:
                    if team_score_008 >= _g_multiplayer_game_max_points or team_score_009 >= _g_multiplayer_game_max_points:
                        var001 = 1
                    #end
                #end
            #end
        else:
            var010 = 0
            max_players = get_max_players()
            for player_id_012 in range(0, max_players):
                if player_is_active(player_id_012):
                    agent_id_013 = player_get_agent_id(player_id_012)
                    if agent_id_013 >= 0 and not agent_is_non_player(agent_id_013):
                        var010 = 1
                        max_players = 0
                    #end
                #end
            #end
            if var010 == 1 and team_score_008 > 0 or team_score_009 <= 0:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger13.codeBlock = code
multiplayer_ccoop.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
    #end
trigger14.codeBlock = code
multiplayer_ccoop.add_trigger(trigger14)
# trigger 15
trigger15 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger15.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger15.codeBlock = code
multiplayer_ccoop.add_trigger(trigger15)
# trigger 16
trigger16 = Trigger(-24.000000, 0.000000, 0.000000)
def condition():
    pass
trigger16.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_flag_projection_display_ccoop)
    start_presentation(prsnt.multiplayer_flag_projection_display_ccoop_wave)
    start_presentation(prsnt.multiplayer_ccoop_next_wave_time_counter)
trigger16.codeBlock = code
multiplayer_ccoop.add_trigger(trigger16)
# trigger 17
trigger17 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger17.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart_deathmatch) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger17.codeBlock = code
multiplayer_ccoop.add_trigger(trigger17)
# trigger 18
trigger18 = Trigger(-28.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger18.conditionBlock = condition

def code(agent_id_001, var002, var003):
    troop_id_004_list2 = [
    trp.sea_raider_leader,
    trp.sea_raider,
    ]
    if multiplayer_is_server():
        troop_id_004 = agent_get_troop_id(agent_id_001)
        if is_between(troop_id_004,trp.knight_1_1,trp.kingdom_1_pretender) or is_between(troop_id_004,trp.kingdom_1_lord,trp.knight_1_1):
            random_x_005 = store_random_in_range(0,10)
            if random_x_005 == 0:
                pos60 = agent_get_position(var002)
                multiplayer_server_play_sound_at_position(snd.ccoop_nobleman_taunt)
            #end
        #end
    elif is_between(troop_id_004,trp.npc1_1,trp.npc1_2):
        random_x_005 = store_random_in_range(0,30)
        if random_x_005 == 0:
            pos60 = agent_get_position(var002)
            random_x_006 = store_random_in_range(snd.ccoop_spawn_companion_0,snd.ccoop_nobleman_taunt)
            multiplayer_server_play_sound_at_position(random_x_006)
        #end
    elif troop_id_004 in troop_id_004_list2:
        random_x_005 = store_random_in_range(0,30)
        if random_x_005 == 0:
            pos60 = agent_get_position(var002)
            random_x_006 = store_random_in_range(snd.ccoop_sea_raider_taunt_0,snd.sounds_end)
            multiplayer_server_play_sound_at_position(random_x_006)
        #end
    elif troop_id_004 == trp.looter:
        random_x_005 = store_random_in_range(0,20)
        if random_x_005 == 0:
            pos60 = agent_get_position(var002)
            random_x_006 = store_random_in_range(snd.ccoop_looter_taunt_0,snd.ccoop_bandit_taunt_0)
            multiplayer_server_play_sound_at_position(random_x_006)
        #end
    elif is_between(troop_id_004,trp.bandit,trp.black_khergit_horseman):
        random_x_005 = store_random_in_range(0,60)
        if random_x_005 == 0:
            pos60 = agent_get_position(var002)
            random_x_006 = store_random_in_range(snd.ccoop_bandit_taunt_0,snd.ccoop_sea_raider_taunt_0)
            multiplayer_server_play_sound_at_position(random_x_006)
        #end
    #end
    if reg0 == itm.knockdown_mace and agent_is_human(agent_id_001):
        agent_horse_007 = agent_get_horse(agent_id_001)
        if agent_horse_007 <= -1:
            agent_set_animation(agent_id_001,anim.strike_fall_back_rise)
        elif reg0 == itm.blood_drain_throwing_knives:
            agent_hit_points_008 = store_agent_hit_points(var002,1)
            agent_hit_points_008 += var003
            agent_set_hit_points(var002,agent_hit_points_008,1)
            agent_hit_points_008 = store_agent_hit_points(var002,0)
            if agent_hit_points_008 >= 100:
                agent_set_hit_points(var002,agent_hit_points_008,100)
            elif reg0 == itm.instakill_knife:
                agent_set_hit_points(agent_id_001,0)
            elif reg0 == itm.backstabber:
                if True:
                    agent_action_direction_009 = agent_get_action_dir(var002)
                    if agent_action_direction_009 == 0:
                        pos0 = agent_get_position(agent_id_001)
                        pos1 = agent_get_position(var002)
                        if position_is_behind_position(1,0):
                            agent_set_hit_points(agent_id_001,0)
                        #end
                    #end
                #end
            #end
        #end
    elif reg0 == itm.disarming_throwing_axe:
        if agent_is_human(agent_id_001):
            for var010 in range(0, 2):
                agent_wieled_item_011 = agent_get_wielded_item(agent_id_001,var010)
                if agent_wieled_item_011 != -1:
                    agent_unequip_item(agent_id_001,agent_wieled_item_011)
                    pos0 = agent_get_position(agent_id_001)
                    set_spawn_position(0)
                    spawn_item(agent_wieled_item_011)
                #end
            #end
        #end
    elif reg0 == -1:
        if agent_is_human(var002) and agent_is_human(agent_id_001):
            agent_item_slot_012 = agent_get_item_slot(var002,6)
            if agent_item_slot_012 == itm.kicking_boots:
                agent_hit_points_008 = store_agent_hit_points(agent_id_001,1)
                reg2 = agent_hit_points_008
                val_max(var003,2)
                var003 *= 6
                agent_hit_points_008 -= var003
                val_max(agent_hit_points_008,0)
                agent_set_hit_points(agent_id_001,agent_hit_points_008,1)
                agent_horse_007 = agent_get_item_id(agent_id_001)
                if agent_horse_007 == -1:
                    agent_set_animation(agent_id_001,anim.strike_fall_back_rise)
                #end
            #end
        #end
    elif reg0 == itm.doom_javelins:
        agent_slot_013 = agent_get_slot(agent_id_001,27)
        agent_slot_013 += 1
        agent_set_slot(agent_id_001,27,agent_slot_013)
    elif reg0 == itm.team_change_dart:
        if agent_is_non_player(agent_id_001):
            agent_team_no_014 = agent_get_team(agent_id_001)
            var015 = 0
            for cur_agent in __all_agents__:
                if cur_agent != agent_id_001 and agent_is_active(cur_agent) and agent_is_alive(cur_agent) and agent_is_human(cur_agent):
                    agent_team_no_017 = agent_get_team(cur_agent)
                    if agent_team_no_017 == 1:
                        var015 = 1
                    #end
                #end
            #end
            if var015 == 1:
                if agent_team_no_014 == 0:
                    agent_set_team(agent_id_001,1)
                elif agent_team_no_014 == 1:
                    agent_set_team(agent_id_001,0)
                #end
            #end
            if agent_is_non_player(var002):
                agent_group_018 = agent_get_group(var002)
            else:
                agent_group_018 = agent_get_player_id(var002)
            #end
            if player_is_active(agent_group_018):
                agent_set_group(agent_id_001,agent_group_018)
            #end
            agent_team_no_019 = agent_get_team(agent_id_001)
            max_players = get_max_players()
            for player_id_021 in range(1, max_players):
                if player_is_active(player_id_021):
                    multiplayer_send_4_int_to_player(player_id_021,48,18,agent_id_001,agent_team_no_019,var002)
                #end
            #end
            agent_force_rethink(agent_id_001)
        #end
    elif reg0 == itm.weak_beserker_dart:
        agent_ai_set_aggressiveness(agent_id_001,1000)
        agent_set_speed_modifier(agent_id_001,150)
        agent_set_damage_modifier(agent_id_001,200)
        agent_set_hit_points(agent_id_001,10,0)
    #end
trigger18.codeBlock = code
multiplayer_ccoop.add_trigger(trigger18)
# trigger 19
trigger19 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    if multiplayer_is_server():
        pass
trigger19.conditionBlock = condition

def code():
    if multiplayer_is_server():
        for cur_agent in __all_agents__:
            if agent_is_active(cur_agent) and agent_is_alive(cur_agent) and agent_is_human(cur_agent):
                agent_item_slot_002 = agent_get_item_slot(cur_agent,5)
                if agent_item_slot_002 == itm.restore_health_armour:
                    agent_hit_points_003 = store_agent_hit_points(cur_agent,1)
                    agent_hit_points_003 += 5
                    agent_set_hit_points(cur_agent,agent_hit_points_003,1)
                    agent_hit_points_003 = store_agent_hit_points(cur_agent,0)
                    val_min(agent_hit_points_003,100)
                    agent_set_hit_points(cur_agent,agent_hit_points_003,0)
                #end
            #end
        #end
        agent_slot_004 = agent_get_slot(cur_agent,27)
        if agent_slot_004 > 0:
            reg1 = agent_slot_004
            var005 = agent_slot_004 * 5
            agent_hit_points_003 = store_agent_hit_points(cur_agent,1)
            reg2 = agent_hit_points_003
            agent_hit_points_003 -= var005
            val_max(agent_hit_points_003,0)
            agent_set_hit_points(cur_agent,agent_hit_points_003,1)
            if agent_hit_points_003 == 0:
                agent_deliver_damage_to_agent(cur_agent,cur_agent,1)
            #end
        #end
    #end
trigger19.codeBlock = code
multiplayer_ccoop.add_trigger(trigger19)


bandit_lair = MissionTemplate("bandit_lair", missionType=8, description="Ambushing a bandit lair")
bandit_lair.add_flag(MissionTemplateFlag.BATTLE_MODE)
bandit_lair.add_flag(MissionTemplateFlag.SYNCH_INVENTORY)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=7)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=20)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=20)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=20)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=20)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_1)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr4.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=20)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_1)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr5.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=20)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_1)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr6.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=20)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_1)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr7.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=20)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_1)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr8.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=20)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_1)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr9.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=20)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_1)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr10.add_ai_flag(AIFlag.START_ALARMED)
bandit_lair.addSpawnRecord(sr10)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
bandit_lair.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
bandit_lair.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    _relative_of_merchant_is_found = 0
    if agent_is_human(var001) and agent_is_alive(var001):
        agent_team_no_002 = agent_get_team(var001)
        if agent_team_no_002 == 1:
            pos4 = agent_get_position(var001)
            agent_set_scripted_destination(var001,4,1)
        #end
    #end
    if True:
        troop_id_003 = agent_get_troop_id(var001)
        if is_between(troop_id_003,trp.relative_of_merchant,trp.relative_of_merchants_end):
            agent_set_team(var001,7)
            team_set_relation(0,7,0)
        #end
    #end
trigger2.codeBlock = code
bandit_lair.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if party_template_id_001 == pt.looter_lair and check_quest_active(qst.save_relative_of_merchant) and _relative_of_merchant_is_found == 0:
        party_template_id_001 = party_get_template_id(_g_encountered_party)
trigger3.conditionBlock = condition

def code():
    party_template_id_001 = get_player_agent_no()
    pos0 = agent_get_position(party_template_id_001)
    for cur_agent in __all_agents__:
        troop_id_003 = agent_get_troop_id(cur_agent)
        if is_between(troop_id_003,trp.relative_of_merchant,trp.relative_of_merchants_end):
            agent_set_scripted_destination(cur_agent,0)
            pos1 = agent_get_position(cur_agent)
            distance_004 = get_distance_between_positions(0,1)
            if distance_004 <= 200:
                start_mission_conversation(trp.relative_of_merchant)
            #end
        #end
    #end
trigger3.codeBlock = code
bandit_lair.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
bandit_lair.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    _defender_reinforcement_stage = 0
    _bandits_spawned_extra = 0
trigger5.codeBlock = code
bandit_lair.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    for cur_agent in __all_agents__:
        if agent_is_alive(cur_agent):
            agent_team_no_002 = agent_get_team(cur_agent)
            if agent_team_no_002 == 1 and agent_is_in_special_mode(cur_agent) and agent_is_human(cur_agent):
                pos0 = agent_get_position(cur_agent)
                for cur_agent in __all_agents__:
                    if agent_is_alive(cur_agent):
                        agent_team_no_004 = agent_get_team(cur_agent)
                        if agent_team_no_004 == 0 and agent_is_human(cur_agent):
                            agent_hit_points_005 = store_agent_hit_points(cur_agent)
                            var006 = 0
                            if agent_hit_points_005 < 100:
                                for cur_agent in __all_agents__:
                                    if agent_is_alive(cur_agent):
                                        agent_team_no_008 = agent_get_team(cur_agent)
                                        if agent_team_no_008 == 1 and False and agent_is_in_special_mode(cur_agent) and agent_is_human(cur_agent):
                                            pos1 = agent_get_position(cur_agent)
                                            pos2 = agent_get_position(cur_agent)
                                            distance_009 = get_distance_between_positions(1,2)
                                            if distance_009 <= 1000:
                                                agent_clear_scripted_mode(cur_agent)
                                            #end
                                        #end
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
                var006 = 1
            else:
                pos1 = agent_get_position(cur_agent)
                pos2 = agent_get_position(cur_agent)
                distance_009 = get_distance_between_positions(1,2)
                if distance_009 <= 4000:
                    for cur_agent in __all_agents__:
                        if agent_is_alive(cur_agent):
                            agent_team_no_008 = agent_get_team(cur_agent)
                            if agent_team_no_008 == 1 and False and agent_is_in_special_mode(cur_agent) and agent_is_human(cur_agent):
                                pos1 = agent_get_position(cur_agent)
                                pos2 = agent_get_position(cur_agent)
                                distance_009 = get_distance_between_positions(1,2)
                                if distance_009 <= 1000:
                                    agent_clear_scripted_mode(cur_agent)
                                #end
                            #end
                        #end
                    #end
                #end
                var006 = 1
            #end
            if var006 == 1:
                agent_clear_scripted_mode(cur_agent)
            #end
        #end
    #end
trigger6.codeBlock = code
bandit_lair.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(30.000000, 0.000000, 0.000000)
def condition():
    if _defender_reinforcement_stage <= 1:
        pass
trigger7.conditionBlock = condition

def code():
    character_lvl_001 = store_character_level(trp.player)
    var002 = 5 + character_lvl_001
    var002 /= 3
    if _bandits_spawned_extra < var002:
        _bandits_spawned_extra += 1
        party_template_id_003 = party_get_template_id(_g_encountered_party)
        random_x_004 = store_random_in_range(0,2)
        if party_template_id_003 == pt.sea_raider_lair and random_x_004 == 0:
            troop_id_005 = trp.sea_raider
        elif party_template_id_003 == pt.forest_bandit_lair and random_x_004 == 0:
            troop_id_005 = trp.forest_bandit
        elif party_template_id_003 == pt.desert_bandit_lair and random_x_004 == 0:
            troop_id_005 = trp.desert_bandit
        elif party_template_id_003 == pt.mountain_bandit_lair and random_x_004 == 0:
            troop_id_005 = trp.mountain_bandit
        elif party_template_id_003 == pt.taiga_bandit_lair and random_x_004 == 0:
            troop_id_005 = trp.taiga_bandit
        elif party_template_id_003 == pt.steppe_bandit_lair and random_x_004 == 0:
            troop_id_005 = trp.steppe_bandit
        elif party_template_id_003 == pt.looter_lair or random_x_004 != 0:
            troop_id_005 = trp.looter
        #end
    #end
    cur_scene_006 = store_current_scene()
    modify_visitors_at_site(cur_scene_006)
    random_x_007 = store_random_in_range(2,11)
    add_visitors_to_current_scene(random_x_007,troop_id_005,1)
trigger7.codeBlock = code
bandit_lair.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code(var001, var002):
    if var001 >= 0 and agent_is_human(var001):
        troop_id_003 = agent_get_troop_id(var001)
        s6 = str_store_troop_name(troop_id_003)
        if not agent_is_ally(var001):
            party_add_members(p.total_enemy_casualties,troop_id_003,1)
            if var002 == 1:
                party_wound_members(p.total_enemy_casualties,troop_id_003,1)
            #end
        #end
        party_add_members(p.temp_casualties,troop_id_003,1)
        if var002 == 1:
            party_wound_members(p.temp_casualties,troop_id_003,1)
        #end
    #end
    var004 = 0
    for cur_agent in __all_agents__:
        if agent_is_non_player(cur_agent) and agent_is_human(cur_agent) and agent_is_alive(cur_agent) and not agent_is_ally(cur_agent):
            var004 += 1
        #end
    #end
    if var004 <= 2 and _defender_reinforcement_stage <= 1:
        _defender_reinforcement_stage += 1
        character_lvl_006 = store_character_level(trp.player)
        var007 = 5 + character_lvl_006
        var007 /= 3
        if _defender_reinforcement_stage >= 2:
            var007 -= _bandits_spawned_extra
        #end
        party_template_id_008 = party_get_template_id(_g_encountered_party)
        random_x_009 = store_random_in_range(0,2)
        if party_template_id_008 == pt.sea_raider_lair and random_x_009 == 0:
            troop_id_010 = trp.sea_raider
        elif party_template_id_008 == pt.forest_bandit_lair and random_x_009 == 0:
            troop_id_010 = trp.forest_bandit
        elif party_template_id_008 == pt.desert_bandit_lair and random_x_009 == 0:
            troop_id_010 = trp.desert_bandit
        elif party_template_id_008 == pt.mountain_bandit_lair and random_x_009 == 0:
            troop_id_010 = trp.mountain_bandit
        elif party_template_id_008 == pt.taiga_bandit_lair and random_x_009 == 0:
            troop_id_010 = trp.taiga_bandit
        elif party_template_id_008 == pt.steppe_bandit_lair and random_x_009 == 0:
            troop_id_010 = trp.steppe_bandit
        elif party_template_id_008 == pt.looter_lair or random_x_009 != 0:
            troop_id_010 = trp.looter
        #end
        cur_scene_011 = store_current_scene()
        modify_visitors_at_site(cur_scene_011)
        for var012 in range(0, var007):
            random_x_013 = store_random_in_range(2,11)
            add_visitors_to_current_scene(random_x_013,troop_id_010,1)
        #end
    #end
trigger8.codeBlock = code
bandit_lair.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    music_set_situation_with_culture(4096)
    set_party_battle_mode()
trigger9.codeBlock = code
bandit_lair.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(2.000000, 0.000000, 100000000.000000)
def condition():
    if not main_hero_fallen() and num_active_teams_le(1):
        pass
trigger10.conditionBlock = condition

def code():
    party_template_id_001 = party_get_template_id(_g_encountered_party)
    if party_template_id_001 == pt.looter_lair and check_quest_active(qst.save_relative_of_merchant):
        party_faction_002 = store_faction_of_party(_g_starting_town)
        if party_faction_002 == fac.kingdom_1:
            troop_id_003 = trp.relative_of_merchant
        elif party_faction_002 == fac.kingdom_2:
            troop_id_003 = trp.relative_of_merchant
        elif party_faction_002 == fac.kingdom_3:
            troop_id_003 = trp.relative_of_merchant
        elif party_faction_002 == fac.kingdom_4:
            troop_id_003 = trp.relative_of_merchant
        elif party_faction_002 == fac.kingdom_5:
            troop_id_003 = trp.relative_of_merchant
        elif party_faction_002 == fac.kingdom_6:
            troop_id_003 = trp.relative_of_merchant
        #end
        agent_no_004 = get_player_agent_no()
        pos0 = agent_get_position(agent_no_004)
        var005 = 100000
        for var006 in range(1, 10):
            pos1 = entry_point_get_position(var006)
            distance_007 = get_distance_between_positions(0,1)
            if distance_007 <= var005 and distance_007 >= 1000:
                entry_no_008 = var006
                var005 = distance_007
            #end
        #end
        add_visitors_to_current_scene(entry_no_008,troop_id_003,1,0)
    #end
trigger10.codeBlock = code
bandit_lair.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if game_key_clicked(22) and not is_presentation_active(prsnt.battle):
        start_presentation(prsnt.battle)
trigger11.codeBlock = code
bandit_lair.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.100000, 0.000000, 0.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    if is_presentation_active(prsnt.battle):
        update_order_panel_statistics_and_map()
trigger12.codeBlock = code
bandit_lair.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    var001 = 0
    party_template_id_002 = party_get_template_id(_g_encountered_party)
    if party_template_id_002 == pt.looter_lair and check_quest_active(qst.save_relative_of_merchant) and main_hero_fallen() or _relative_of_merchant_is_found == 1:
        var001 = 1
    elif party_template_id_002 == pt.looter_lair or not check_quest_active(qst.save_relative_of_merchant):
        m_timer_a_003 = store_mission_timer_a()
        if m_timer_a_003 >= 5 and main_hero_fallen() or num_active_teams_le(1):
            var001 = 1
            if var001 == 1:
                pass
            #end
        #end
    #end
trigger13.conditionBlock = condition

def code():
    if main_hero_fallen():
        pass
    else:
        party_set_slot(_g_encountered_party,8,2)
    #end
    finish_mission()
trigger13.codeBlock = code
bandit_lair.add_trigger(trigger13)


alley_fight = MissionTemplate("alley_fight", missionType=8, description="Alley fight")
alley_fight.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=7)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_spawn_flag(SpawnFlag.USE_EXACT_NUMBER)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr0.add_ai_flag(AIFlag.START_ALARMED)
alley_fight.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=20)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_1)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr1.add_ai_flag(AIFlag.START_ALARMED)
alley_fight.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=20)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_1)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr2.add_ai_flag(AIFlag.START_ALARMED)
alley_fight.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=20)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_1)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr3.add_ai_flag(AIFlag.START_ALARMED)
alley_fight.addSpawnRecord(sr3)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
alley_fight.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cant_use_inventory_now)
trigger1.conditionBlock = condition

def code():
    pass
trigger1.codeBlock = code
alley_fight.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    agent_no_002 = get_player_agent_no()
    if var001 != agent_no_002:
        _g_main_attacker_agent = var001
        agent_ai_set_aggressiveness(var001,199)
        if True:
            troop_id_003 = agent_get_troop_id(var001)
            if is_between(troop_id_003,trp.swadian_merchant,trp.startup_merchants_end):
                agent_set_team(var001,7)
                team_set_relation(0,7,0)
            #end
        #end
    #end
trigger2.codeBlock = code
alley_fight.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    if _talked_with_merchant == 0:
        pass
trigger3.conditionBlock = condition

def code():
    agent_no_001 = get_player_agent_no()
    pos0 = agent_get_position(agent_no_001)
    for cur_agent in __all_agents__:
        troop_id_003 = agent_get_troop_id(cur_agent)
        if is_between(troop_id_003,trp.swadian_merchant,trp.startup_merchants_end):
            agent_set_scripted_destination(cur_agent,0)
            pos1 = agent_get_position(cur_agent)
            distance_004 = get_distance_between_positions(0,1)
            if distance_004 <= 200:
                _talk_context = 11
                start_mission_conversation(troop_id_003)
            #end
        #end
    #end
trigger3.codeBlock = code
alley_fight.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    agent_no_001 = get_player_agent_no()
    if _g_main_attacker_agent >= 0 and agent_no_001 >= 0 and agent_is_active(_g_main_attacker_agent) and agent_is_active(agent_no_001):
        pos0 = agent_get_position(agent_no_001)
        pos1 = agent_get_position(_g_main_attacker_agent)
        distance_002 = get_distance_between_positions(0,1)
        if distance_002 >= 5:
            agent_set_scripted_destination(_g_main_attacker_agent,0)
trigger4.codeBlock = code
alley_fight.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    print(gstr.cannot_leave_now)
trigger5.codeBlock = code
alley_fight.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    music_set_situation_with_culture(4096)
    set_party_battle_mode()
trigger6.codeBlock = code
alley_fight.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    if not main_hero_fallen() and num_active_teams_le(1):
        pass
trigger7.conditionBlock = condition

def code():
    party_faction_001 = store_faction_of_party(_g_starting_town)
    if party_faction_001 == fac.kingdom_1:
        troop_id_002 = trp.swadian_merchant
    elif party_faction_001 == fac.kingdom_2:
        troop_id_002 = trp.vaegir_merchant
    elif party_faction_001 == fac.kingdom_3:
        troop_id_002 = trp.khergit_merchant
    elif party_faction_001 == fac.kingdom_4:
        troop_id_002 = trp.nord_merchant
    elif party_faction_001 == fac.kingdom_5:
        troop_id_002 = trp.rhodok_merchant
    elif party_faction_001 == fac.kingdom_6:
        troop_id_002 = trp.sarranid_merchant
    #end
    add_visitors_to_current_scene(3,troop_id_002,1,0)
trigger7.codeBlock = code
alley_fight.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    if _talked_with_merchant == 1:
        pass
trigger8.conditionBlock = condition

def code():
    if main_hero_fallen():
        _g_killed_first_bandit = 0
    else:
        _g_killed_first_bandit = 1
    #end
    finish_mission()
    _g_main_attacker_agent = 0
    _talked_with_merchant = 1
    _current_startup_quest_phase = 1
    change_screen_return()
    set_trigger_result(1)
    agent_no_001 = get_player_agent_no()
    agent_hit_points_002 = store_agent_hit_points(agent_no_001)
    if agent_hit_points_002 < 90:
        agent_set_hit_points(agent_no_001,90)
    #end
trigger8.codeBlock = code
alley_fight.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(1.000000, 3.000000, 100000000.000000)
def condition():
    if main_hero_fallen():
        pass
trigger9.conditionBlock = condition

def code():
    if main_hero_fallen():
        _g_killed_first_bandit = 0
    else:
        _g_killed_first_bandit = 1
    #end
    finish_mission()
    _g_main_attacker_agent = 0
    _talked_with_merchant = 1
    _current_startup_quest_phase = 1
    change_screen_return()
    set_trigger_result(1)
    agent_no_001 = get_player_agent_no()
    agent_hit_points_002 = store_agent_hit_points(agent_no_001)
    if agent_hit_points_002 < 90:
        agent_set_hit_points(agent_no_001,90)
    #end
trigger9.codeBlock = code
alley_fight.add_trigger(trigger9)


meeting_merchant = MissionTemplate("meeting_merchant", description="Meeting with the merchant")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
meeting_merchant.addSpawnRecord(sr9)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    if True:
        troop_id_002 = agent_get_troop_id(var001)
        if is_between(troop_id_002,trp.swadian_merchant,trp.startup_merchants_end):
            agent_set_team(var001,7)
            team_set_relation(0,7,0)
        #end
    #end
trigger0.codeBlock = code
meeting_merchant.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code():
    _dialog_with_merchant_ended = 0
    cur_scene_001 = store_current_scene()
    scene_set_slot(cur_scene_001,0,1)
    if _sneaked_into_town == 1:
        music_set_situation_with_culture(16384)
    elif _talk_context == 14:
        music_set_situation_with_culture(512)
    else:
        music_set_situation_with_culture(8192)
    #end
trigger1.codeBlock = code
meeting_merchant.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    var001 = 0
    if _dialog_with_merchant_ended >= 6:
        var001 = 1
    elif _dialog_with_merchant_ended >= 1 and not conversation_screen_is_active():
        if _dialog_with_merchant_ended == 1 and check_quest_active(qst.collect_men):
            dialog_box(gstr.start_up_first_quest,"@Tutorial")
        #end
        _dialog_with_merchant_ended += 1
        var001 = 0
    #end
    if conversation_screen_is_active():
        tutorial_message(-1)
        var001 = 0
    #end
    if var001 == 1:
        pass
    #end
trigger2.conditionBlock = condition

def code():
    tutorial_message_set_size(17,17)
    tutorial_message_set_position(500,650)
    tutorial_message_set_center_justify(0)
    tutorial_message_set_background(1)
    tutorial_message(gstr.press_tab_to_exit_from_town)
trigger2.codeBlock = code
meeting_merchant.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
meeting_merchant.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    set_trigger_result(1)
trigger4.conditionBlock = condition

def code():
    pass
trigger4.codeBlock = code
meeting_merchant.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    if _dialog_with_merchant_ended > 0 or True: # Johandros hack
        var001 = 0
        pos1 = party_get_position(_current_town)
        for var002 in range(0, 10):
            map_get_random_position_around_position(pos0,1,2)
            distance_003 = get_distance_between_positions(0,1)
            if distance_003 >= var001:
                var001 = distance_003
                copy_position(2,0)
            #end
        #end
        party_set_position(p.main_party,2)
        finish_mission()
        _current_startup_quest_phase = 2
        tutorial_message(-1)
        tutorial_message_set_background(0)
        change_screen_map()
        if check_quest_finished(qst.save_town_from_bandits):
            _g_do_one_more_meeting_with_merchant = 1
        else:
            set_spawn_radius(50)
            for var002 in range(0, 20):
                spawn_around_party(p.main_party,pt.looters)
            #end
        #end
        set_trigger_result(1)
    else:
        print(gstr.cannot_leave_now)
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
meeting_merchant.add_trigger(trigger5)


town_fight = MissionTemplate("town_fight", description="Town Fight")
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.SCENE_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_1)
sr11.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_1)
sr12.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_1)
sr13.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_1)
sr21.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_1)
sr22.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_0)
sr32.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_0)
sr33.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_0)
sr34.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_0)
sr35.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_0)
sr36.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_0)
sr37.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_0)
sr38.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_0)
sr39.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
town_fight.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr40.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr41.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr42.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr43.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr44.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr45.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr46.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_alter_flag(AlterFlag.OVERRIDE_HORSE)
sr47.add_ai_flag(AIFlag.START_ALARMED)
town_fight.addSpawnRecord(sr47)
# ---
# trigger 0
trigger0 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger0.conditionBlock = condition

def code(var001):
    troop_id_002 = agent_get_troop_id(var001)
    troop_agent_set_banner(tableau.game_troop_label_banner,var001,troop_id_002)
trigger0.codeBlock = code
town_fight.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    agent_set_team(var001,0)
trigger1.codeBlock = code
town_fight.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code():
    mission_disable_talk()
    _g_main_attacker_agent = 0
    set_party_battle_mode()
    _number_of_bandits_killed_by_player = 0
    _number_of_civilian_loses = 0
    set_fixed_point_multiplier(100)
trigger2.codeBlock = code
town_fight.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(1.000000, 0.000000, 100000000.000000)
def condition():
    init_town_walker_agents()
trigger3.conditionBlock = condition

def code():
    pass
trigger3.codeBlock = code
town_fight.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code(var001, var002):
    if True:
        agent_team_no_003 = agent_get_team(var001)
        if agent_team_no_003 == 1:
            agent_no_004 = get_player_agent_no()
            if agent_no_004 == var002:
                _number_of_bandits_killed_by_player += 1
            elif agent_team_no_003 == 0:
                _number_of_civilian_loses += 1
            #end
        #end
    #end
trigger4.codeBlock = code
town_fight.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    if _merchant_sign_count < 8:
        _merchant_sign_count += 1
        if _merchant_sign_count == 2:
            agent_no_001 = get_player_agent_no()
            for cur_agent in __all_agents__:
                troop_id_003 = agent_get_troop_id(cur_agent)
                if troop_id_003 >= trp.swadian_merchant and troop_id_003 < trp.startup_merchants_end:
                    _g_city_merchant_troop_id = troop_id_003
                    _g_city_merchant_agent_id = cur_agent
                    pos0 = agent_get_position(agent_no_001)
                    pos1 = agent_get_position(cur_agent)
                    var004 = -1000
                    for var005 in range(0, 64):
                        pos6 = entry_point_get_position(var005)
                        distance_006 = get_distance_between_positions(0,6)
                        distance_007 = get_distance_between_positions(1,6)
                        var008 = distance_007 - distance_006
                        if distance_007 >= 15 and var008 >= var004:
                            copy_position(2,6)
                            var004 = var008
                        #end
                    #end
                #end
            #end
            agent_set_scripted_destination(cur_agent,2,0)
            agent_set_speed_limit(cur_agent,10)
        #end
    elif _merchant_sign_count == 5:
        agent_no_001 = get_player_agent_no()
        pos0 = agent_get_position(agent_no_001)
        agent_set_scripted_destination(_g_city_merchant_agent_id,0,0)
        agent_set_speed_limit(_g_city_merchant_agent_id,10)
    elif _merchant_sign_count == 7:
        agent_clear_scripted_mode(_g_city_merchant_agent_id)
        _talk_context = 0
        start_mission_conversation(_g_city_merchant_troop_id)
    #end
trigger5.conditionBlock = condition

def code():
    pass
trigger5.codeBlock = code
town_fight.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code():
    if _merchant_sign_count >= 8:
        agent_no_001 = get_player_agent_no()
        for cur_agent in __all_agents__:
            if cur_agent != agent_no_001 and agent_is_alive(cur_agent):
                agent_team_no_003 = agent_get_team(cur_agent)
                if agent_team_no_003 == 0:
                    pos0 = agent_get_position(cur_agent)
                    var004 = 10000
                    for cur_agent in __all_agents__:
                        if agent_is_alive(cur_agent):
                            agent_team_no_006 = agent_get_team(cur_agent)
                            if agent_team_no_006 == 1:
                                pos1 = agent_get_position(cur_agent)
                                distance_007 = get_distance_between_positions(0,1)
                                if distance_007 <= var004:
                                    var004 = distance_007
                                    copy_position(2,1)
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        reg1 = distance_007
        if var004 <= 500:
            agent_clear_scripted_mode(cur_agent)
        elif var004 < 10000:
            agent_set_scripted_destination(cur_agent,2,0)
        #end
    #end
trigger6.codeBlock = code
town_fight.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(3.000000, 0.000000, 0.000000)
def condition():
    if _merchant_sign_count < 8:
        tick_town_walkers()
trigger7.conditionBlock = condition

def code():
    pass
trigger7.codeBlock = code
town_fight.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(2.000000, 0.000000, 0.000000)
def condition():
    center_ambiance_sounds()
trigger8.conditionBlock = condition

def code():
    pass
trigger8.codeBlock = code
town_fight.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    change_banners_and_chest()
trigger9.codeBlock = code
town_fight.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 4.000000, 100000000.000000)
def condition():
    if main_hero_fallen() or num_active_teams_le(1) and _merchant_sign_count >= 8:
        pass
trigger10.conditionBlock = condition

def code():
    if main_hero_fallen():
        _g_killed_first_bandit = 0
    else:
        _g_killed_first_bandit = 1
    #end
    _current_startup_quest_phase = 4
    mission_enable_talk()
    finish_mission()
    unlock_achievement(6)
    change_screen_return()
    set_trigger_result(1)
trigger10.codeBlock = code
town_fight.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(-22.000000, 0.000000, 0.000000)
def condition():
    if _g_mt_mode == 0:
        set_trigger_result(1)
    elif _g_mt_mode == 1:
        print(gstr.cant_use_inventory_disguised)
    else:
        print(gstr.cant_use_inventory_now)
    #end
trigger11.conditionBlock = condition

def code():
    pass
trigger11.codeBlock = code
town_fight.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    print(gstr.cannot_leave_now)
trigger12.conditionBlock = condition

def code():
    pass
trigger12.codeBlock = code
town_fight.add_trigger(trigger12)


multiplayer_duel = MissionTemplate("multiplayer_duel", description="You lead your men to battle.")
multiplayer_duel.add_flag(MissionTemplateFlag.BATTLE_MODE)
# ---
# spawn record 0
sr0 = SpawnRecord(entry_no=0, number_of_troops=1)
sr0.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr0.add_spawn_flag(SpawnFlag.TEAM_0)
sr0.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr0)
# spawn record 1
sr1 = SpawnRecord(entry_no=1, number_of_troops=1)
sr1.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr1.add_spawn_flag(SpawnFlag.TEAM_0)
sr1.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr1)
# spawn record 2
sr2 = SpawnRecord(entry_no=2, number_of_troops=1)
sr2.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr2.add_spawn_flag(SpawnFlag.TEAM_0)
sr2.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr2)
# spawn record 3
sr3 = SpawnRecord(entry_no=3, number_of_troops=1)
sr3.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr3.add_spawn_flag(SpawnFlag.TEAM_0)
sr3.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr3)
# spawn record 4
sr4 = SpawnRecord(entry_no=4, number_of_troops=1)
sr4.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr4.add_spawn_flag(SpawnFlag.TEAM_0)
sr4.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr4)
# spawn record 5
sr5 = SpawnRecord(entry_no=5, number_of_troops=1)
sr5.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr5.add_spawn_flag(SpawnFlag.TEAM_0)
sr5.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr5)
# spawn record 6
sr6 = SpawnRecord(entry_no=6, number_of_troops=1)
sr6.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr6.add_spawn_flag(SpawnFlag.TEAM_0)
sr6.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr6)
# spawn record 7
sr7 = SpawnRecord(entry_no=7, number_of_troops=1)
sr7.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr7.add_spawn_flag(SpawnFlag.TEAM_0)
sr7.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr7)
# spawn record 8
sr8 = SpawnRecord(entry_no=8, number_of_troops=1)
sr8.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr8.add_spawn_flag(SpawnFlag.TEAM_0)
sr8.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr8)
# spawn record 9
sr9 = SpawnRecord(entry_no=9, number_of_troops=1)
sr9.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr9.add_spawn_flag(SpawnFlag.TEAM_0)
sr9.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr9)
# spawn record 10
sr10 = SpawnRecord(entry_no=10, number_of_troops=1)
sr10.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr10.add_spawn_flag(SpawnFlag.TEAM_0)
sr10.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr10)
# spawn record 11
sr11 = SpawnRecord(entry_no=11, number_of_troops=1)
sr11.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr11.add_spawn_flag(SpawnFlag.TEAM_0)
sr11.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr11)
# spawn record 12
sr12 = SpawnRecord(entry_no=12, number_of_troops=1)
sr12.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr12.add_spawn_flag(SpawnFlag.TEAM_0)
sr12.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr12)
# spawn record 13
sr13 = SpawnRecord(entry_no=13, number_of_troops=1)
sr13.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr13.add_spawn_flag(SpawnFlag.TEAM_0)
sr13.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr13)
# spawn record 14
sr14 = SpawnRecord(entry_no=14, number_of_troops=1)
sr14.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr14.add_spawn_flag(SpawnFlag.TEAM_0)
sr14.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr14)
# spawn record 15
sr15 = SpawnRecord(entry_no=15, number_of_troops=1)
sr15.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr15.add_spawn_flag(SpawnFlag.TEAM_0)
sr15.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr15)
# spawn record 16
sr16 = SpawnRecord(entry_no=16, number_of_troops=1)
sr16.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr16.add_spawn_flag(SpawnFlag.TEAM_0)
sr16.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr16)
# spawn record 17
sr17 = SpawnRecord(entry_no=17, number_of_troops=1)
sr17.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr17.add_spawn_flag(SpawnFlag.TEAM_0)
sr17.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr17)
# spawn record 18
sr18 = SpawnRecord(entry_no=18, number_of_troops=1)
sr18.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr18.add_spawn_flag(SpawnFlag.TEAM_0)
sr18.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr18)
# spawn record 19
sr19 = SpawnRecord(entry_no=19, number_of_troops=1)
sr19.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr19.add_spawn_flag(SpawnFlag.TEAM_0)
sr19.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr19)
# spawn record 20
sr20 = SpawnRecord(entry_no=20, number_of_troops=1)
sr20.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr20.add_spawn_flag(SpawnFlag.TEAM_0)
sr20.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr20)
# spawn record 21
sr21 = SpawnRecord(entry_no=21, number_of_troops=1)
sr21.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr21.add_spawn_flag(SpawnFlag.TEAM_0)
sr21.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr21)
# spawn record 22
sr22 = SpawnRecord(entry_no=22, number_of_troops=1)
sr22.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr22.add_spawn_flag(SpawnFlag.TEAM_0)
sr22.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr22)
# spawn record 23
sr23 = SpawnRecord(entry_no=23, number_of_troops=1)
sr23.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr23.add_spawn_flag(SpawnFlag.TEAM_0)
sr23.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr23)
# spawn record 24
sr24 = SpawnRecord(entry_no=24, number_of_troops=1)
sr24.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr24.add_spawn_flag(SpawnFlag.TEAM_0)
sr24.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr24)
# spawn record 25
sr25 = SpawnRecord(entry_no=25, number_of_troops=1)
sr25.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr25.add_spawn_flag(SpawnFlag.TEAM_0)
sr25.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr25)
# spawn record 26
sr26 = SpawnRecord(entry_no=26, number_of_troops=1)
sr26.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr26.add_spawn_flag(SpawnFlag.TEAM_0)
sr26.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr26)
# spawn record 27
sr27 = SpawnRecord(entry_no=27, number_of_troops=1)
sr27.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr27.add_spawn_flag(SpawnFlag.TEAM_0)
sr27.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr27)
# spawn record 28
sr28 = SpawnRecord(entry_no=28, number_of_troops=1)
sr28.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr28.add_spawn_flag(SpawnFlag.TEAM_0)
sr28.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr28)
# spawn record 29
sr29 = SpawnRecord(entry_no=29, number_of_troops=1)
sr29.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr29.add_spawn_flag(SpawnFlag.TEAM_0)
sr29.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr29)
# spawn record 30
sr30 = SpawnRecord(entry_no=30, number_of_troops=1)
sr30.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr30.add_spawn_flag(SpawnFlag.TEAM_0)
sr30.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr30)
# spawn record 31
sr31 = SpawnRecord(entry_no=31, number_of_troops=1)
sr31.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr31.add_spawn_flag(SpawnFlag.TEAM_0)
sr31.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr31)
# spawn record 32
sr32 = SpawnRecord(entry_no=32, number_of_troops=1)
sr32.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr32.add_spawn_flag(SpawnFlag.TEAM_1)
sr32.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr32)
# spawn record 33
sr33 = SpawnRecord(entry_no=33, number_of_troops=1)
sr33.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr33.add_spawn_flag(SpawnFlag.TEAM_1)
sr33.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr33)
# spawn record 34
sr34 = SpawnRecord(entry_no=34, number_of_troops=1)
sr34.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr34.add_spawn_flag(SpawnFlag.TEAM_1)
sr34.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr34)
# spawn record 35
sr35 = SpawnRecord(entry_no=35, number_of_troops=1)
sr35.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr35.add_spawn_flag(SpawnFlag.TEAM_1)
sr35.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr35)
# spawn record 36
sr36 = SpawnRecord(entry_no=36, number_of_troops=1)
sr36.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr36.add_spawn_flag(SpawnFlag.TEAM_1)
sr36.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr36)
# spawn record 37
sr37 = SpawnRecord(entry_no=37, number_of_troops=1)
sr37.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr37.add_spawn_flag(SpawnFlag.TEAM_1)
sr37.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr37)
# spawn record 38
sr38 = SpawnRecord(entry_no=38, number_of_troops=1)
sr38.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr38.add_spawn_flag(SpawnFlag.TEAM_1)
sr38.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr38)
# spawn record 39
sr39 = SpawnRecord(entry_no=39, number_of_troops=1)
sr39.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr39.add_spawn_flag(SpawnFlag.TEAM_1)
sr39.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr39)
# spawn record 40
sr40 = SpawnRecord(entry_no=40, number_of_troops=1)
sr40.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr40.add_spawn_flag(SpawnFlag.TEAM_1)
sr40.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr40)
# spawn record 41
sr41 = SpawnRecord(entry_no=41, number_of_troops=1)
sr41.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr41.add_spawn_flag(SpawnFlag.TEAM_1)
sr41.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr41)
# spawn record 42
sr42 = SpawnRecord(entry_no=42, number_of_troops=1)
sr42.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr42.add_spawn_flag(SpawnFlag.TEAM_1)
sr42.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr42)
# spawn record 43
sr43 = SpawnRecord(entry_no=43, number_of_troops=1)
sr43.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr43.add_spawn_flag(SpawnFlag.TEAM_1)
sr43.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr43)
# spawn record 44
sr44 = SpawnRecord(entry_no=44, number_of_troops=1)
sr44.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr44.add_spawn_flag(SpawnFlag.TEAM_1)
sr44.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr44)
# spawn record 45
sr45 = SpawnRecord(entry_no=45, number_of_troops=1)
sr45.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr45.add_spawn_flag(SpawnFlag.TEAM_1)
sr45.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr45)
# spawn record 46
sr46 = SpawnRecord(entry_no=46, number_of_troops=1)
sr46.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr46.add_spawn_flag(SpawnFlag.TEAM_1)
sr46.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr46)
# spawn record 47
sr47 = SpawnRecord(entry_no=47, number_of_troops=1)
sr47.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr47.add_spawn_flag(SpawnFlag.TEAM_1)
sr47.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr47)
# spawn record 48
sr48 = SpawnRecord(entry_no=48, number_of_troops=1)
sr48.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr48.add_spawn_flag(SpawnFlag.TEAM_1)
sr48.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr48)
# spawn record 49
sr49 = SpawnRecord(entry_no=49, number_of_troops=1)
sr49.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr49.add_spawn_flag(SpawnFlag.TEAM_1)
sr49.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr49)
# spawn record 50
sr50 = SpawnRecord(entry_no=50, number_of_troops=1)
sr50.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr50.add_spawn_flag(SpawnFlag.TEAM_1)
sr50.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr50)
# spawn record 51
sr51 = SpawnRecord(entry_no=51, number_of_troops=1)
sr51.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr51.add_spawn_flag(SpawnFlag.TEAM_1)
sr51.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr51)
# spawn record 52
sr52 = SpawnRecord(entry_no=52, number_of_troops=1)
sr52.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr52.add_spawn_flag(SpawnFlag.TEAM_1)
sr52.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr52)
# spawn record 53
sr53 = SpawnRecord(entry_no=53, number_of_troops=1)
sr53.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr53.add_spawn_flag(SpawnFlag.TEAM_1)
sr53.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr53)
# spawn record 54
sr54 = SpawnRecord(entry_no=54, number_of_troops=1)
sr54.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr54.add_spawn_flag(SpawnFlag.TEAM_1)
sr54.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr54)
# spawn record 55
sr55 = SpawnRecord(entry_no=55, number_of_troops=1)
sr55.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr55.add_spawn_flag(SpawnFlag.TEAM_1)
sr55.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr55)
# spawn record 56
sr56 = SpawnRecord(entry_no=56, number_of_troops=1)
sr56.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr56.add_spawn_flag(SpawnFlag.TEAM_1)
sr56.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr56)
# spawn record 57
sr57 = SpawnRecord(entry_no=57, number_of_troops=1)
sr57.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr57.add_spawn_flag(SpawnFlag.TEAM_1)
sr57.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr57)
# spawn record 58
sr58 = SpawnRecord(entry_no=58, number_of_troops=1)
sr58.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr58.add_spawn_flag(SpawnFlag.TEAM_1)
sr58.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr58)
# spawn record 59
sr59 = SpawnRecord(entry_no=59, number_of_troops=1)
sr59.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr59.add_spawn_flag(SpawnFlag.TEAM_1)
sr59.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr59)
# spawn record 60
sr60 = SpawnRecord(entry_no=60, number_of_troops=1)
sr60.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr60.add_spawn_flag(SpawnFlag.TEAM_1)
sr60.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr60)
# spawn record 61
sr61 = SpawnRecord(entry_no=61, number_of_troops=1)
sr61.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr61.add_spawn_flag(SpawnFlag.TEAM_1)
sr61.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr61)
# spawn record 62
sr62 = SpawnRecord(entry_no=62, number_of_troops=1)
sr62.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr62.add_spawn_flag(SpawnFlag.TEAM_1)
sr62.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr62)
# spawn record 63
sr63 = SpawnRecord(entry_no=63, number_of_troops=1)
sr63.add_spawn_flag(SpawnFlag.VISITOR_SOURCE)
sr63.add_spawn_flag(SpawnFlag.TEAM_1)
sr63.add_ai_flag(AIFlag.START_ALARMED)
multiplayer_duel.addSpawnRecord(sr63)
# ---
# trigger 0
trigger0 = Trigger(1.000000, 5.000000, 0.000000)
def condition():
    if multiplayer_is_server() and _g_multiplayer_poll_running == 1 and _g_multiplayer_poll_ended == 0:
        m_timer_a_001 = store_mission_timer_a()
        if var002 == _g_multiplayer_poll_num_sent or m_timer_a_001 > _g_multiplayer_poll_end_time and cf_multiplayer_evaluate_poll():
            var002 = _g_multiplayer_poll_no_count + _g_multiplayer_poll_yes_count
trigger0.conditionBlock = condition

def code():
    _g_multiplayer_poll_to_show_list1 = [
    3,
    0,
    ]
    _g_multiplayer_poll_running = 0
    if _g_multiplayer_poll_to_show in _g_multiplayer_poll_to_show_list1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_poll_value_to_show,1)
        game_set_multiplayer_mission_end()
    #end
trigger0.codeBlock = code
multiplayer_duel.add_trigger(trigger0)
# trigger 1
trigger1 = Trigger(-25.000000, 0.000000, 0.000000)
def condition():
    pass
trigger1.conditionBlock = condition

def code(var001):
    multiplayer_server_on_agent_spawn_common(var001)
trigger1.codeBlock = code
multiplayer_duel.add_trigger(trigger1)
# trigger 2
trigger2 = Trigger(-15.000000, 0.000000, 0.000000)
def condition():
    pass
trigger2.conditionBlock = condition

def code(var001):
    multiplayer_server_player_joined_common(var001)
trigger2.codeBlock = code
multiplayer_duel.add_trigger(trigger2)
# trigger 3
trigger3 = Trigger(-19.000000, 0.000000, 0.000000)
def condition():
    pass
trigger3.conditionBlock = condition

def code():
    _g_multiplayer_game_type = 7
    multiplayer_server_before_mission_start_common()
    team_set_relation(0,0,1)
    team_set_relation(0,1,1)
    team_set_relation(1,1,1)
    mission_set_duel_mode(1)
    multiplayer_init_mission_variables()
    multiplayer_remove_destroy_mod_targets()
    multiplayer_remove_headquarters_flags()
trigger3.codeBlock = code
multiplayer_duel.add_trigger(trigger3)
# trigger 4
trigger4 = Trigger(-20.000000, 0.000000, 0.000000)
def condition():
    pass
trigger4.conditionBlock = condition

def code():
    set_spawn_effector_scene_prop_kind(0,-1)
    set_spawn_effector_scene_prop_kind(1,-1)
    initialize_all_scene_prop_slots()
    multiplayer_move_moveable_objects_initial_positions()
    _g_multiplayer_ready_for_spawning_agent = 1
trigger4.codeBlock = code
multiplayer_duel.add_trigger(trigger4)
# trigger 5
trigger5 = Trigger(-16.000000, 0.000000, 0.000000)
def condition():
    pass
trigger5.conditionBlock = condition

def code():
    multiplayer_event_mission_end()
    _g_multiplayer_stats_chart_opened_manually = 0
    start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
trigger5.codeBlock = code
multiplayer_duel.add_trigger(trigger5)
# trigger 6
trigger6 = Trigger(-26.000000, 0.000000, 0.000000)
def condition():
    pass
trigger6.conditionBlock = condition

def code(agent_id_001, var002):
    multiplayer_server_on_agent_killed_or_wounded_common(agent_id_001,var002)
    if True:
        agent_no_003 = get_player_agent_no()
        if agent_is_active(agent_no_003) and agent_slot_ge(agent_no_003,21,0):
            if agent_id_001 == agent_no_003:
                print(gstr.you_have_lost_a_duel)
            elif agent_slot_eq(agent_no_003,21,agent_id_001):
                print(gstr.you_have_won_a_duel)
            #end
        #end
    #end
    if agent_slot_ge(agent_id_001,21,0):
        agent_slot_004 = agent_get_slot(agent_id_001,21)
        agent_set_slot(agent_id_001,21,-1)
        if agent_is_active(agent_slot_004):
            agent_set_slot(agent_slot_004,21,-1)
            agent_clear_relations_with_agents(agent_slot_004)
            if True:
                agent_player_id_005 = agent_get_player_id(agent_slot_004)
                if not player_is_active(agent_player_id_005):
                    agent_force_rethink(agent_slot_004)
                #end
            #end
        #end
    #end
trigger6.codeBlock = code
multiplayer_duel.add_trigger(trigger6)
# trigger 7
trigger7 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger7.conditionBlock = condition

def code():
    if multiplayer_is_server():
        max_players = get_max_players()
        for player_id_002 in range(0, max_players):
            if player_is_active(player_id_002) and not player_is_busy_with_menus(player_id_002):
                team_no_003 = player_get_team_no(player_id_002)
                if team_no_003 < 2:
                    troop_id_004 = player_get_troop_id(player_id_002)
                    if troop_id_004 >= 0:
                        agent_id_005 = player_get_agent_id(player_id_002)
                        var006 = 0
                        if True:
                            player_slot_007 = player_get_slot(player_id_002,24)
                            if player_slot_007 == 1:
                                var006 = 1
                                player_set_slot(player_id_002,24,0)
                            else:
                                if agent_id_005 < 0:
                                    var006 = 1
                                elif not agent_is_alive(agent_id_005):
                                    agent_time_since_removed_008 = agent_get_time_elapsed_since_removed(agent_id_005)
                                    if agent_time_since_removed_008 > _g_multiplayer_respawn_period:
                                        var006 = 1
                                    #end
                                #end
                            #end
                        #end
                    #end
                #end
            #end
        #end
        if var006 == 1:
            multiplayer_buy_agent_equipment(player_id_002)
            troop_inv_slot_009 = troop_get_inventory_slot(troop_id_004,8)
            if troop_inv_slot_009 >= 0:
                var010 = 1
            else:
                var010 = 0
            #end
        #end
        multiplayer_find_spawn_point(team_no_003,0,var010)
        player_spawn_new_agent(player_id_002,reg0)
    #end
trigger7.codeBlock = code
multiplayer_duel.add_trigger(trigger7)
# trigger 8
trigger8 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger8.conditionBlock = condition

def code():
    if multiplayer_is_server():
        m_timer_a_001 = store_mission_timer_a()
        if m_timer_a_001 >= 2:
            var002 = 0
            var003 = 0
            for cur_agent in __all_agents__:
                if agent_is_non_player(cur_agent) and agent_is_human(cur_agent):
                    var005 = 0
                    if agent_is_alive(cur_agent):
                        var005 = 1
                    else:
                        agent_time_since_removed_006 = agent_get_time_elapsed_since_removed(cur_agent)
                        if agent_time_since_removed_006 <= _g_multiplayer_respawn_period:
                            var005 = 1
                        #end
                    #end
                #end
            #end
        #end
        if var005 == 1:
            agent_team_no_007 = agent_get_team(cur_agent)
            if agent_team_no_007 == 0:
                var002 += 1
            elif agent_team_no_007 == 1:
                var003 += 1
            #end
        #end
    #end
    _g_multiplayer_num_bots_required_team_1 = _g_multiplayer_num_bots_team_1 - var002
    _g_multiplayer_num_bots_required_team_2 = _g_multiplayer_num_bots_team_2 - var003
    val_max(_g_multiplayer_num_bots_required_team_1,0)
    val_max(_g_multiplayer_num_bots_required_team_2,0)
trigger8.codeBlock = code
multiplayer_duel.add_trigger(trigger8)
# trigger 9
trigger9 = Trigger(0.000000, 0.000000, 0.000000)
def condition():
    pass
trigger9.conditionBlock = condition

def code():
    if multiplayer_is_server() and _g_multiplayer_ready_for_spawning_agent == 1:
        var001 = _g_multiplayer_num_bots_required_team_1 + _g_multiplayer_num_bots_required_team_2
        if var001 > 0:
            random_x_002 = store_random_in_range(0,var001)
            random_x_002 -= _g_multiplayer_num_bots_required_team_1
            if random_x_002 < 0:
                team_id_003 = 0
                _g_multiplayer_num_bots_required_team_1 -= 1
            else:
                team_id_003 = 1
                _g_multiplayer_num_bots_required_team_2 -= 1
            #end
        #end
        team_faction_004 = team_get_faction(team_id_003)
        var005 = 0
        for trp_006 in range(trp.swadian_crossbowman_multiplayer_ai, trp.swadian_crossbowman_multiplayer):
            troop_faction_007 = store_faction_of_troop(trp_006)
            if troop_faction_007 == team_faction_004:
                var005 += 1
            #end
        #end
        random_x_008 = store_random_in_range(0,var005)
        var009 = trp.swadian_crossbowman_multiplayer
        for trp_006 in range(trp.swadian_crossbowman_multiplayer_ai, var009):
            troop_faction_007 = store_faction_of_troop(trp_006)
            if troop_faction_007 == team_faction_004:
                random_x_008 -= 1
                if random_x_008 < 0:
                    var009 = 0
                    troop_id_010 = trp_006
                #end
            #end
        #end
        troop_inv_slot_011 = troop_get_inventory_slot(troop_id_010,8)
        if troop_inv_slot_011 >= 0:
            var012 = 1
        else:
            var012 = 0
        #end
        multiplayer_find_spawn_point(team_id_003,0,var012)
        cur_scene_013 = store_current_scene()
        modify_visitors_at_site(cur_scene_013)
        add_visitors_to_current_scene(reg0,troop_id_010,1,team_id_003,-1)
        _g_multiplayer_ready_for_spawning_agent = 0
    #end
trigger9.codeBlock = code
multiplayer_duel.add_trigger(trigger9)
# trigger 10
trigger10 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger10.conditionBlock = condition

def code():
    if multiplayer_is_server():
        var001 = 0
        if True:
            m_timer_a_002 = store_mission_timer_a()
            var003 = _g_multiplayer_game_max_minutes * 60
            if m_timer_a_002 > var003:
                var001 = 1
            #end
        #end
    #end
    if var001 == 1:
        game_multiplayer_get_game_type_mission_template(_g_multiplayer_game_type)
        start_multiplayer_mission(reg0,_g_multiplayer_selected_map,0)
        game_set_multiplayer_mission_end()
    #end
trigger10.codeBlock = code
multiplayer_duel.add_trigger(trigger10)
# trigger 11
trigger11 = Trigger(-21.000000, 0.000000, 0.000000)
def condition():
    pass
trigger11.conditionBlock = condition

def code():
    if _g_multiplayer_mission_end_screen == 0:
        _g_multiplayer_stats_chart_opened_manually = 1
        start_presentation(prsnt.multiplayer_stats_chart_deathmatch)
    #end
trigger11.codeBlock = code
multiplayer_duel.add_trigger(trigger11)
# trigger 12
trigger12 = Trigger(0.000000, 0.000000, 100000000.000000)
def condition():
    pass
trigger12.conditionBlock = condition

def code():
    start_presentation(prsnt.multiplayer_welcome_message)
trigger12.codeBlock = code
multiplayer_duel.add_trigger(trigger12)
# trigger 13
trigger13 = Trigger(-23.000000, 0.000000, 0.000000)
def condition():
    pass
trigger13.conditionBlock = condition

def code():
    if not is_presentation_active(prsnt.multiplayer_escape_menu) and not is_presentation_active(prsnt.multiplayer_stats_chart_deathmatch) and _g_waiting_for_confirmation_to_terminate == 0:
        start_presentation(prsnt.multiplayer_escape_menu)
trigger13.codeBlock = code
multiplayer_duel.add_trigger(trigger13)
# trigger 14
trigger14 = Trigger(1.000000, 0.000000, 0.000000)
def condition():
    pass
trigger14.conditionBlock = condition

def code():
    m_timer_a_001 = store_mission_timer_a()
    var002 = m_timer_a_001 - 3
    for cur_agent in __all_agents__:
        if agent_slot_ge(cur_agent,21,0):
            agent_slot_004 = agent_get_slot(cur_agent,22)
            if agent_slot_004 >= 0 and agent_slot_004 <= var002:
                agent_set_slot(cur_agent,22,-1)
                agent_slot_005 = agent_get_slot(cur_agent,21)
                if agent_is_active(agent_slot_005):
                    agent_add_relation_with_agent(cur_agent,agent_slot_005,-1)
                    agent_force_rethink(cur_agent)
                #end
            #end
        #end
    #end
trigger14.codeBlock = code
multiplayer_duel.add_trigger(trigger14)


